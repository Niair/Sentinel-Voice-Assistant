"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@ai-sdk+ui-utils@0.0.50_zod@3.25.76";
exports.ids = ["vendor-chunks/@ai-sdk+ui-utils@0.0.50_zod@3.25.76"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@ai-sdk+ui-utils@0.0.50_zod@3.25.76/node_modules/@ai-sdk/ui-utils/dist/index.mjs":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ai-sdk+ui-utils@0.0.50_zod@3.25.76/node_modules/@ai-sdk/ui-utils/dist/index.mjs ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asSchema: () => (/* binding */ asSchema),\n/* harmony export */   callChatApi: () => (/* binding */ callChatApi),\n/* harmony export */   callCompletionApi: () => (/* binding */ callCompletionApi),\n/* harmony export */   createChunkDecoder: () => (/* binding */ createChunkDecoder),\n/* harmony export */   formatStreamPart: () => (/* binding */ formatStreamPart),\n/* harmony export */   generateId: () => (/* reexport safe */ _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.generateId),\n/* harmony export */   getTextFromDataUrl: () => (/* binding */ getTextFromDataUrl),\n/* harmony export */   isDeepEqualData: () => (/* binding */ isDeepEqualData),\n/* harmony export */   jsonSchema: () => (/* binding */ jsonSchema),\n/* harmony export */   parsePartialJson: () => (/* binding */ parsePartialJson),\n/* harmony export */   parseStreamPart: () => (/* binding */ parseStreamPart),\n/* harmony export */   processChatStream: () => (/* binding */ processChatStream),\n/* harmony export */   processDataProtocolResponse: () => (/* binding */ processDataProtocolResponse),\n/* harmony export */   readDataStream: () => (/* binding */ readDataStream),\n/* harmony export */   zodSchema: () => (/* binding */ zodSchema)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/provider-utils */ \"(ssr)/./node_modules/.pnpm/@ai-sdk+provider-utils@1.0.22_zod@3.25.76/node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var secure_json_parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! secure-json-parse */ \"(ssr)/./node_modules/.pnpm/secure-json-parse@2.7.0/node_modules/secure-json-parse/index.js\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod-to-json-schema */ \"(ssr)/./node_modules/.pnpm/zod-to-json-schema@3.25.1_zod@3.25.76/node_modules/zod-to-json-schema/dist/esm/index.js\");\n// src/index.ts\n\n// src/process-data-protocol-response.ts\n\n// src/parse-partial-json.ts\n\n// src/fix-json.ts\nfunction fixJson(input) {\n    const stack = [\n        \"ROOT\"\n    ];\n    let lastValidIndex = -1;\n    let literalStart = null;\n    function processValueStart(char, i, swapState) {\n        {\n            switch(char){\n                case '\"':\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_STRING\");\n                        break;\n                    }\n                case \"f\":\n                case \"t\":\n                case \"n\":\n                    {\n                        lastValidIndex = i;\n                        literalStart = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_LITERAL\");\n                        break;\n                    }\n                case \"-\":\n                    {\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"0\":\n                case \"1\":\n                case \"2\":\n                case \"3\":\n                case \"4\":\n                case \"5\":\n                case \"6\":\n                case \"7\":\n                case \"8\":\n                case \"9\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"{\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_OBJECT_START\");\n                        break;\n                    }\n                case \"[\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_ARRAY_START\");\n                        break;\n                    }\n            }\n        }\n    }\n    function processAfterObjectValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_OBJECT_AFTER_COMMA\");\n                    break;\n                }\n            case \"}\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    function processAfterArrayValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                    break;\n                }\n            case \"]\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    for(let i = 0; i < input.length; i++){\n        const char = input[i];\n        const currentState = stack[stack.length - 1];\n        switch(currentState){\n            case \"ROOT\":\n                processValueStart(char, i, \"FINISH\");\n                break;\n            case \"INSIDE_OBJECT_START\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_AFTER_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n                {\n                    switch(char){\n                        case \":\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_BEFORE_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n                {\n                    processValueStart(char, i, \"INSIDE_OBJECT_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    processAfterObjectValue(char, i);\n                    break;\n                }\n            case \"INSIDE_STRING\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"\\\\\":\n                            {\n                                stack.push(\"INSIDE_STRING_ESCAPE\");\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n                {\n                    switch(char){\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    switch(char){\n                        case \",\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n                {\n                    processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_STRING_ESCAPE\":\n                {\n                    stack.pop();\n                    lastValidIndex = i;\n                    break;\n                }\n            case \"INSIDE_NUMBER\":\n                {\n                    switch(char){\n                        case \"0\":\n                        case \"1\":\n                        case \"2\":\n                        case \"3\":\n                        case \"4\":\n                        case \"5\":\n                        case \"6\":\n                        case \"7\":\n                        case \"8\":\n                        case \"9\":\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"e\":\n                        case \"E\":\n                        case \"-\":\n                        case \".\":\n                            {\n                                break;\n                            }\n                        case \",\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                break;\n                            }\n                        default:\n                            {\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, i + 1);\n                    if (!\"false\".startsWith(partialLiteral) && !\"true\".startsWith(partialLiteral) && !\"null\".startsWith(partialLiteral)) {\n                        stack.pop();\n                        if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                            processAfterObjectValue(char, i);\n                        } else if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                            processAfterArrayValue(char, i);\n                        }\n                    } else {\n                        lastValidIndex = i;\n                    }\n                    break;\n                }\n        }\n    }\n    let result = input.slice(0, lastValidIndex + 1);\n    for(let i = stack.length - 1; i >= 0; i--){\n        const state = stack[i];\n        switch(state){\n            case \"INSIDE_STRING\":\n                {\n                    result += '\"';\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n            case \"INSIDE_OBJECT_START\":\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    result += \"}\";\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    result += \"]\";\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, input.length);\n                    if (\"true\".startsWith(partialLiteral)) {\n                        result += \"true\".slice(partialLiteral.length);\n                    } else if (\"false\".startsWith(partialLiteral)) {\n                        result += \"false\".slice(partialLiteral.length);\n                    } else if (\"null\".startsWith(partialLiteral)) {\n                        result += \"null\".slice(partialLiteral.length);\n                    }\n                }\n        }\n    }\n    return result;\n}\n// src/parse-partial-json.ts\nfunction parsePartialJson(jsonText) {\n    if (jsonText === void 0) {\n        return {\n            value: void 0,\n            state: \"undefined-input\"\n        };\n    }\n    try {\n        return {\n            value: secure_json_parse__WEBPACK_IMPORTED_MODULE_0__.parse(jsonText),\n            state: \"successful-parse\"\n        };\n    } catch (ignored) {\n        try {\n            return {\n                value: secure_json_parse__WEBPACK_IMPORTED_MODULE_0__.parse(fixJson(jsonText)),\n                state: \"repaired-parse\"\n            };\n        } catch (ignored2) {}\n    }\n    return {\n        value: void 0,\n        state: \"failed-parse\"\n    };\n}\n// src/stream-parts.ts\nvar textStreamPart = {\n    code: \"0\",\n    name: \"text\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"text\" parts expect a string value.');\n        }\n        return {\n            type: \"text\",\n            value\n        };\n    }\n};\nvar functionCallStreamPart = {\n    code: \"1\",\n    name: \"function_call\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"function_call\" in value) || typeof value.function_call !== \"object\" || value.function_call == null || !(\"name\" in value.function_call) || !(\"arguments\" in value.function_call) || typeof value.function_call.name !== \"string\" || typeof value.function_call.arguments !== \"string\") {\n            throw new Error('\"function_call\" parts expect an object with a \"function_call\" property.');\n        }\n        return {\n            type: \"function_call\",\n            value\n        };\n    }\n};\nvar dataStreamPart = {\n    code: \"2\",\n    name: \"data\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"data\" parts expect an array value.');\n        }\n        return {\n            type: \"data\",\n            value\n        };\n    }\n};\nvar errorStreamPart = {\n    code: \"3\",\n    name: \"error\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"error\" parts expect a string value.');\n        }\n        return {\n            type: \"error\",\n            value\n        };\n    }\n};\nvar assistantMessageStreamPart = {\n    code: \"4\",\n    name: \"assistant_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"id\" in value) || !(\"role\" in value) || !(\"content\" in value) || typeof value.id !== \"string\" || typeof value.role !== \"string\" || value.role !== \"assistant\" || !Array.isArray(value.content) || !value.content.every((item)=>item != null && typeof item === \"object\" && \"type\" in item && item.type === \"text\" && \"text\" in item && item.text != null && typeof item.text === \"object\" && \"value\" in item.text && typeof item.text.value === \"string\")) {\n            throw new Error('\"assistant_message\" parts expect an object with an \"id\", \"role\", and \"content\" property.');\n        }\n        return {\n            type: \"assistant_message\",\n            value\n        };\n    }\n};\nvar assistantControlDataStreamPart = {\n    code: \"5\",\n    name: \"assistant_control_data\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"threadId\" in value) || !(\"messageId\" in value) || typeof value.threadId !== \"string\" || typeof value.messageId !== \"string\") {\n            throw new Error('\"assistant_control_data\" parts expect an object with a \"threadId\" and \"messageId\" property.');\n        }\n        return {\n            type: \"assistant_control_data\",\n            value: {\n                threadId: value.threadId,\n                messageId: value.messageId\n            }\n        };\n    }\n};\nvar dataMessageStreamPart = {\n    code: \"6\",\n    name: \"data_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"role\" in value) || !(\"data\" in value) || typeof value.role !== \"string\" || value.role !== \"data\") {\n            throw new Error('\"data_message\" parts expect an object with a \"role\" and \"data\" property.');\n        }\n        return {\n            type: \"data_message\",\n            value\n        };\n    }\n};\nvar toolCallsStreamPart = {\n    code: \"7\",\n    name: \"tool_calls\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"tool_calls\" in value) || typeof value.tool_calls !== \"object\" || value.tool_calls == null || !Array.isArray(value.tool_calls) || value.tool_calls.some((tc)=>tc == null || typeof tc !== \"object\" || !(\"id\" in tc) || typeof tc.id !== \"string\" || !(\"type\" in tc) || typeof tc.type !== \"string\" || !(\"function\" in tc) || tc.function == null || typeof tc.function !== \"object\" || !(\"arguments\" in tc.function) || typeof tc.function.name !== \"string\" || typeof tc.function.arguments !== \"string\")) {\n            throw new Error('\"tool_calls\" parts expect an object with a ToolCallPayload.');\n        }\n        return {\n            type: \"tool_calls\",\n            value\n        };\n    }\n};\nvar messageAnnotationsStreamPart = {\n    code: \"8\",\n    name: \"message_annotations\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"message_annotations\" parts expect an array value.');\n        }\n        return {\n            type: \"message_annotations\",\n            value\n        };\n    }\n};\nvar toolCallStreamPart = {\n    code: \"9\",\n    name: \"tool_call\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\" || !(\"args\" in value) || typeof value.args !== \"object\") {\n            throw new Error('\"tool_call\" parts expect an object with a \"toolCallId\", \"toolName\", and \"args\" property.');\n        }\n        return {\n            type: \"tool_call\",\n            value\n        };\n    }\n};\nvar toolResultStreamPart = {\n    code: \"a\",\n    name: \"tool_result\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"result\" in value)) {\n            throw new Error('\"tool_result\" parts expect an object with a \"toolCallId\" and a \"result\" property.');\n        }\n        return {\n            type: \"tool_result\",\n            value\n        };\n    }\n};\nvar toolCallStreamingStartStreamPart = {\n    code: \"b\",\n    name: \"tool_call_streaming_start\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\") {\n            throw new Error('\"tool_call_streaming_start\" parts expect an object with a \"toolCallId\" and \"toolName\" property.');\n        }\n        return {\n            type: \"tool_call_streaming_start\",\n            value\n        };\n    }\n};\nvar toolCallDeltaStreamPart = {\n    code: \"c\",\n    name: \"tool_call_delta\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"argsTextDelta\" in value) || typeof value.argsTextDelta !== \"string\") {\n            throw new Error('\"tool_call_delta\" parts expect an object with a \"toolCallId\" and \"argsTextDelta\" property.');\n        }\n        return {\n            type: \"tool_call_delta\",\n            value\n        };\n    }\n};\nvar finishMessageStreamPart = {\n    code: \"d\",\n    name: \"finish_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_message\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        return {\n            type: \"finish_message\",\n            value: result\n        };\n    }\n};\nvar finishStepStreamPart = {\n    code: \"e\",\n    name: \"finish_step\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_step\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason,\n            isContinued: false\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        if (\"isContinued\" in value && typeof value.isContinued === \"boolean\") {\n            result.isContinued = value.isContinued;\n        }\n        return {\n            type: \"finish_step\",\n            value: result\n        };\n    }\n};\nvar streamParts = [\n    textStreamPart,\n    functionCallStreamPart,\n    dataStreamPart,\n    errorStreamPart,\n    assistantMessageStreamPart,\n    assistantControlDataStreamPart,\n    dataMessageStreamPart,\n    toolCallsStreamPart,\n    messageAnnotationsStreamPart,\n    toolCallStreamPart,\n    toolResultStreamPart,\n    toolCallStreamingStartStreamPart,\n    toolCallDeltaStreamPart,\n    finishMessageStreamPart,\n    finishStepStreamPart\n];\nvar streamPartsByCode = {\n    [textStreamPart.code]: textStreamPart,\n    [functionCallStreamPart.code]: functionCallStreamPart,\n    [dataStreamPart.code]: dataStreamPart,\n    [errorStreamPart.code]: errorStreamPart,\n    [assistantMessageStreamPart.code]: assistantMessageStreamPart,\n    [assistantControlDataStreamPart.code]: assistantControlDataStreamPart,\n    [dataMessageStreamPart.code]: dataMessageStreamPart,\n    [toolCallsStreamPart.code]: toolCallsStreamPart,\n    [messageAnnotationsStreamPart.code]: messageAnnotationsStreamPart,\n    [toolCallStreamPart.code]: toolCallStreamPart,\n    [toolResultStreamPart.code]: toolResultStreamPart,\n    [toolCallStreamingStartStreamPart.code]: toolCallStreamingStartStreamPart,\n    [toolCallDeltaStreamPart.code]: toolCallDeltaStreamPart,\n    [finishMessageStreamPart.code]: finishMessageStreamPart,\n    [finishStepStreamPart.code]: finishStepStreamPart\n};\nvar StreamStringPrefixes = {\n    [textStreamPart.name]: textStreamPart.code,\n    [functionCallStreamPart.name]: functionCallStreamPart.code,\n    [dataStreamPart.name]: dataStreamPart.code,\n    [errorStreamPart.name]: errorStreamPart.code,\n    [assistantMessageStreamPart.name]: assistantMessageStreamPart.code,\n    [assistantControlDataStreamPart.name]: assistantControlDataStreamPart.code,\n    [dataMessageStreamPart.name]: dataMessageStreamPart.code,\n    [toolCallsStreamPart.name]: toolCallsStreamPart.code,\n    [messageAnnotationsStreamPart.name]: messageAnnotationsStreamPart.code,\n    [toolCallStreamPart.name]: toolCallStreamPart.code,\n    [toolResultStreamPart.name]: toolResultStreamPart.code,\n    [toolCallStreamingStartStreamPart.name]: toolCallStreamingStartStreamPart.code,\n    [toolCallDeltaStreamPart.name]: toolCallDeltaStreamPart.code,\n    [finishMessageStreamPart.name]: finishMessageStreamPart.code,\n    [finishStepStreamPart.name]: finishStepStreamPart.code\n};\nvar validCodes = streamParts.map((part)=>part.code);\nvar parseStreamPart = (line)=>{\n    const firstSeparatorIndex = line.indexOf(\":\");\n    if (firstSeparatorIndex === -1) {\n        throw new Error(\"Failed to parse stream string. No separator found.\");\n    }\n    const prefix = line.slice(0, firstSeparatorIndex);\n    if (!validCodes.includes(prefix)) {\n        throw new Error(`Failed to parse stream string. Invalid code ${prefix}.`);\n    }\n    const code = prefix;\n    const textValue = line.slice(firstSeparatorIndex + 1);\n    const jsonValue = JSON.parse(textValue);\n    return streamPartsByCode[code].parse(jsonValue);\n};\nfunction formatStreamPart(type, value) {\n    const streamPart = streamParts.find((part)=>part.name === type);\n    if (!streamPart) {\n        throw new Error(`Invalid stream part type: ${type}`);\n    }\n    return `${streamPart.code}:${JSON.stringify(value)}\n`;\n}\n// src/read-data-stream.ts\nvar NEWLINE = \"\\n\".charCodeAt(0);\nfunction concatChunks(chunks, totalLength) {\n    const concatenatedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks){\n        concatenatedChunks.set(chunk, offset);\n        offset += chunk.length;\n    }\n    chunks.length = 0;\n    return concatenatedChunks;\n}\nasync function* readDataStream(reader, { isAborted } = {}) {\n    const decoder = new TextDecoder();\n    const chunks = [];\n    let totalLength = 0;\n    while(true){\n        const { value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            totalLength += value.length;\n            if (value[value.length - 1] !== NEWLINE) {\n                continue;\n            }\n        }\n        if (chunks.length === 0) {\n            break;\n        }\n        const concatenatedChunks = concatChunks(chunks, totalLength);\n        totalLength = 0;\n        const streamParts2 = decoder.decode(concatenatedChunks, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\").map(parseStreamPart);\n        for (const streamPart of streamParts2){\n            yield streamPart;\n        }\n        if (isAborted == null ? void 0 : isAborted()) {\n            reader.cancel();\n            break;\n        }\n    }\n}\n// src/process-data-protocol-response.ts\nfunction assignAnnotationsToMessage(message, annotations) {\n    if (!message || !annotations || !annotations.length) return message;\n    return {\n        ...message,\n        annotations: [\n            ...annotations\n        ]\n    };\n}\nasync function processDataProtocolResponse({ reader, abortControllerRef, update, onToolCall, onFinish, generateId: generateId2 = _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.generateId, getCurrentDate = ()=>/* @__PURE__ */ new Date() }) {\n    var _a;\n    const createdAt = getCurrentDate();\n    let prefixMap = {};\n    let nextPrefixMap = void 0;\n    const previousMessages = [];\n    const data = [];\n    let messageAnnotations = void 0;\n    const partialToolCalls = {};\n    let usage = {\n        completionTokens: NaN,\n        promptTokens: NaN,\n        totalTokens: NaN\n    };\n    let finishReason = \"unknown\";\n    for await (const { type, value } of readDataStream(reader, {\n        isAborted: ()=>(abortControllerRef == null ? void 0 : abortControllerRef.current) === null\n    })){\n        if (type === \"error\") {\n            throw new Error(value);\n        }\n        if (type === \"finish_step\") {\n            if (!value.isContinued) {\n                nextPrefixMap = {};\n            }\n            continue;\n        }\n        if (type === \"finish_message\") {\n            finishReason = value.finishReason;\n            if (value.usage != null) {\n                const { completionTokens, promptTokens } = value.usage;\n                usage = {\n                    completionTokens,\n                    promptTokens,\n                    totalTokens: completionTokens + promptTokens\n                };\n            }\n            continue;\n        }\n        if (nextPrefixMap != null && (type === \"text\" || type === \"tool_call\" || type === \"tool_call_streaming_start\" || type === \"tool_call_delta\" || type === \"tool_result\")) {\n            if (prefixMap.text) {\n                previousMessages.push(prefixMap.text);\n            }\n            if (prefixMap.function_call) {\n                previousMessages.push(prefixMap.function_call);\n            }\n            if (prefixMap.tool_calls) {\n                previousMessages.push(prefixMap.tool_calls);\n            }\n            prefixMap = nextPrefixMap;\n            nextPrefixMap = void 0;\n        }\n        if (type === \"text\") {\n            if (prefixMap[\"text\"]) {\n                prefixMap[\"text\"] = {\n                    ...prefixMap[\"text\"],\n                    content: (prefixMap[\"text\"].content || \"\") + value\n                };\n            } else {\n                prefixMap[\"text\"] = {\n                    id: generateId2(),\n                    role: \"assistant\",\n                    content: value,\n                    createdAt\n                };\n            }\n        }\n        if (type === \"tool_call_streaming_start\") {\n            if (prefixMap.text == null) {\n                prefixMap.text = {\n                    id: generateId2(),\n                    role: \"assistant\",\n                    content: \"\",\n                    createdAt\n                };\n            }\n            if (prefixMap.text.toolInvocations == null) {\n                prefixMap.text.toolInvocations = [];\n            }\n            partialToolCalls[value.toolCallId] = {\n                text: \"\",\n                toolName: value.toolName,\n                prefixMapIndex: prefixMap.text.toolInvocations.length\n            };\n            prefixMap.text.toolInvocations.push({\n                state: \"partial-call\",\n                toolCallId: value.toolCallId,\n                toolName: value.toolName,\n                args: void 0\n            });\n        } else if (type === \"tool_call_delta\") {\n            const partialToolCall = partialToolCalls[value.toolCallId];\n            partialToolCall.text += value.argsTextDelta;\n            const { value: partialArgs } = parsePartialJson(partialToolCall.text);\n            prefixMap.text.toolInvocations[partialToolCall.prefixMapIndex] = {\n                state: \"partial-call\",\n                toolCallId: value.toolCallId,\n                toolName: partialToolCall.toolName,\n                args: partialArgs\n            };\n            prefixMap.text.internalUpdateId = generateId2();\n        } else if (type === \"tool_call\") {\n            if (partialToolCalls[value.toolCallId] != null) {\n                prefixMap.text.toolInvocations[partialToolCalls[value.toolCallId].prefixMapIndex] = {\n                    state: \"call\",\n                    ...value\n                };\n            } else {\n                if (prefixMap.text == null) {\n                    prefixMap.text = {\n                        id: generateId2(),\n                        role: \"assistant\",\n                        content: \"\",\n                        createdAt\n                    };\n                }\n                if (prefixMap.text.toolInvocations == null) {\n                    prefixMap.text.toolInvocations = [];\n                }\n                prefixMap.text.toolInvocations.push({\n                    state: \"call\",\n                    ...value\n                });\n            }\n            prefixMap.text.internalUpdateId = generateId2();\n            if (onToolCall) {\n                const result = await onToolCall({\n                    toolCall: value\n                });\n                if (result != null) {\n                    prefixMap.text.toolInvocations[prefixMap.text.toolInvocations.length - 1] = {\n                        state: \"result\",\n                        ...value,\n                        result\n                    };\n                }\n            }\n        } else if (type === \"tool_result\") {\n            const toolInvocations = (_a = prefixMap.text) == null ? void 0 : _a.toolInvocations;\n            if (toolInvocations == null) {\n                throw new Error(\"tool_result must be preceded by a tool_call\");\n            }\n            const toolInvocationIndex = toolInvocations.findIndex((invocation)=>invocation.toolCallId === value.toolCallId);\n            if (toolInvocationIndex === -1) {\n                throw new Error(\"tool_result must be preceded by a tool_call with the same toolCallId\");\n            }\n            toolInvocations[toolInvocationIndex] = {\n                ...toolInvocations[toolInvocationIndex],\n                state: \"result\",\n                ...value\n            };\n        }\n        let functionCallMessage = null;\n        if (type === \"function_call\") {\n            prefixMap[\"function_call\"] = {\n                id: generateId2(),\n                role: \"assistant\",\n                content: \"\",\n                function_call: value.function_call,\n                name: value.function_call.name,\n                createdAt\n            };\n            functionCallMessage = prefixMap[\"function_call\"];\n        }\n        let toolCallMessage = null;\n        if (type === \"tool_calls\") {\n            prefixMap[\"tool_calls\"] = {\n                id: generateId2(),\n                role: \"assistant\",\n                content: \"\",\n                tool_calls: value.tool_calls,\n                createdAt\n            };\n            toolCallMessage = prefixMap[\"tool_calls\"];\n        }\n        if (type === \"data\") {\n            data.push(...value);\n        }\n        let responseMessage = prefixMap[\"text\"];\n        if (type === \"message_annotations\") {\n            if (!messageAnnotations) {\n                messageAnnotations = [\n                    ...value\n                ];\n            } else {\n                messageAnnotations.push(...value);\n            }\n            functionCallMessage = assignAnnotationsToMessage(prefixMap[\"function_call\"], messageAnnotations);\n            toolCallMessage = assignAnnotationsToMessage(prefixMap[\"tool_calls\"], messageAnnotations);\n            responseMessage = assignAnnotationsToMessage(prefixMap[\"text\"], messageAnnotations);\n            if (prefixMap.text != null) {\n                prefixMap.text.internalUpdateId = generateId2();\n            }\n        }\n        if (messageAnnotations == null ? void 0 : messageAnnotations.length) {\n            if (prefixMap.text) {\n                prefixMap.text.annotations = [\n                    ...messageAnnotations\n                ];\n            }\n            if (prefixMap.function_call) {\n                prefixMap.function_call.annotations = [\n                    ...messageAnnotations\n                ];\n            }\n            if (prefixMap.tool_calls) {\n                prefixMap.tool_calls.annotations = [\n                    ...messageAnnotations\n                ];\n            }\n        }\n        const merged = [\n            functionCallMessage,\n            toolCallMessage,\n            responseMessage\n        ].filter(Boolean).map((message)=>({\n                ...assignAnnotationsToMessage(message, messageAnnotations)\n            }));\n        update([\n            ...previousMessages,\n            ...merged\n        ], [\n            ...data\n        ]);\n    }\n    onFinish == null ? void 0 : onFinish({\n        message: prefixMap.text,\n        finishReason,\n        usage\n    });\n    return {\n        messages: [\n            prefixMap.text,\n            prefixMap.function_call,\n            prefixMap.tool_calls\n        ].filter(Boolean),\n        data\n    };\n}\n// src/call-chat-api.ts\nvar getOriginalFetch = ()=>fetch;\nasync function callChatApi({ api, body, streamProtocol = \"data\", credentials, headers, abortController, restoreMessagesOnFailure, onResponse, onUpdate, onFinish, onToolCall, generateId: generateId2, fetch: fetch2 = getOriginalFetch() }) {\n    var _a, _b;\n    const response = await fetch2(api, {\n        method: \"POST\",\n        body: JSON.stringify(body),\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...headers\n        },\n        signal: (_a = abortController == null ? void 0 : abortController()) == null ? void 0 : _a.signal,\n        credentials\n    }).catch((err)=>{\n        restoreMessagesOnFailure();\n        throw err;\n    });\n    if (onResponse) {\n        try {\n            await onResponse(response);\n        } catch (err) {\n            throw err;\n        }\n    }\n    if (!response.ok) {\n        restoreMessagesOnFailure();\n        throw new Error((_b = await response.text()) != null ? _b : \"Failed to fetch the chat response.\");\n    }\n    if (!response.body) {\n        throw new Error(\"The response body is empty.\");\n    }\n    const reader = response.body.getReader();\n    switch(streamProtocol){\n        case \"text\":\n            {\n                const decoder = createChunkDecoder();\n                const resultMessage = {\n                    id: generateId2(),\n                    createdAt: /* @__PURE__ */ new Date(),\n                    role: \"assistant\",\n                    content: \"\"\n                };\n                while(true){\n                    const { done, value } = await reader.read();\n                    if (done) {\n                        break;\n                    }\n                    resultMessage.content += decoder(value);\n                    onUpdate([\n                        {\n                            ...resultMessage\n                        }\n                    ], []);\n                    if ((abortController == null ? void 0 : abortController()) === null) {\n                        reader.cancel();\n                        break;\n                    }\n                }\n                onFinish == null ? void 0 : onFinish(resultMessage, {\n                    usage: {\n                        completionTokens: NaN,\n                        promptTokens: NaN,\n                        totalTokens: NaN\n                    },\n                    finishReason: \"unknown\"\n                });\n                return {\n                    messages: [\n                        resultMessage\n                    ],\n                    data: []\n                };\n            }\n        case \"data\":\n            {\n                return await processDataProtocolResponse({\n                    reader,\n                    abortControllerRef: abortController != null ? {\n                        current: abortController()\n                    } : void 0,\n                    update: onUpdate,\n                    onToolCall,\n                    onFinish ({ message, finishReason, usage }) {\n                        if (onFinish && message != null) {\n                            onFinish(message, {\n                                usage,\n                                finishReason\n                            });\n                        }\n                    },\n                    generateId: generateId2\n                });\n            }\n        default:\n            {\n                const exhaustiveCheck = streamProtocol;\n                throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n            }\n    }\n}\n// src/call-completion-api.ts\nvar getOriginalFetch2 = ()=>fetch;\nasync function callCompletionApi({ api, prompt, credentials, headers, body, streamProtocol = \"data\", setCompletion, setLoading, setError, setAbortController, onResponse, onFinish, onError, onData, fetch: fetch2 = getOriginalFetch2() }) {\n    try {\n        setLoading(true);\n        setError(void 0);\n        const abortController = new AbortController();\n        setAbortController(abortController);\n        setCompletion(\"\");\n        const res = await fetch2(api, {\n            method: \"POST\",\n            body: JSON.stringify({\n                prompt,\n                ...body\n            }),\n            credentials,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...headers\n            },\n            signal: abortController.signal\n        }).catch((err)=>{\n            throw err;\n        });\n        if (onResponse) {\n            try {\n                await onResponse(res);\n            } catch (err) {\n                throw err;\n            }\n        }\n        if (!res.ok) {\n            throw new Error(await res.text() || \"Failed to fetch the chat response.\");\n        }\n        if (!res.body) {\n            throw new Error(\"The response body is empty.\");\n        }\n        let result = \"\";\n        const reader = res.body.getReader();\n        switch(streamProtocol){\n            case \"text\":\n                {\n                    const decoder = createChunkDecoder();\n                    while(true){\n                        const { done, value } = await reader.read();\n                        if (done) {\n                            break;\n                        }\n                        result += decoder(value);\n                        setCompletion(result);\n                        if (abortController === null) {\n                            reader.cancel();\n                            break;\n                        }\n                    }\n                    break;\n                }\n            case \"data\":\n                {\n                    for await (const { type, value } of readDataStream(reader, {\n                        isAborted: ()=>abortController === null\n                    })){\n                        switch(type){\n                            case \"text\":\n                                {\n                                    result += value;\n                                    setCompletion(result);\n                                    break;\n                                }\n                            case \"data\":\n                                {\n                                    onData == null ? void 0 : onData(value);\n                                    break;\n                                }\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    const exhaustiveCheck = streamProtocol;\n                    throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n                }\n        }\n        if (onFinish) {\n            onFinish(prompt, result);\n        }\n        setAbortController(null);\n        return result;\n    } catch (err) {\n        if (err.name === \"AbortError\") {\n            setAbortController(null);\n            return null;\n        }\n        if (err instanceof Error) {\n            if (onError) {\n                onError(err);\n            }\n        }\n        setError(err);\n    } finally{\n        setLoading(false);\n    }\n}\n// src/create-chunk-decoder.ts\nfunction createChunkDecoder(complex) {\n    const decoder = new TextDecoder();\n    if (!complex) {\n        return function(chunk) {\n            if (!chunk) return \"\";\n            return decoder.decode(chunk, {\n                stream: true\n            });\n        };\n    }\n    return function(chunk) {\n        const decoded = decoder.decode(chunk, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\");\n        return decoded.map(parseStreamPart).filter(Boolean);\n    };\n}\n// src/data-url.ts\nfunction getTextFromDataUrl(dataUrl) {\n    const [header, base64Content] = dataUrl.split(\",\");\n    const mimeType = header.split(\";\")[0].split(\":\")[1];\n    if (mimeType == null || base64Content == null) {\n        throw new Error(\"Invalid data URL format\");\n    }\n    try {\n        return window.atob(base64Content);\n    } catch (error) {\n        throw new Error(`Error decoding data URL`);\n    }\n}\n// src/is-deep-equal-data.ts\nfunction isDeepEqualData(obj1, obj2) {\n    if (obj1 === obj2) return true;\n    if (obj1 == null || obj2 == null) return false;\n    if (typeof obj1 !== \"object\" && typeof obj2 !== \"object\") return obj1 === obj2;\n    if (obj1.constructor !== obj2.constructor) return false;\n    if (obj1 instanceof Date && obj2 instanceof Date) {\n        return obj1.getTime() === obj2.getTime();\n    }\n    if (Array.isArray(obj1)) {\n        if (obj1.length !== obj2.length) return false;\n        for(let i = 0; i < obj1.length; i++){\n            if (!isDeepEqualData(obj1[i], obj2[i])) return false;\n        }\n        return true;\n    }\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    for (const key of keys1){\n        if (!keys2.includes(key)) return false;\n        if (!isDeepEqualData(obj1[key], obj2[key])) return false;\n    }\n    return true;\n}\n// src/process-chat-stream.ts\nasync function processChatStream({ getStreamedResponse, experimental_onFunctionCall, experimental_onToolCall, updateChatRequest, getCurrentMessages }) {\n    while(true){\n        const messagesAndDataOrJustMessage = await getStreamedResponse();\n        if (\"messages\" in messagesAndDataOrJustMessage) {\n            let hasFollowingResponse = false;\n            for (const message of messagesAndDataOrJustMessage.messages){\n                if ((message.function_call === void 0 || typeof message.function_call === \"string\") && (message.tool_calls === void 0 || typeof message.tool_calls === \"string\")) {\n                    continue;\n                }\n                hasFollowingResponse = true;\n                if (experimental_onFunctionCall) {\n                    const functionCall = message.function_call;\n                    if (typeof functionCall !== \"object\") {\n                        console.warn(\"experimental_onFunctionCall should not be defined when using tools\");\n                        continue;\n                    }\n                    const functionCallResponse = await experimental_onFunctionCall(getCurrentMessages(), functionCall);\n                    if (functionCallResponse === void 0) {\n                        hasFollowingResponse = false;\n                        break;\n                    }\n                    updateChatRequest(functionCallResponse);\n                }\n                if (experimental_onToolCall) {\n                    const toolCalls = message.tool_calls;\n                    if (!Array.isArray(toolCalls) || toolCalls.some((toolCall)=>typeof toolCall !== \"object\")) {\n                        console.warn(\"experimental_onToolCall should not be defined when using tools\");\n                        continue;\n                    }\n                    const toolCallResponse = await experimental_onToolCall(getCurrentMessages(), toolCalls);\n                    if (toolCallResponse === void 0) {\n                        hasFollowingResponse = false;\n                        break;\n                    }\n                    updateChatRequest(toolCallResponse);\n                }\n            }\n            if (!hasFollowingResponse) {\n                break;\n            }\n        } else {\n            let fixFunctionCallArguments2 = function(response) {\n                for (const message of response.messages){\n                    if (message.tool_calls !== void 0) {\n                        for (const toolCall of message.tool_calls){\n                            if (typeof toolCall === \"object\") {\n                                if (toolCall.function.arguments && typeof toolCall.function.arguments !== \"string\") {\n                                    toolCall.function.arguments = JSON.stringify(toolCall.function.arguments);\n                                }\n                            }\n                        }\n                    }\n                    if (message.function_call !== void 0) {\n                        if (typeof message.function_call === \"object\") {\n                            if (message.function_call.arguments && typeof message.function_call.arguments !== \"string\") {\n                                message.function_call.arguments = JSON.stringify(message.function_call.arguments);\n                            }\n                        }\n                    }\n                }\n            };\n            var fixFunctionCallArguments = fixFunctionCallArguments2;\n            const streamedResponseMessage = messagesAndDataOrJustMessage;\n            if ((streamedResponseMessage.function_call === void 0 || typeof streamedResponseMessage.function_call === \"string\") && (streamedResponseMessage.tool_calls === void 0 || typeof streamedResponseMessage.tool_calls === \"string\")) {\n                break;\n            }\n            if (experimental_onFunctionCall) {\n                const functionCall = streamedResponseMessage.function_call;\n                if (!(typeof functionCall === \"object\")) {\n                    console.warn(\"experimental_onFunctionCall should not be defined when using tools\");\n                    continue;\n                }\n                const functionCallResponse = await experimental_onFunctionCall(getCurrentMessages(), functionCall);\n                if (functionCallResponse === void 0) break;\n                fixFunctionCallArguments2(functionCallResponse);\n                updateChatRequest(functionCallResponse);\n            }\n            if (experimental_onToolCall) {\n                const toolCalls = streamedResponseMessage.tool_calls;\n                if (!(typeof toolCalls === \"object\")) {\n                    console.warn(\"experimental_onToolCall should not be defined when using functions\");\n                    continue;\n                }\n                const toolCallResponse = await experimental_onToolCall(getCurrentMessages(), toolCalls);\n                if (toolCallResponse === void 0) break;\n                fixFunctionCallArguments2(toolCallResponse);\n                updateChatRequest(toolCallResponse);\n            }\n        }\n    }\n}\n// src/schema.ts\n\n\nvar schemaSymbol = Symbol.for(\"vercel.ai.schema\");\nfunction jsonSchema(jsonSchema2, { validate } = {}) {\n    return {\n        [schemaSymbol]: true,\n        _type: void 0,\n        // should never be used directly\n        [_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.validatorSymbol]: true,\n        jsonSchema: jsonSchema2,\n        validate\n    };\n}\nfunction isSchema(value) {\n    return typeof value === \"object\" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && \"jsonSchema\" in value && \"validate\" in value;\n}\nfunction asSchema(schema) {\n    return isSchema(schema) ? schema : zodSchema(schema);\n}\nfunction zodSchema(zodSchema2) {\n    return jsonSchema(// we assume that zodToJsonSchema will return a valid JSONSchema7:\n    (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(zodSchema2), {\n        validate: (value)=>{\n            const result = zodSchema2.safeParse(value);\n            return result.success ? {\n                success: true,\n                value: result.data\n            } : {\n                success: false,\n                error: result.error\n            };\n        }\n    });\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkayt1aS11dGlsc0AwLjAuNTBfem9kQDMuMjUuNzYvbm9kZV9tb2R1bGVzL0BhaS1zZGsvdWktdXRpbHMvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZUFBZTtBQUNxQztBQUVwRCx3Q0FBd0M7QUFDa0M7QUFFMUUsNEJBQTRCO0FBQ2U7QUFFM0Msa0JBQWtCO0FBQ2xCLFNBQVNHLFFBQVFDLEtBQUs7SUFDcEIsTUFBTUMsUUFBUTtRQUFDO0tBQU87SUFDdEIsSUFBSUMsaUJBQWlCLENBQUM7SUFDdEIsSUFBSUMsZUFBZTtJQUNuQixTQUFTQyxrQkFBa0JDLElBQUksRUFBRUMsQ0FBQyxFQUFFQyxTQUFTO1FBQzNDO1lBQ0UsT0FBUUY7Z0JBQ04sS0FBSztvQkFBSzt3QkFDUkgsaUJBQWlCSTt3QkFDakJMLE1BQU1PLEdBQUc7d0JBQ1RQLE1BQU1RLElBQUksQ0FBQ0Y7d0JBQ1hOLE1BQU1RLElBQUksQ0FBQzt3QkFDWDtvQkFDRjtnQkFDQSxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztvQkFBSzt3QkFDUlAsaUJBQWlCSTt3QkFDakJILGVBQWVHO3dCQUNmTCxNQUFNTyxHQUFHO3dCQUNUUCxNQUFNUSxJQUFJLENBQUNGO3dCQUNYTixNQUFNUSxJQUFJLENBQUM7d0JBQ1g7b0JBQ0Y7Z0JBQ0EsS0FBSztvQkFBSzt3QkFDUlIsTUFBTU8sR0FBRzt3QkFDVFAsTUFBTVEsSUFBSSxDQUFDRjt3QkFDWE4sTUFBTVEsSUFBSSxDQUFDO3dCQUNYO29CQUNGO2dCQUNBLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7b0JBQUs7d0JBQ1JQLGlCQUFpQkk7d0JBQ2pCTCxNQUFNTyxHQUFHO3dCQUNUUCxNQUFNUSxJQUFJ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LFVBQVUsWUFBWUEsVUFBVSxRQUFRME0sZ0JBQWdCMU0sU0FBU0EsS0FBSyxDQUFDME0sYUFBYSxLQUFLLFFBQVEsZ0JBQWdCMU0sU0FBUyxjQUFjQTtBQUN4SjtBQUNBLFNBQVNrTixTQUFTQyxNQUFNO0lBQ3RCLE9BQU9GLFNBQVNFLFVBQVVBLFNBQVNDLFVBQVVEO0FBQy9DO0FBQ0EsU0FBU0MsVUFBVUMsVUFBVTtJQUMzQixPQUFPUixXQUNMLGtFQUFrRTtJQUNsRUosOERBQWVBLENBQUNZLGFBQ2hCO1FBQ0VOLFVBQVUsQ0FBQy9NO1lBQ1QsTUFBTUwsU0FBUzBOLFdBQVdDLFNBQVMsQ0FBQ3ROO1lBQ3BDLE9BQU9MLE9BQU80TixPQUFPLEdBQUc7Z0JBQUVBLFNBQVM7Z0JBQU12TixPQUFPTCxPQUFPZ0gsSUFBSTtZQUFDLElBQUk7Z0JBQUU0RyxTQUFTO2dCQUFPM0MsT0FBT2pMLE9BQU9pTCxLQUFLO1lBQUM7UUFDeEc7SUFDRjtBQUVKO0FBaUJFLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VudGluZWwtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkayt1aS11dGlsc0AwLjAuNTBfem9kQDMuMjUuNzYvbm9kZV9tb2R1bGVzL0BhaS1zZGsvdWktdXRpbHMvZGlzdC9pbmRleC5tanM/MTIyMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvcHJvY2Vzcy1kYXRhLXByb3RvY29sLXJlc3BvbnNlLnRzXG5pbXBvcnQgeyBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWRGdW5jdGlvbiB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5cbi8vIHNyYy9wYXJzZS1wYXJ0aWFsLWpzb24udHNcbmltcG9ydCBTZWN1cmVKU09OIGZyb20gXCJzZWN1cmUtanNvbi1wYXJzZVwiO1xuXG4vLyBzcmMvZml4LWpzb24udHNcbmZ1bmN0aW9uIGZpeEpzb24oaW5wdXQpIHtcbiAgY29uc3Qgc3RhY2sgPSBbXCJST09UXCJdO1xuICBsZXQgbGFzdFZhbGlkSW5kZXggPSAtMTtcbiAgbGV0IGxpdGVyYWxTdGFydCA9IG51bGw7XG4gIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIHN3YXBTdGF0ZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgIGNhc2UgXCJuXCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgbGl0ZXJhbFN0YXJ0ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9MSVRFUkFMXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCItXCI6IHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgY2FzZSBcIjhcIjpcbiAgICAgICAgY2FzZSBcIjlcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIntcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfU1RBUlRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIltcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9TVEFSVFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwifVwiOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIl1cIjoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBpbnB1dFtpXTtcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICBzd2l0Y2ggKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgY2FzZSBcIlJPT1RcIjpcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJGSU5JU0hcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfU1RBUlRcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfS0VZXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCI6XCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJcXFxcXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HX0VTQ0FQRVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9TVEFSVFwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdfRVNDQVBFXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX05VTUJFUlwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgIGNhc2UgXCI5XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICBjYXNlIFwiLlwiOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0xJVEVSQUxcIjoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQsIGkgKyAxKTtcbiAgICAgICAgaWYgKCFcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkgJiYgIVwidHJ1ZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmICFcIm51bGxcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IHJlc3VsdCA9IGlucHV0LnNsaWNlKDAsIGxhc3RWYWxpZEluZGV4ICsgMSk7XG4gIGZvciAobGV0IGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN0YXRlID0gc3RhY2tbaV07XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICByZXN1bHQgKz0gJ1wiJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9LRVlcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX1NUQVJUXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUVcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcmVzdWx0ICs9IFwifVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfU1RBUlRcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICByZXN1bHQgKz0gXCJdXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9MSVRFUkFMXCI6IHtcbiAgICAgICAgY29uc3QgcGFydGlhbExpdGVyYWwgPSBpbnB1dC5zdWJzdHJpbmcobGl0ZXJhbFN0YXJ0LCBpbnB1dC5sZW5ndGgpO1xuICAgICAgICBpZiAoXCJ0cnVlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJ0cnVlXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJmYWxzZVwiLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJudWxsXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJudWxsXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBzcmMvcGFyc2UtcGFydGlhbC1qc29uLnRzXG5mdW5jdGlvbiBwYXJzZVBhcnRpYWxKc29uKGpzb25UZXh0KSB7XG4gIGlmIChqc29uVGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCwgc3RhdGU6IFwidW5kZWZpbmVkLWlucHV0XCIgfTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogU2VjdXJlSlNPTi5wYXJzZShqc29uVGV4dCksXG4gICAgICBzdGF0ZTogXCJzdWNjZXNzZnVsLXBhcnNlXCJcbiAgICB9O1xuICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBTZWN1cmVKU09OLnBhcnNlKGZpeEpzb24oanNvblRleHQpKSxcbiAgICAgICAgc3RhdGU6IFwicmVwYWlyZWQtcGFyc2VcIlxuICAgICAgfTtcbiAgICB9IGNhdGNoIChpZ25vcmVkMikge1xuICAgIH1cbiAgfVxuICByZXR1cm4geyB2YWx1ZTogdm9pZCAwLCBzdGF0ZTogXCJmYWlsZWQtcGFyc2VcIiB9O1xufVxuXG4vLyBzcmMvc3RyZWFtLXBhcnRzLnRzXG52YXIgdGV4dFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiMFwiLFxuICBuYW1lOiBcInRleHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJ0ZXh0XCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInRleHRcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBmdW5jdGlvbkNhbGxTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjFcIixcbiAgbmFtZTogXCJmdW5jdGlvbl9jYWxsXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImZ1bmN0aW9uX2NhbGxcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmZ1bmN0aW9uX2NhbGwgIT09IFwib2JqZWN0XCIgfHwgdmFsdWUuZnVuY3Rpb25fY2FsbCA9PSBudWxsIHx8ICEoXCJuYW1lXCIgaW4gdmFsdWUuZnVuY3Rpb25fY2FsbCkgfHwgIShcImFyZ3VtZW50c1wiIGluIHZhbHVlLmZ1bmN0aW9uX2NhbGwpIHx8IHR5cGVvZiB2YWx1ZS5mdW5jdGlvbl9jYWxsLm5hbWUgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImZ1bmN0aW9uX2NhbGxcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImZ1bmN0aW9uX2NhbGxcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJmdW5jdGlvbl9jYWxsXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgZGF0YVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiMlwiLFxuICBuYW1lOiBcImRhdGFcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJkYXRhXCIgcGFydHMgZXhwZWN0IGFuIGFycmF5IHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImRhdGFcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBlcnJvclN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiM1wiLFxuICBuYW1lOiBcImVycm9yXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiZXJyb3JcIiBwYXJ0cyBleHBlY3QgYSBzdHJpbmcgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBhc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI0XCIsXG4gIG5hbWU6IFwiYXNzaXN0YW50X21lc3NhZ2VcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiaWRcIiBpbiB2YWx1ZSkgfHwgIShcInJvbGVcIiBpbiB2YWx1ZSkgfHwgIShcImNvbnRlbnRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmlkICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZS5yb2xlICE9PSBcInN0cmluZ1wiIHx8IHZhbHVlLnJvbGUgIT09IFwiYXNzaXN0YW50XCIgfHwgIUFycmF5LmlzQXJyYXkodmFsdWUuY29udGVudCkgfHwgIXZhbHVlLmNvbnRlbnQuZXZlcnkoXG4gICAgICAoaXRlbSkgPT4gaXRlbSAhPSBudWxsICYmIHR5cGVvZiBpdGVtID09PSBcIm9iamVjdFwiICYmIFwidHlwZVwiIGluIGl0ZW0gJiYgaXRlbS50eXBlID09PSBcInRleHRcIiAmJiBcInRleHRcIiBpbiBpdGVtICYmIGl0ZW0udGV4dCAhPSBudWxsICYmIHR5cGVvZiBpdGVtLnRleHQgPT09IFwib2JqZWN0XCIgJiYgXCJ2YWx1ZVwiIGluIGl0ZW0udGV4dCAmJiB0eXBlb2YgaXRlbS50ZXh0LnZhbHVlID09PSBcInN0cmluZ1wiXG4gICAgKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJhc3Npc3RhbnRfbWVzc2FnZVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhbiBcImlkXCIsIFwicm9sZVwiLCBhbmQgXCJjb250ZW50XCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiYXNzaXN0YW50X21lc3NhZ2VcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiNVwiLFxuICBuYW1lOiBcImFzc2lzdGFudF9jb250cm9sX2RhdGFcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidGhyZWFkSWRcIiBpbiB2YWx1ZSkgfHwgIShcIm1lc3NhZ2VJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudGhyZWFkSWQgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlLm1lc3NhZ2VJZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0aHJlYWRJZFwiIGFuZCBcIm1lc3NhZ2VJZFwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImFzc2lzdGFudF9jb250cm9sX2RhdGFcIixcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHRocmVhZElkOiB2YWx1ZS50aHJlYWRJZCxcbiAgICAgICAgbWVzc2FnZUlkOiB2YWx1ZS5tZXNzYWdlSWRcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xudmFyIGRhdGFNZXNzYWdlU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI2XCIsXG4gIG5hbWU6IFwiZGF0YV9tZXNzYWdlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInJvbGVcIiBpbiB2YWx1ZSkgfHwgIShcImRhdGFcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnJvbGUgIT09IFwic3RyaW5nXCIgfHwgdmFsdWUucm9sZSAhPT0gXCJkYXRhXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiZGF0YV9tZXNzYWdlXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJyb2xlXCIgYW5kIFwiZGF0YVwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImRhdGFfbWVzc2FnZVwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIHRvb2xDYWxsc1N0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiN1wiLFxuICBuYW1lOiBcInRvb2xfY2FsbHNcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbF9jYWxsc1wiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbF9jYWxscyAhPT0gXCJvYmplY3RcIiB8fCB2YWx1ZS50b29sX2NhbGxzID09IG51bGwgfHwgIUFycmF5LmlzQXJyYXkodmFsdWUudG9vbF9jYWxscykgfHwgdmFsdWUudG9vbF9jYWxscy5zb21lKFxuICAgICAgKHRjKSA9PiB0YyA9PSBudWxsIHx8IHR5cGVvZiB0YyAhPT0gXCJvYmplY3RcIiB8fCAhKFwiaWRcIiBpbiB0YykgfHwgdHlwZW9mIHRjLmlkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJ0eXBlXCIgaW4gdGMpIHx8IHR5cGVvZiB0Yy50eXBlICE9PSBcInN0cmluZ1wiIHx8ICEoXCJmdW5jdGlvblwiIGluIHRjKSB8fCB0Yy5mdW5jdGlvbiA9PSBudWxsIHx8IHR5cGVvZiB0Yy5mdW5jdGlvbiAhPT0gXCJvYmplY3RcIiB8fCAhKFwiYXJndW1lbnRzXCIgaW4gdGMuZnVuY3Rpb24pIHx8IHR5cGVvZiB0Yy5mdW5jdGlvbi5uYW1lICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB0Yy5mdW5jdGlvbi5hcmd1bWVudHMgIT09IFwic3RyaW5nXCJcbiAgICApKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbHNcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBUb29sQ2FsbFBheWxvYWQuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9vbF9jYWxsc1wiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIG1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiOFwiLFxuICBuYW1lOiBcIm1lc3NhZ2VfYW5ub3RhdGlvbnNcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJtZXNzYWdlX2Fubm90YXRpb25zXCIgcGFydHMgZXhwZWN0IGFuIGFycmF5IHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcIm1lc3NhZ2VfYW5ub3RhdGlvbnNcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciB0b29sQ2FsbFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiOVwiLFxuICBuYW1lOiBcInRvb2xfY2FsbFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sQ2FsbElkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sQ2FsbElkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJ0b29sTmFtZVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbE5hbWUgIT09IFwic3RyaW5nXCIgfHwgIShcImFyZ3NcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmFyZ3MgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1widG9vbF9jYWxsXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIsIFwidG9vbE5hbWVcIiwgYW5kIFwiYXJnc1wiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInRvb2xfY2FsbFwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIHRvb2xSZXN1bHRTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImFcIixcbiAgbmFtZTogXCJ0b29sX3Jlc3VsdFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sQ2FsbElkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sQ2FsbElkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJyZXN1bHRcIiBpbiB2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1widG9vbF9yZXN1bHRcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInRvb2xDYWxsSWRcIiBhbmQgYSBcInJlc3VsdFwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInRvb2xfcmVzdWx0XCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiYlwiLFxuICBuYW1lOiBcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwidG9vbE5hbWVcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xOYW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInRvb2xDYWxsSWRcIiBhbmQgXCJ0b29sTmFtZVwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciB0b29sQ2FsbERlbHRhU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJjXCIsXG4gIG5hbWU6IFwidG9vbF9jYWxsX2RlbHRhXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRvb2xDYWxsSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xDYWxsSWQgIT09IFwic3RyaW5nXCIgfHwgIShcImFyZ3NUZXh0RGVsdGFcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmFyZ3NUZXh0RGVsdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1widG9vbF9jYWxsX2RlbHRhXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIgYW5kIFwiYXJnc1RleHREZWx0YVwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInRvb2xfY2FsbF9kZWx0YVwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIGZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImRcIixcbiAgbmFtZTogXCJmaW5pc2hfbWVzc2FnZVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJmaW5pc2hSZWFzb25cIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmZpbmlzaFJlYXNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJmaW5pc2hfbWVzc2FnZVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwiZmluaXNoUmVhc29uXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgZmluaXNoUmVhc29uOiB2YWx1ZS5maW5pc2hSZWFzb25cbiAgICB9O1xuICAgIGlmIChcInVzYWdlXCIgaW4gdmFsdWUgJiYgdmFsdWUudXNhZ2UgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudXNhZ2UgPT09IFwib2JqZWN0XCIgJiYgXCJwcm9tcHRUb2tlbnNcIiBpbiB2YWx1ZS51c2FnZSAmJiBcImNvbXBsZXRpb25Ub2tlbnNcIiBpbiB2YWx1ZS51c2FnZSkge1xuICAgICAgcmVzdWx0LnVzYWdlID0ge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IHR5cGVvZiB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgOiBOdW1iZXIuTmFOLFxuICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UuY29tcGxldGlvblRva2VucyA9PT0gXCJudW1iZXJcIiA/IHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgOiBOdW1iZXIuTmFOXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJmaW5pc2hfbWVzc2FnZVwiLFxuICAgICAgdmFsdWU6IHJlc3VsdFxuICAgIH07XG4gIH1cbn07XG52YXIgZmluaXNoU3RlcFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiZVwiLFxuICBuYW1lOiBcImZpbmlzaF9zdGVwXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImZpbmlzaFJlYXNvblwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuZmluaXNoUmVhc29uICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImZpbmlzaF9zdGVwXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJmaW5pc2hSZWFzb25cIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBmaW5pc2hSZWFzb246IHZhbHVlLmZpbmlzaFJlYXNvbixcbiAgICAgIGlzQ29udGludWVkOiBmYWxzZVxuICAgIH07XG4gICAgaWYgKFwidXNhZ2VcIiBpbiB2YWx1ZSAmJiB2YWx1ZS51c2FnZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS51c2FnZSA9PT0gXCJvYmplY3RcIiAmJiBcInByb21wdFRva2Vuc1wiIGluIHZhbHVlLnVzYWdlICYmIFwiY29tcGxldGlvblRva2Vuc1wiIGluIHZhbHVlLnVzYWdlKSB7XG4gICAgICByZXN1bHQudXNhZ2UgPSB7XG4gICAgICAgIHByb21wdFRva2VuczogdHlwZW9mIHZhbHVlLnVzYWdlLnByb21wdFRva2VucyA9PT0gXCJudW1iZXJcIiA/IHZhbHVlLnVzYWdlLnByb21wdFRva2VucyA6IE51bWJlci5OYU4sXG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHR5cGVvZiB2YWx1ZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zID09PSBcIm51bWJlclwiID8gdmFsdWUudXNhZ2UuY29tcGxldGlvblRva2VucyA6IE51bWJlci5OYU5cbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChcImlzQ29udGludWVkXCIgaW4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLmlzQ29udGludWVkID09PSBcImJvb2xlYW5cIikge1xuICAgICAgcmVzdWx0LmlzQ29udGludWVkID0gdmFsdWUuaXNDb250aW51ZWQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImZpbmlzaF9zdGVwXCIsXG4gICAgICB2YWx1ZTogcmVzdWx0XG4gICAgfTtcbiAgfVxufTtcbnZhciBzdHJlYW1QYXJ0cyA9IFtcbiAgdGV4dFN0cmVhbVBhcnQsXG4gIGZ1bmN0aW9uQ2FsbFN0cmVhbVBhcnQsXG4gIGRhdGFTdHJlYW1QYXJ0LFxuICBlcnJvclN0cmVhbVBhcnQsXG4gIGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LFxuICBhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQsXG4gIGRhdGFNZXNzYWdlU3RyZWFtUGFydCxcbiAgdG9vbENhbGxzU3RyZWFtUGFydCxcbiAgbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydCxcbiAgdG9vbENhbGxTdHJlYW1QYXJ0LFxuICB0b29sUmVzdWx0U3RyZWFtUGFydCxcbiAgdG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQsXG4gIHRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0LFxuICBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCxcbiAgZmluaXNoU3RlcFN0cmVhbVBhcnRcbl07XG52YXIgc3RyZWFtUGFydHNCeUNvZGUgPSB7XG4gIFt0ZXh0U3RyZWFtUGFydC5jb2RlXTogdGV4dFN0cmVhbVBhcnQsXG4gIFtmdW5jdGlvbkNhbGxTdHJlYW1QYXJ0LmNvZGVdOiBmdW5jdGlvbkNhbGxTdHJlYW1QYXJ0LFxuICBbZGF0YVN0cmVhbVBhcnQuY29kZV06IGRhdGFTdHJlYW1QYXJ0LFxuICBbZXJyb3JTdHJlYW1QYXJ0LmNvZGVdOiBlcnJvclN0cmVhbVBhcnQsXG4gIFthc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQsXG4gIFthc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQuY29kZV06IGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCxcbiAgW2RhdGFNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0LFxuICBbdG9vbENhbGxzU3RyZWFtUGFydC5jb2RlXTogdG9vbENhbGxzU3RyZWFtUGFydCxcbiAgW21lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQuY29kZV06IG1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQsXG4gIFt0b29sQ2FsbFN0cmVhbVBhcnQuY29kZV06IHRvb2xDYWxsU3RyZWFtUGFydCxcbiAgW3Rvb2xSZXN1bHRTdHJlYW1QYXJ0LmNvZGVdOiB0b29sUmVzdWx0U3RyZWFtUGFydCxcbiAgW3Rvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0LmNvZGVdOiB0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydCxcbiAgW3Rvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0LmNvZGVdOiB0b29sQ2FsbERlbHRhU3RyZWFtUGFydCxcbiAgW2ZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGVdOiBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCxcbiAgW2ZpbmlzaFN0ZXBTdHJlYW1QYXJ0LmNvZGVdOiBmaW5pc2hTdGVwU3RyZWFtUGFydFxufTtcbnZhciBTdHJlYW1TdHJpbmdQcmVmaXhlcyA9IHtcbiAgW3RleHRTdHJlYW1QYXJ0Lm5hbWVdOiB0ZXh0U3RyZWFtUGFydC5jb2RlLFxuICBbZnVuY3Rpb25DYWxsU3RyZWFtUGFydC5uYW1lXTogZnVuY3Rpb25DYWxsU3RyZWFtUGFydC5jb2RlLFxuICBbZGF0YVN0cmVhbVBhcnQubmFtZV06IGRhdGFTdHJlYW1QYXJ0LmNvZGUsXG4gIFtlcnJvclN0cmVhbVBhcnQubmFtZV06IGVycm9yU3RyZWFtUGFydC5jb2RlLFxuICBbYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQubmFtZV06IGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGUsXG4gIFthc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQubmFtZV06IGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydC5jb2RlLFxuICBbZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0Lm5hbWVdOiBkYXRhTWVzc2FnZVN0cmVhbVBhcnQuY29kZSxcbiAgW3Rvb2xDYWxsc1N0cmVhbVBhcnQubmFtZV06IHRvb2xDYWxsc1N0cmVhbVBhcnQuY29kZSxcbiAgW21lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQubmFtZV06IG1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQuY29kZSxcbiAgW3Rvb2xDYWxsU3RyZWFtUGFydC5uYW1lXTogdG9vbENhbGxTdHJlYW1QYXJ0LmNvZGUsXG4gIFt0b29sUmVzdWx0U3RyZWFtUGFydC5uYW1lXTogdG9vbFJlc3VsdFN0cmVhbVBhcnQuY29kZSxcbiAgW3Rvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0Lm5hbWVdOiB0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydC5jb2RlLFxuICBbdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQubmFtZV06IHRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0LmNvZGUsXG4gIFtmaW5pc2hNZXNzYWdlU3RyZWFtUGFydC5uYW1lXTogZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQuY29kZSxcbiAgW2ZpbmlzaFN0ZXBTdHJlYW1QYXJ0Lm5hbWVdOiBmaW5pc2hTdGVwU3RyZWFtUGFydC5jb2RlXG59O1xudmFyIHZhbGlkQ29kZXMgPSBzdHJlYW1QYXJ0cy5tYXAoKHBhcnQpID0+IHBhcnQuY29kZSk7XG52YXIgcGFyc2VTdHJlYW1QYXJ0ID0gKGxpbmUpID0+IHtcbiAgY29uc3QgZmlyc3RTZXBhcmF0b3JJbmRleCA9IGxpbmUuaW5kZXhPZihcIjpcIik7XG4gIGlmIChmaXJzdFNlcGFyYXRvckluZGV4ID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBzdHJlYW0gc3RyaW5nLiBObyBzZXBhcmF0b3IgZm91bmQuXCIpO1xuICB9XG4gIGNvbnN0IHByZWZpeCA9IGxpbmUuc2xpY2UoMCwgZmlyc3RTZXBhcmF0b3JJbmRleCk7XG4gIGlmICghdmFsaWRDb2Rlcy5pbmNsdWRlcyhwcmVmaXgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtIHN0cmluZy4gSW52YWxpZCBjb2RlICR7cHJlZml4fS5gKTtcbiAgfVxuICBjb25zdCBjb2RlID0gcHJlZml4O1xuICBjb25zdCB0ZXh0VmFsdWUgPSBsaW5lLnNsaWNlKGZpcnN0U2VwYXJhdG9ySW5kZXggKyAxKTtcbiAgY29uc3QganNvblZhbHVlID0gSlNPTi5wYXJzZSh0ZXh0VmFsdWUpO1xuICByZXR1cm4gc3RyZWFtUGFydHNCeUNvZGVbY29kZV0ucGFyc2UoanNvblZhbHVlKTtcbn07XG5mdW5jdGlvbiBmb3JtYXRTdHJlYW1QYXJ0KHR5cGUsIHZhbHVlKSB7XG4gIGNvbnN0IHN0cmVhbVBhcnQgPSBzdHJlYW1QYXJ0cy5maW5kKChwYXJ0KSA9PiBwYXJ0Lm5hbWUgPT09IHR5cGUpO1xuICBpZiAoIXN0cmVhbVBhcnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc3RyZWFtIHBhcnQgdHlwZTogJHt0eXBlfWApO1xuICB9XG4gIHJldHVybiBgJHtzdHJlYW1QYXJ0LmNvZGV9OiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfVxuYDtcbn1cblxuLy8gc3JjL3JlYWQtZGF0YS1zdHJlYW0udHNcbnZhciBORVdMSU5FID0gXCJcXG5cIi5jaGFyQ29kZUF0KDApO1xuZnVuY3Rpb24gY29uY2F0Q2h1bmtzKGNodW5rcywgdG90YWxMZW5ndGgpIHtcbiAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICBjb25jYXRlbmF0ZWRDaHVua3Muc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7XG4gIH1cbiAgY2h1bmtzLmxlbmd0aCA9IDA7XG4gIHJldHVybiBjb25jYXRlbmF0ZWRDaHVua3M7XG59XG5hc3luYyBmdW5jdGlvbiogcmVhZERhdGFTdHJlYW0ocmVhZGVyLCB7XG4gIGlzQWJvcnRlZFxufSA9IHt9KSB7XG4gIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgY29uc3QgY2h1bmtzID0gW107XG4gIGxldCB0b3RhbExlbmd0aCA9IDA7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGNodW5rcy5wdXNoKHZhbHVlKTtcbiAgICAgIHRvdGFsTGVuZ3RoICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgIGlmICh2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXSAhPT0gTkVXTElORSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjb25zdCBjb25jYXRlbmF0ZWRDaHVua3MgPSBjb25jYXRDaHVua3MoY2h1bmtzLCB0b3RhbExlbmd0aCk7XG4gICAgdG90YWxMZW5ndGggPSAwO1xuICAgIGNvbnN0IHN0cmVhbVBhcnRzMiA9IGRlY29kZXIuZGVjb2RlKGNvbmNhdGVuYXRlZENodW5rcywgeyBzdHJlYW06IHRydWUgfSkuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSBcIlwiKS5tYXAocGFyc2VTdHJlYW1QYXJ0KTtcbiAgICBmb3IgKGNvbnN0IHN0cmVhbVBhcnQgb2Ygc3RyZWFtUGFydHMyKSB7XG4gICAgICB5aWVsZCBzdHJlYW1QYXJ0O1xuICAgIH1cbiAgICBpZiAoaXNBYm9ydGVkID09IG51bGwgPyB2b2lkIDAgOiBpc0Fib3J0ZWQoKSkge1xuICAgICAgcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9wcm9jZXNzLWRhdGEtcHJvdG9jb2wtcmVzcG9uc2UudHNcbmZ1bmN0aW9uIGFzc2lnbkFubm90YXRpb25zVG9NZXNzYWdlKG1lc3NhZ2UsIGFubm90YXRpb25zKSB7XG4gIGlmICghbWVzc2FnZSB8fCAhYW5ub3RhdGlvbnMgfHwgIWFubm90YXRpb25zLmxlbmd0aClcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgcmV0dXJuIHsgLi4ubWVzc2FnZSwgYW5ub3RhdGlvbnM6IFsuLi5hbm5vdGF0aW9uc10gfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NEYXRhUHJvdG9jb2xSZXNwb25zZSh7XG4gIHJlYWRlcixcbiAgYWJvcnRDb250cm9sbGVyUmVmLFxuICB1cGRhdGUsXG4gIG9uVG9vbENhbGwsXG4gIG9uRmluaXNoLFxuICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMiA9IGdlbmVyYXRlSWRGdW5jdGlvbixcbiAgZ2V0Q3VycmVudERhdGUgPSAoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKVxufSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGNyZWF0ZWRBdCA9IGdldEN1cnJlbnREYXRlKCk7XG4gIGxldCBwcmVmaXhNYXAgPSB7fTtcbiAgbGV0IG5leHRQcmVmaXhNYXAgPSB2b2lkIDA7XG4gIGNvbnN0IHByZXZpb3VzTWVzc2FnZXMgPSBbXTtcbiAgY29uc3QgZGF0YSA9IFtdO1xuICBsZXQgbWVzc2FnZUFubm90YXRpb25zID0gdm9pZCAwO1xuICBjb25zdCBwYXJ0aWFsVG9vbENhbGxzID0ge307XG4gIGxldCB1c2FnZSA9IHtcbiAgICBjb21wbGV0aW9uVG9rZW5zOiBOYU4sXG4gICAgcHJvbXB0VG9rZW5zOiBOYU4sXG4gICAgdG90YWxUb2tlbnM6IE5hTlxuICB9O1xuICBsZXQgZmluaXNoUmVhc29uID0gXCJ1bmtub3duXCI7XG4gIGZvciBhd2FpdCAoY29uc3QgeyB0eXBlLCB2YWx1ZSB9IG9mIHJlYWREYXRhU3RyZWFtKHJlYWRlciwge1xuICAgIGlzQWJvcnRlZDogKCkgPT4gKGFib3J0Q29udHJvbGxlclJlZiA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQpID09PSBudWxsXG4gIH0pKSB7XG4gICAgaWYgKHR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiZmluaXNoX3N0ZXBcIikge1xuICAgICAgaWYgKCF2YWx1ZS5pc0NvbnRpbnVlZCkge1xuICAgICAgICBuZXh0UHJlZml4TWFwID0ge307XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiZmluaXNoX21lc3NhZ2VcIikge1xuICAgICAgZmluaXNoUmVhc29uID0gdmFsdWUuZmluaXNoUmVhc29uO1xuICAgICAgaWYgKHZhbHVlLnVzYWdlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgeyBjb21wbGV0aW9uVG9rZW5zLCBwcm9tcHRUb2tlbnMgfSA9IHZhbHVlLnVzYWdlO1xuICAgICAgICB1c2FnZSA9IHtcbiAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zLFxuICAgICAgICAgIHByb21wdFRva2VucyxcbiAgICAgICAgICB0b3RhbFRva2VuczogY29tcGxldGlvblRva2VucyArIHByb21wdFRva2Vuc1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChuZXh0UHJlZml4TWFwICE9IG51bGwgJiYgKHR5cGUgPT09IFwidGV4dFwiIHx8IHR5cGUgPT09IFwidG9vbF9jYWxsXCIgfHwgdHlwZSA9PT0gXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIgfHwgdHlwZSA9PT0gXCJ0b29sX2NhbGxfZGVsdGFcIiB8fCB0eXBlID09PSBcInRvb2xfcmVzdWx0XCIpKSB7XG4gICAgICBpZiAocHJlZml4TWFwLnRleHQpIHtcbiAgICAgICAgcHJldmlvdXNNZXNzYWdlcy5wdXNoKHByZWZpeE1hcC50ZXh0KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmVmaXhNYXAuZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICBwcmV2aW91c01lc3NhZ2VzLnB1c2gocHJlZml4TWFwLmZ1bmN0aW9uX2NhbGwpO1xuICAgICAgfVxuICAgICAgaWYgKHByZWZpeE1hcC50b29sX2NhbGxzKSB7XG4gICAgICAgIHByZXZpb3VzTWVzc2FnZXMucHVzaChwcmVmaXhNYXAudG9vbF9jYWxscyk7XG4gICAgICB9XG4gICAgICBwcmVmaXhNYXAgPSBuZXh0UHJlZml4TWFwO1xuICAgICAgbmV4dFByZWZpeE1hcCA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICBpZiAocHJlZml4TWFwW1widGV4dFwiXSkge1xuICAgICAgICBwcmVmaXhNYXBbXCJ0ZXh0XCJdID0ge1xuICAgICAgICAgIC4uLnByZWZpeE1hcFtcInRleHRcIl0sXG4gICAgICAgICAgY29udGVudDogKHByZWZpeE1hcFtcInRleHRcIl0uY29udGVudCB8fCBcIlwiKSArIHZhbHVlXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmVmaXhNYXBbXCJ0ZXh0XCJdID0ge1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkMigpLFxuICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgY29udGVudDogdmFsdWUsXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIikge1xuICAgICAgaWYgKHByZWZpeE1hcC50ZXh0ID09IG51bGwpIHtcbiAgICAgICAgcHJlZml4TWFwLnRleHQgPSB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlSWQyKCksXG4gICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKHByZWZpeE1hcC50ZXh0LnRvb2xJbnZvY2F0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIHByZWZpeE1hcC50ZXh0LnRvb2xJbnZvY2F0aW9ucyA9IFtdO1xuICAgICAgfVxuICAgICAgcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXSA9IHtcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgdG9vbE5hbWU6IHZhbHVlLnRvb2xOYW1lLFxuICAgICAgICBwcmVmaXhNYXBJbmRleDogcHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zLmxlbmd0aFxuICAgICAgfTtcbiAgICAgIHByZWZpeE1hcC50ZXh0LnRvb2xJbnZvY2F0aW9ucy5wdXNoKHtcbiAgICAgICAgc3RhdGU6IFwicGFydGlhbC1jYWxsXCIsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHZhbHVlLnRvb2xDYWxsSWQsXG4gICAgICAgIHRvb2xOYW1lOiB2YWx1ZS50b29sTmFtZSxcbiAgICAgICAgYXJnczogdm9pZCAwXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidG9vbF9jYWxsX2RlbHRhXCIpIHtcbiAgICAgIGNvbnN0IHBhcnRpYWxUb29sQ2FsbCA9IHBhcnRpYWxUb29sQ2FsbHNbdmFsdWUudG9vbENhbGxJZF07XG4gICAgICBwYXJ0aWFsVG9vbENhbGwudGV4dCArPSB2YWx1ZS5hcmdzVGV4dERlbHRhO1xuICAgICAgY29uc3QgeyB2YWx1ZTogcGFydGlhbEFyZ3MgfSA9IHBhcnNlUGFydGlhbEpzb24ocGFydGlhbFRvb2xDYWxsLnRleHQpO1xuICAgICAgcHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zW3BhcnRpYWxUb29sQ2FsbC5wcmVmaXhNYXBJbmRleF0gPSB7XG4gICAgICAgIHN0YXRlOiBcInBhcnRpYWwtY2FsbFwiLFxuICAgICAgICB0b29sQ2FsbElkOiB2YWx1ZS50b29sQ2FsbElkLFxuICAgICAgICB0b29sTmFtZTogcGFydGlhbFRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICBhcmdzOiBwYXJ0aWFsQXJnc1xuICAgICAgfTtcbiAgICAgIHByZWZpeE1hcC50ZXh0LmludGVybmFsVXBkYXRlSWQgPSBnZW5lcmF0ZUlkMigpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJ0b29sX2NhbGxcIikge1xuICAgICAgaWYgKHBhcnRpYWxUb29sQ2FsbHNbdmFsdWUudG9vbENhbGxJZF0gIT0gbnVsbCkge1xuICAgICAgICBwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXS5wcmVmaXhNYXBJbmRleF0gPSB7IHN0YXRlOiBcImNhbGxcIiwgLi4udmFsdWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcmVmaXhNYXAudGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgcHJlZml4TWFwLnRleHQgPSB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zID09IG51bGwpIHtcbiAgICAgICAgICBwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnMucHVzaCh7XG4gICAgICAgICAgc3RhdGU6IFwiY2FsbFwiLFxuICAgICAgICAgIC4uLnZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcHJlZml4TWFwLnRleHQuaW50ZXJuYWxVcGRhdGVJZCA9IGdlbmVyYXRlSWQyKCk7XG4gICAgICBpZiAob25Ub29sQ2FsbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvblRvb2xDYWxsKHsgdG9vbENhbGw6IHZhbHVlIH0pO1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICBwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnNbcHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zLmxlbmd0aCAtIDFdID0geyBzdGF0ZTogXCJyZXN1bHRcIiwgLi4udmFsdWUsIHJlc3VsdCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcInRvb2xfcmVzdWx0XCIpIHtcbiAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9ucyA9IChfYSA9IHByZWZpeE1hcC50ZXh0KSA9PSBudWxsID8gdm9pZCAwIDogX2EudG9vbEludm9jYXRpb25zO1xuICAgICAgaWYgKHRvb2xJbnZvY2F0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInRvb2xfcmVzdWx0IG11c3QgYmUgcHJlY2VkZWQgYnkgYSB0b29sX2NhbGxcIik7XG4gICAgICB9XG4gICAgICBjb25zdCB0b29sSW52b2NhdGlvbkluZGV4ID0gdG9vbEludm9jYXRpb25zLmZpbmRJbmRleChcbiAgICAgICAgKGludm9jYXRpb24pID0+IGludm9jYXRpb24udG9vbENhbGxJZCA9PT0gdmFsdWUudG9vbENhbGxJZFxuICAgICAgKTtcbiAgICAgIGlmICh0b29sSW52b2NhdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJ0b29sX3Jlc3VsdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbF9jYWxsIHdpdGggdGhlIHNhbWUgdG9vbENhbGxJZFwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0b29sSW52b2NhdGlvbnNbdG9vbEludm9jYXRpb25JbmRleF0gPSB7XG4gICAgICAgIC4uLnRvb2xJbnZvY2F0aW9uc1t0b29sSW52b2NhdGlvbkluZGV4XSxcbiAgICAgICAgc3RhdGU6IFwicmVzdWx0XCIsXG4gICAgICAgIC4uLnZhbHVlXG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgZnVuY3Rpb25DYWxsTWVzc2FnZSA9IG51bGw7XG4gICAgaWYgKHR5cGUgPT09IFwiZnVuY3Rpb25fY2FsbFwiKSB7XG4gICAgICBwcmVmaXhNYXBbXCJmdW5jdGlvbl9jYWxsXCJdID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgZnVuY3Rpb25fY2FsbDogdmFsdWUuZnVuY3Rpb25fY2FsbCxcbiAgICAgICAgbmFtZTogdmFsdWUuZnVuY3Rpb25fY2FsbC5uYW1lLFxuICAgICAgICBjcmVhdGVkQXRcbiAgICAgIH07XG4gICAgICBmdW5jdGlvbkNhbGxNZXNzYWdlID0gcHJlZml4TWFwW1wiZnVuY3Rpb25fY2FsbFwiXTtcbiAgICB9XG4gICAgbGV0IHRvb2xDYWxsTWVzc2FnZSA9IG51bGw7XG4gICAgaWYgKHR5cGUgPT09IFwidG9vbF9jYWxsc1wiKSB7XG4gICAgICBwcmVmaXhNYXBbXCJ0b29sX2NhbGxzXCJdID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgdG9vbF9jYWxsczogdmFsdWUudG9vbF9jYWxscyxcbiAgICAgICAgY3JlYXRlZEF0XG4gICAgICB9O1xuICAgICAgdG9vbENhbGxNZXNzYWdlID0gcHJlZml4TWFwW1widG9vbF9jYWxsc1wiXTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiZGF0YVwiKSB7XG4gICAgICBkYXRhLnB1c2goLi4udmFsdWUpO1xuICAgIH1cbiAgICBsZXQgcmVzcG9uc2VNZXNzYWdlID0gcHJlZml4TWFwW1widGV4dFwiXTtcbiAgICBpZiAodHlwZSA9PT0gXCJtZXNzYWdlX2Fubm90YXRpb25zXCIpIHtcbiAgICAgIGlmICghbWVzc2FnZUFubm90YXRpb25zKSB7XG4gICAgICAgIG1lc3NhZ2VBbm5vdGF0aW9ucyA9IFsuLi52YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlQW5ub3RhdGlvbnMucHVzaCguLi52YWx1ZSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbkNhbGxNZXNzYWdlID0gYXNzaWduQW5ub3RhdGlvbnNUb01lc3NhZ2UoXG4gICAgICAgIHByZWZpeE1hcFtcImZ1bmN0aW9uX2NhbGxcIl0sXG4gICAgICAgIG1lc3NhZ2VBbm5vdGF0aW9uc1xuICAgICAgKTtcbiAgICAgIHRvb2xDYWxsTWVzc2FnZSA9IGFzc2lnbkFubm90YXRpb25zVG9NZXNzYWdlKFxuICAgICAgICBwcmVmaXhNYXBbXCJ0b29sX2NhbGxzXCJdLFxuICAgICAgICBtZXNzYWdlQW5ub3RhdGlvbnNcbiAgICAgICk7XG4gICAgICByZXNwb25zZU1lc3NhZ2UgPSBhc3NpZ25Bbm5vdGF0aW9uc1RvTWVzc2FnZShcbiAgICAgICAgcHJlZml4TWFwW1widGV4dFwiXSxcbiAgICAgICAgbWVzc2FnZUFubm90YXRpb25zXG4gICAgICApO1xuICAgICAgaWYgKHByZWZpeE1hcC50ZXh0ICE9IG51bGwpIHtcbiAgICAgICAgcHJlZml4TWFwLnRleHQuaW50ZXJuYWxVcGRhdGVJZCA9IGdlbmVyYXRlSWQyKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtZXNzYWdlQW5ub3RhdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lc3NhZ2VBbm5vdGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgIGlmIChwcmVmaXhNYXAudGV4dCkge1xuICAgICAgICBwcmVmaXhNYXAudGV4dC5hbm5vdGF0aW9ucyA9IFsuLi5tZXNzYWdlQW5ub3RhdGlvbnNdO1xuICAgICAgfVxuICAgICAgaWYgKHByZWZpeE1hcC5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgIHByZWZpeE1hcC5mdW5jdGlvbl9jYWxsLmFubm90YXRpb25zID0gWy4uLm1lc3NhZ2VBbm5vdGF0aW9uc107XG4gICAgICB9XG4gICAgICBpZiAocHJlZml4TWFwLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgcHJlZml4TWFwLnRvb2xfY2FsbHMuYW5ub3RhdGlvbnMgPSBbLi4ubWVzc2FnZUFubm90YXRpb25zXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWVyZ2VkID0gW2Z1bmN0aW9uQ2FsbE1lc3NhZ2UsIHRvb2xDYWxsTWVzc2FnZSwgcmVzcG9uc2VNZXNzYWdlXS5maWx0ZXIoQm9vbGVhbikubWFwKChtZXNzYWdlKSA9PiAoe1xuICAgICAgLi4uYXNzaWduQW5ub3RhdGlvbnNUb01lc3NhZ2UobWVzc2FnZSwgbWVzc2FnZUFubm90YXRpb25zKVxuICAgIH0pKTtcbiAgICB1cGRhdGUoWy4uLnByZXZpb3VzTWVzc2FnZXMsIC4uLm1lcmdlZF0sIFsuLi5kYXRhXSk7XG4gIH1cbiAgb25GaW5pc2ggPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoKHsgbWVzc2FnZTogcHJlZml4TWFwLnRleHQsIGZpbmlzaFJlYXNvbiwgdXNhZ2UgfSk7XG4gIHJldHVybiB7XG4gICAgbWVzc2FnZXM6IFtcbiAgICAgIHByZWZpeE1hcC50ZXh0LFxuICAgICAgcHJlZml4TWFwLmZ1bmN0aW9uX2NhbGwsXG4gICAgICBwcmVmaXhNYXAudG9vbF9jYWxsc1xuICAgIF0uZmlsdGVyKEJvb2xlYW4pLFxuICAgIGRhdGFcbiAgfTtcbn1cblxuLy8gc3JjL2NhbGwtY2hhdC1hcGkudHNcbnZhciBnZXRPcmlnaW5hbEZldGNoID0gKCkgPT4gZmV0Y2g7XG5hc3luYyBmdW5jdGlvbiBjYWxsQ2hhdEFwaSh7XG4gIGFwaSxcbiAgYm9keSxcbiAgc3RyZWFtUHJvdG9jb2wgPSBcImRhdGFcIixcbiAgY3JlZGVudGlhbHMsXG4gIGhlYWRlcnMsXG4gIGFib3J0Q29udHJvbGxlcixcbiAgcmVzdG9yZU1lc3NhZ2VzT25GYWlsdXJlLFxuICBvblJlc3BvbnNlLFxuICBvblVwZGF0ZSxcbiAgb25GaW5pc2gsXG4gIG9uVG9vbENhbGwsXG4gIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQyLFxuICBmZXRjaDogZmV0Y2gyID0gZ2V0T3JpZ2luYWxGZXRjaCgpXG59KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gyKGFwaSwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAuLi5oZWFkZXJzXG4gICAgfSxcbiAgICBzaWduYWw6IChfYSA9IGFib3J0Q29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRDb250cm9sbGVyKCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zaWduYWwsXG4gICAgY3JlZGVudGlhbHNcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIHJlc3RvcmVNZXNzYWdlc09uRmFpbHVyZSgpO1xuICAgIHRocm93IGVycjtcbiAgfSk7XG4gIGlmIChvblJlc3BvbnNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG9uUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgcmVzdG9yZU1lc3NhZ2VzT25GYWlsdXJlKCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgKF9iID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpKSAhPSBudWxsID8gX2IgOiBcIkZhaWxlZCB0byBmZXRjaCB0aGUgY2hhdCByZXNwb25zZS5cIlxuICAgICk7XG4gIH1cbiAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJlc3BvbnNlIGJvZHkgaXMgZW1wdHkuXCIpO1xuICB9XG4gIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7XG4gIHN3aXRjaCAoc3RyZWFtUHJvdG9jb2wpIHtcbiAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICBjb25zdCBkZWNvZGVyID0gY3JlYXRlQ2h1bmtEZWNvZGVyKCk7XG4gICAgICBjb25zdCByZXN1bHRNZXNzYWdlID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogXCJcIlxuICAgICAgfTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0TWVzc2FnZS5jb250ZW50ICs9IGRlY29kZXIodmFsdWUpO1xuICAgICAgICBvblVwZGF0ZShbeyAuLi5yZXN1bHRNZXNzYWdlIH1dLCBbXSk7XG4gICAgICAgIGlmICgoYWJvcnRDb250cm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBhYm9ydENvbnRyb2xsZXIoKSkgPT09IG51bGwpIHtcbiAgICAgICAgICByZWFkZXIuY2FuY2VsKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9uRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaChyZXN1bHRNZXNzYWdlLCB7XG4gICAgICAgIHVzYWdlOiB7IGNvbXBsZXRpb25Ub2tlbnM6IE5hTiwgcHJvbXB0VG9rZW5zOiBOYU4sIHRvdGFsVG9rZW5zOiBOYU4gfSxcbiAgICAgICAgZmluaXNoUmVhc29uOiBcInVua25vd25cIlxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlczogW3Jlc3VsdE1lc3NhZ2VdLFxuICAgICAgICBkYXRhOiBbXVxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBcImRhdGFcIjoge1xuICAgICAgcmV0dXJuIGF3YWl0IHByb2Nlc3NEYXRhUHJvdG9jb2xSZXNwb25zZSh7XG4gICAgICAgIHJlYWRlcixcbiAgICAgICAgYWJvcnRDb250cm9sbGVyUmVmOiBhYm9ydENvbnRyb2xsZXIgIT0gbnVsbCA/IHsgY3VycmVudDogYWJvcnRDb250cm9sbGVyKCkgfSA6IHZvaWQgMCxcbiAgICAgICAgdXBkYXRlOiBvblVwZGF0ZSxcbiAgICAgICAgb25Ub29sQ2FsbCxcbiAgICAgICAgb25GaW5pc2goeyBtZXNzYWdlLCBmaW5pc2hSZWFzb24sIHVzYWdlIH0pIHtcbiAgICAgICAgICBpZiAob25GaW5pc2ggJiYgbWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBvbkZpbmlzaChtZXNzYWdlLCB7IHVzYWdlLCBmaW5pc2hSZWFzb24gfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMlxuICAgICAgfSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IHN0cmVhbVByb3RvY29sO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwcm90b2NvbDogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9jYWxsLWNvbXBsZXRpb24tYXBpLnRzXG52YXIgZ2V0T3JpZ2luYWxGZXRjaDIgPSAoKSA9PiBmZXRjaDtcbmFzeW5jIGZ1bmN0aW9uIGNhbGxDb21wbGV0aW9uQXBpKHtcbiAgYXBpLFxuICBwcm9tcHQsXG4gIGNyZWRlbnRpYWxzLFxuICBoZWFkZXJzLFxuICBib2R5LFxuICBzdHJlYW1Qcm90b2NvbCA9IFwiZGF0YVwiLFxuICBzZXRDb21wbGV0aW9uLFxuICBzZXRMb2FkaW5nLFxuICBzZXRFcnJvcixcbiAgc2V0QWJvcnRDb250cm9sbGVyLFxuICBvblJlc3BvbnNlLFxuICBvbkZpbmlzaCxcbiAgb25FcnJvcixcbiAgb25EYXRhLFxuICBmZXRjaDogZmV0Y2gyID0gZ2V0T3JpZ2luYWxGZXRjaDIoKVxufSkge1xuICB0cnkge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3Iodm9pZCAwKTtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgc2V0QWJvcnRDb250cm9sbGVyKGFib3J0Q29udHJvbGxlcik7XG4gICAgc2V0Q29tcGxldGlvbihcIlwiKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaDIoYXBpLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBwcm9tcHQsXG4gICAgICAgIC4uLmJvZHlcbiAgICAgIH0pLFxuICAgICAgY3JlZGVudGlhbHMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAuLi5oZWFkZXJzXG4gICAgICB9LFxuICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICAgIGlmIChvblJlc3BvbnNlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBvblJlc3BvbnNlKHJlcyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBhd2FpdCByZXMudGV4dCgpIHx8IFwiRmFpbGVkIHRvIGZldGNoIHRoZSBjaGF0IHJlc3BvbnNlLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXJlcy5ib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgYm9keSBpcyBlbXB0eS5cIik7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgIGNvbnN0IHJlYWRlciA9IHJlcy5ib2R5LmdldFJlYWRlcigpO1xuICAgIHN3aXRjaCAoc3RyZWFtUHJvdG9jb2wpIHtcbiAgICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IGNyZWF0ZUNodW5rRGVjb2RlcigpO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgKz0gZGVjb2Rlcih2YWx1ZSk7XG4gICAgICAgICAgc2V0Q29tcGxldGlvbihyZXN1bHQpO1xuICAgICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlYWRlci5jYW5jZWwoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJkYXRhXCI6IHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCB7IHR5cGUsIHZhbHVlIH0gb2YgcmVhZERhdGFTdHJlYW0ocmVhZGVyLCB7XG4gICAgICAgICAgaXNBYm9ydGVkOiAoKSA9PiBhYm9ydENvbnRyb2xsZXIgPT09IG51bGxcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgICAgICAgICAgcmVzdWx0ICs9IHZhbHVlO1xuICAgICAgICAgICAgICBzZXRDb21wbGV0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImRhdGFcIjoge1xuICAgICAgICAgICAgICBvbkRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRGF0YSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gc3RyZWFtUHJvdG9jb2w7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzdHJlYW0gcHJvdG9jb2w6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob25GaW5pc2gpIHtcbiAgICAgIG9uRmluaXNoKHByb21wdCwgcmVzdWx0KTtcbiAgICB9XG4gICAgc2V0QWJvcnRDb250cm9sbGVyKG51bGwpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgIHNldEFib3J0Q29udHJvbGxlcihudWxsKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0RXJyb3IoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgfVxufVxuXG4vLyBzcmMvY3JlYXRlLWNodW5rLWRlY29kZXIudHNcbmZ1bmN0aW9uIGNyZWF0ZUNodW5rRGVjb2Rlcihjb21wbGV4KSB7XG4gIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgaWYgKCFjb21wbGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICBpZiAoIWNodW5rKVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIHJldHVybiBkZWNvZGVyLmRlY29kZShjaHVuaywgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oY2h1bmspIHtcbiAgICBjb25zdCBkZWNvZGVkID0gZGVjb2Rlci5kZWNvZGUoY2h1bmssIHsgc3RyZWFtOiB0cnVlIH0pLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigobGluZSkgPT4gbGluZSAhPT0gXCJcIik7XG4gICAgcmV0dXJuIGRlY29kZWQubWFwKHBhcnNlU3RyZWFtUGFydCkuZmlsdGVyKEJvb2xlYW4pO1xuICB9O1xufVxuXG4vLyBzcmMvZGF0YS11cmwudHNcbmZ1bmN0aW9uIGdldFRleHRGcm9tRGF0YVVybChkYXRhVXJsKSB7XG4gIGNvbnN0IFtoZWFkZXIsIGJhc2U2NENvbnRlbnRdID0gZGF0YVVybC5zcGxpdChcIixcIik7XG4gIGNvbnN0IG1pbWVUeXBlID0gaGVhZGVyLnNwbGl0KFwiO1wiKVswXS5zcGxpdChcIjpcIilbMV07XG4gIGlmIChtaW1lVHlwZSA9PSBudWxsIHx8IGJhc2U2NENvbnRlbnQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YSBVUkwgZm9ybWF0XCIpO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5hdG9iKGJhc2U2NENvbnRlbnQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZGVjb2RpbmcgZGF0YSBVUkxgKTtcbiAgfVxufVxuXG4vLyBzcmMvaXMtZGVlcC1lcXVhbC1kYXRhLnRzXG5mdW5jdGlvbiBpc0RlZXBFcXVhbERhdGEob2JqMSwgb2JqMikge1xuICBpZiAob2JqMSA9PT0gb2JqMilcbiAgICByZXR1cm4gdHJ1ZTtcbiAgaWYgKG9iajEgPT0gbnVsbCB8fCBvYmoyID09IG51bGwpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIG9iajEgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iajIgIT09IFwib2JqZWN0XCIpXG4gICAgcmV0dXJuIG9iajEgPT09IG9iajI7XG4gIGlmIChvYmoxLmNvbnN0cnVjdG9yICE9PSBvYmoyLmNvbnN0cnVjdG9yKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKG9iajEgaW5zdGFuY2VvZiBEYXRlICYmIG9iajIgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIG9iajEuZ2V0VGltZSgpID09PSBvYmoyLmdldFRpbWUoKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvYmoxKSkge1xuICAgIGlmIChvYmoxLmxlbmd0aCAhPT0gb2JqMi5sZW5ndGgpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoxLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWlzRGVlcEVxdWFsRGF0YShvYmoxW2ldLCBvYmoyW2ldKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBrZXlzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xuICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzMSkge1xuICAgIGlmICgha2V5czIuaW5jbHVkZXMoa2V5KSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWlzRGVlcEVxdWFsRGF0YShvYmoxW2tleV0sIG9iajJba2V5XSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIHNyYy9wcm9jZXNzLWNoYXQtc3RyZWFtLnRzXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQ2hhdFN0cmVhbSh7XG4gIGdldFN0cmVhbWVkUmVzcG9uc2UsXG4gIGV4cGVyaW1lbnRhbF9vbkZ1bmN0aW9uQ2FsbCxcbiAgZXhwZXJpbWVudGFsX29uVG9vbENhbGwsXG4gIHVwZGF0ZUNoYXRSZXF1ZXN0LFxuICBnZXRDdXJyZW50TWVzc2FnZXNcbn0pIHtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCBtZXNzYWdlc0FuZERhdGFPckp1c3RNZXNzYWdlID0gYXdhaXQgZ2V0U3RyZWFtZWRSZXNwb25zZSgpO1xuICAgIGlmIChcIm1lc3NhZ2VzXCIgaW4gbWVzc2FnZXNBbmREYXRhT3JKdXN0TWVzc2FnZSkge1xuICAgICAgbGV0IGhhc0ZvbGxvd2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXNBbmREYXRhT3JKdXN0TWVzc2FnZS5tZXNzYWdlcykge1xuICAgICAgICBpZiAoKG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCA9PT0gdm9pZCAwIHx8IHR5cGVvZiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPT09IFwic3RyaW5nXCIpICYmIChtZXNzYWdlLnRvb2xfY2FsbHMgPT09IHZvaWQgMCB8fCB0eXBlb2YgbWVzc2FnZS50b29sX2NhbGxzID09PSBcInN0cmluZ1wiKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGhhc0ZvbGxvd2luZ1Jlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGV4cGVyaW1lbnRhbF9vbkZ1bmN0aW9uQ2FsbCkge1xuICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbCA9IG1lc3NhZ2UuZnVuY3Rpb25fY2FsbDtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmN0aW9uQ2FsbCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBcImV4cGVyaW1lbnRhbF9vbkZ1bmN0aW9uQ2FsbCBzaG91bGQgbm90IGJlIGRlZmluZWQgd2hlbiB1c2luZyB0b29sc1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbFJlc3BvbnNlID0gYXdhaXQgZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsKFxuICAgICAgICAgICAgZ2V0Q3VycmVudE1lc3NhZ2VzKCksXG4gICAgICAgICAgICBmdW5jdGlvbkNhbGxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChmdW5jdGlvbkNhbGxSZXNwb25zZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBoYXNGb2xsb3dpbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZUNoYXRSZXF1ZXN0KGZ1bmN0aW9uQ2FsbFJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwZXJpbWVudGFsX29uVG9vbENhbGwpIHtcbiAgICAgICAgICBjb25zdCB0b29sQ2FsbHMgPSBtZXNzYWdlLnRvb2xfY2FsbHM7XG4gICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRvb2xDYWxscykgfHwgdG9vbENhbGxzLnNvbWUoKHRvb2xDYWxsKSA9PiB0eXBlb2YgdG9vbENhbGwgIT09IFwib2JqZWN0XCIpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIFwiZXhwZXJpbWVudGFsX29uVG9vbENhbGwgc2hvdWxkIG5vdCBiZSBkZWZpbmVkIHdoZW4gdXNpbmcgdG9vbHNcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB0b29sQ2FsbFJlc3BvbnNlID0gYXdhaXQgZXhwZXJpbWVudGFsX29uVG9vbENhbGwoZ2V0Q3VycmVudE1lc3NhZ2VzKCksIHRvb2xDYWxscyk7XG4gICAgICAgICAgaWYgKHRvb2xDYWxsUmVzcG9uc2UgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaGFzRm9sbG93aW5nUmVzcG9uc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVDaGF0UmVxdWVzdCh0b29sQ2FsbFJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFoYXNGb2xsb3dpbmdSZXNwb25zZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGZpeEZ1bmN0aW9uQ2FsbEFyZ3VtZW50czIgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgcmVzcG9uc2UubWVzc2FnZXMpIHtcbiAgICAgICAgICBpZiAobWVzc2FnZS50b29sX2NhbGxzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9vbENhbGwgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzICYmIHR5cGVvZiB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtZXNzYWdlLmZ1bmN0aW9uX2NhbGwgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgJiYgdHlwZW9mIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzID0gSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBmaXhGdW5jdGlvbkNhbGxBcmd1bWVudHMgPSBmaXhGdW5jdGlvbkNhbGxBcmd1bWVudHMyO1xuICAgICAgY29uc3Qgc3RyZWFtZWRSZXNwb25zZU1lc3NhZ2UgPSBtZXNzYWdlc0FuZERhdGFPckp1c3RNZXNzYWdlO1xuICAgICAgaWYgKChzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZS5mdW5jdGlvbl9jYWxsID09PSB2b2lkIDAgfHwgdHlwZW9mIHN0cmVhbWVkUmVzcG9uc2VNZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPT09IFwic3RyaW5nXCIpICYmIChzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZS50b29sX2NhbGxzID09PSB2b2lkIDAgfHwgdHlwZW9mIHN0cmVhbWVkUmVzcG9uc2VNZXNzYWdlLnRvb2xfY2FsbHMgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGV4cGVyaW1lbnRhbF9vbkZ1bmN0aW9uQ2FsbCkge1xuICAgICAgICBjb25zdCBmdW5jdGlvbkNhbGwgPSBzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZS5mdW5jdGlvbl9jYWxsO1xuICAgICAgICBpZiAoISh0eXBlb2YgZnVuY3Rpb25DYWxsID09PSBcIm9iamVjdFwiKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsIHNob3VsZCBub3QgYmUgZGVmaW5lZCB3aGVuIHVzaW5nIHRvb2xzXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbFJlc3BvbnNlID0gYXdhaXQgZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsKGdldEN1cnJlbnRNZXNzYWdlcygpLCBmdW5jdGlvbkNhbGwpO1xuICAgICAgICBpZiAoZnVuY3Rpb25DYWxsUmVzcG9uc2UgPT09IHZvaWQgMClcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZml4RnVuY3Rpb25DYWxsQXJndW1lbnRzMihmdW5jdGlvbkNhbGxSZXNwb25zZSk7XG4gICAgICAgIHVwZGF0ZUNoYXRSZXF1ZXN0KGZ1bmN0aW9uQ2FsbFJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHBlcmltZW50YWxfb25Ub29sQ2FsbCkge1xuICAgICAgICBjb25zdCB0b29sQ2FsbHMgPSBzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZS50b29sX2NhbGxzO1xuICAgICAgICBpZiAoISh0eXBlb2YgdG9vbENhbGxzID09PSBcIm9iamVjdFwiKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiZXhwZXJpbWVudGFsX29uVG9vbENhbGwgc2hvdWxkIG5vdCBiZSBkZWZpbmVkIHdoZW4gdXNpbmcgZnVuY3Rpb25zXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xDYWxsUmVzcG9uc2UgPSBhd2FpdCBleHBlcmltZW50YWxfb25Ub29sQ2FsbChnZXRDdXJyZW50TWVzc2FnZXMoKSwgdG9vbENhbGxzKTtcbiAgICAgICAgaWYgKHRvb2xDYWxsUmVzcG9uc2UgPT09IHZvaWQgMClcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZml4RnVuY3Rpb25DYWxsQXJndW1lbnRzMih0b29sQ2FsbFJlc3BvbnNlKTtcbiAgICAgICAgdXBkYXRlQ2hhdFJlcXVlc3QodG9vbENhbGxSZXNwb25zZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9zY2hlbWEudHNcbmltcG9ydCB7IHZhbGlkYXRvclN5bWJvbCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgem9kVG9Kc29uU2NoZW1hIGZyb20gXCJ6b2QtdG8tanNvbi1zY2hlbWFcIjtcbnZhciBzY2hlbWFTeW1ib2wgPSBTeW1ib2wuZm9yKFwidmVyY2VsLmFpLnNjaGVtYVwiKTtcbmZ1bmN0aW9uIGpzb25TY2hlbWEoanNvblNjaGVtYTIsIHtcbiAgdmFsaWRhdGVcbn0gPSB7fSkge1xuICByZXR1cm4ge1xuICAgIFtzY2hlbWFTeW1ib2xdOiB0cnVlLFxuICAgIF90eXBlOiB2b2lkIDAsXG4gICAgLy8gc2hvdWxkIG5ldmVyIGJlIHVzZWQgZGlyZWN0bHlcbiAgICBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSxcbiAgICBqc29uU2NoZW1hOiBqc29uU2NoZW1hMixcbiAgICB2YWxpZGF0ZVxuICB9O1xufVxuZnVuY3Rpb24gaXNTY2hlbWEodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBzY2hlbWFTeW1ib2wgaW4gdmFsdWUgJiYgdmFsdWVbc2NoZW1hU3ltYm9sXSA9PT0gdHJ1ZSAmJiBcImpzb25TY2hlbWFcIiBpbiB2YWx1ZSAmJiBcInZhbGlkYXRlXCIgaW4gdmFsdWU7XG59XG5mdW5jdGlvbiBhc1NjaGVtYShzY2hlbWEpIHtcbiAgcmV0dXJuIGlzU2NoZW1hKHNjaGVtYSkgPyBzY2hlbWEgOiB6b2RTY2hlbWEoc2NoZW1hKTtcbn1cbmZ1bmN0aW9uIHpvZFNjaGVtYSh6b2RTY2hlbWEyKSB7XG4gIHJldHVybiBqc29uU2NoZW1hKFxuICAgIC8vIHdlIGFzc3VtZSB0aGF0IHpvZFRvSnNvblNjaGVtYSB3aWxsIHJldHVybiBhIHZhbGlkIEpTT05TY2hlbWE3OlxuICAgIHpvZFRvSnNvblNjaGVtYSh6b2RTY2hlbWEyKSxcbiAgICB7XG4gICAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHpvZFNjaGVtYTIuc2FmZVBhcnNlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LmRhdGEgfSA6IHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiByZXN1bHQuZXJyb3IgfTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5leHBvcnQge1xuICBhc1NjaGVtYSxcbiAgY2FsbENoYXRBcGksXG4gIGNhbGxDb21wbGV0aW9uQXBpLFxuICBjcmVhdGVDaHVua0RlY29kZXIsXG4gIGZvcm1hdFN0cmVhbVBhcnQsXG4gIGdlbmVyYXRlSWQsXG4gIGdldFRleHRGcm9tRGF0YVVybCxcbiAgaXNEZWVwRXF1YWxEYXRhLFxuICBqc29uU2NoZW1hLFxuICBwYXJzZVBhcnRpYWxKc29uLFxuICBwYXJzZVN0cmVhbVBhcnQsXG4gIHByb2Nlc3NDaGF0U3RyZWFtLFxuICBwcm9jZXNzRGF0YVByb3RvY29sUmVzcG9uc2UsXG4gIHJlYWREYXRhU3RyZWFtLFxuICB6b2RTY2hlbWFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbImdlbmVyYXRlSWQiLCJnZW5lcmF0ZUlkRnVuY3Rpb24iLCJTZWN1cmVKU09OIiwiZml4SnNvbiIsImlucHV0Iiwic3RhY2siLCJsYXN0VmFsaWRJbmRleCIsImxpdGVyYWxTdGFydCIsInByb2Nlc3NWYWx1ZVN0YXJ0IiwiY2hhciIsImkiLCJzd2FwU3RhdGUiLCJwb3AiLCJwdXNoIiwicHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUiLCJwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlIiwibGVuZ3RoIiwiY3VycmVudFN0YXRlIiwicGFydGlhbExpdGVyYWwiLCJzdWJzdHJpbmciLCJzdGFydHNXaXRoIiwicmVzdWx0Iiwic2xpY2UiLCJzdGF0ZSIsInBhcnNlUGFydGlhbEpzb24iLCJqc29uVGV4dCIsInZhbHVlIiwicGFyc2UiLCJpZ25vcmVkIiwiaWdub3JlZDIiLCJ0ZXh0U3RyZWFtUGFydCIsImNvZGUiLCJuYW1lIiwiRXJyb3IiLCJ0eXBlIiwiZnVuY3Rpb25DYWxsU3RyZWFtUGFydCIsImZ1bmN0aW9uX2NhbGwiLCJhcmd1bWVudHMiLCJkYXRhU3RyZWFtUGFydCIsIkFycmF5IiwiaXNBcnJheSIsImVycm9yU3RyZWFtUGFydCIsImFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0IiwiaWQiLCJyb2xlIiwiY29udGVudCIsImV2ZXJ5IiwiaXRlbSIsInRleHQiLCJhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQiLCJ0aHJlYWRJZCIsIm1lc3NhZ2VJZCIsImRhdGFNZXNzYWdlU3RyZWFtUGFydCIsInRvb2xDYWxsc1N0cmVhbVBhcnQiLCJ0b29sX2NhbGxzIiwic29tZSIsInRjIiwiZnVuY3Rpb24iLCJtZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0IiwidG9vbENhbGxTdHJlYW1QYXJ0IiwidG9vbENhbGxJZCIsInRvb2xOYW1lIiwiYXJncyIsInRvb2xSZXN1bHRTdHJlYW1QYXJ0IiwidG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQiLCJ0b29sQ2FsbERlbHRhU3RyZWFtUGFydCIsImFyZ3NUZXh0RGVsdGEiLCJmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCIsImZpbmlzaFJlYXNvbiIsInVzYWdlIiwicHJvbXB0VG9rZW5zIiwiTnVtYmVyIiwiTmFOIiwiY29tcGxldGlvblRva2VucyIsImZpbmlzaFN0ZXBTdHJlYW1QYXJ0IiwiaXNDb250aW51ZWQiLCJzdHJlYW1QYXJ0cyIsInN0cmVhbVBhcnRzQnlDb2RlIiwiU3RyZWFtU3RyaW5nUHJlZml4ZXMiLCJ2YWxpZENvZGVzIiwibWFwIiwicGFydCIsInBhcnNlU3RyZWFtUGFydCIsImxpbmUiLCJmaXJzdFNlcGFyYXRvckluZGV4IiwiaW5kZXhPZiIsInByZWZpeCIsImluY2x1ZGVzIiwidGV4dFZhbHVlIiwianNvblZhbHVlIiwiSlNPTiIsImZvcm1hdFN0cmVhbVBhcnQiLCJzdHJlYW1QYXJ0IiwiZmluZCIsInN0cmluZ2lmeSIsIk5FV0xJTkUiLCJjaGFyQ29kZUF0IiwiY29uY2F0Q2h1bmtzIiwiY2h1bmtzIiwidG90YWxMZW5ndGgiLCJjb25jYXRlbmF0ZWRDaHVua3MiLCJVaW50OEFycmF5Iiwib2Zmc2V0IiwiY2h1bmsiLCJzZXQiLCJyZWFkRGF0YVN0cmVhbSIsInJlYWRlciIsImlzQWJvcnRlZCIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsInJlYWQiLCJzdHJlYW1QYXJ0czIiLCJkZWNvZGUiLCJzdHJlYW0iLCJzcGxpdCIsImZpbHRlciIsImNhbmNlbCIsImFzc2lnbkFubm90YXRpb25zVG9NZXNzYWdlIiwibWVzc2FnZSIsImFubm90YXRpb25zIiwicHJvY2Vzc0RhdGFQcm90b2NvbFJlc3BvbnNlIiwiYWJvcnRDb250cm9sbGVyUmVmIiwidXBkYXRlIiwib25Ub29sQ2FsbCIsIm9uRmluaXNoIiwiZ2VuZXJhdGVJZDIiLCJnZXRDdXJyZW50RGF0ZSIsIkRhdGUiLCJfYSIsImNyZWF0ZWRBdCIsInByZWZpeE1hcCIsIm5leHRQcmVmaXhNYXAiLCJwcmV2aW91c01lc3NhZ2VzIiwiZGF0YSIsIm1lc3NhZ2VBbm5vdGF0aW9ucyIsInBhcnRpYWxUb29sQ2FsbHMiLCJ0b3RhbFRva2VucyIsImN1cnJlbnQiLCJ0b29sSW52b2NhdGlvbnMiLCJwcmVmaXhNYXBJbmRleCIsInBhcnRpYWxUb29sQ2FsbCIsInBhcnRpYWxBcmdzIiwiaW50ZXJuYWxVcGRhdGVJZCIsInRvb2xDYWxsIiwidG9vbEludm9jYXRpb25JbmRleCIsImZpbmRJbmRleCIsImludm9jYXRpb24iLCJmdW5jdGlvbkNhbGxNZXNzYWdlIiwidG9vbENhbGxNZXNzYWdlIiwicmVzcG9uc2VNZXNzYWdlIiwibWVyZ2VkIiwiQm9vbGVhbiIsIm1lc3NhZ2VzIiwiZ2V0T3JpZ2luYWxGZXRjaCIsImZldGNoIiwiY2FsbENoYXRBcGkiLCJhcGkiLCJib2R5Iiwic3RyZWFtUHJvdG9jb2wiLCJjcmVkZW50aWFscyIsImhlYWRlcnMiLCJhYm9ydENvbnRyb2xsZXIiLCJyZXN0b3JlTWVzc2FnZXNPbkZhaWx1cmUiLCJvblJlc3BvbnNlIiwib25VcGRhdGUiLCJmZXRjaDIiLCJfYiIsInJlc3BvbnNlIiwibWV0aG9kIiwic2lnbmFsIiwiY2F0Y2giLCJlcnIiLCJvayIsImdldFJlYWRlciIsImNyZWF0ZUNodW5rRGVjb2RlciIsInJlc3VsdE1lc3NhZ2UiLCJkb25lIiwiZXhoYXVzdGl2ZUNoZWNrIiwiZ2V0T3JpZ2luYWxGZXRjaDIiLCJjYWxsQ29tcGxldGlvbkFwaSIsInByb21wdCIsInNldENvbXBsZXRpb24iLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJzZXRBYm9ydENvbnRyb2xsZXIiLCJvbkVycm9yIiwib25EYXRhIiwiQWJvcnRDb250cm9sbGVyIiwicmVzIiwiY29tcGxleCIsImRlY29kZWQiLCJnZXRUZXh0RnJvbURhdGFVcmwiLCJkYXRhVXJsIiwiaGVhZGVyIiwiYmFzZTY0Q29udGVudCIsIm1pbWVUeXBlIiwid2luZG93IiwiYXRvYiIsImVycm9yIiwiaXNEZWVwRXF1YWxEYXRhIiwib2JqMSIsIm9iajIiLCJjb25zdHJ1Y3RvciIsImdldFRpbWUiLCJrZXlzMSIsIk9iamVjdCIsImtleXMiLCJrZXlzMiIsImtleSIsInByb2Nlc3NDaGF0U3RyZWFtIiwiZ2V0U3RyZWFtZWRSZXNwb25zZSIsImV4cGVyaW1lbnRhbF9vbkZ1bmN0aW9uQ2FsbCIsImV4cGVyaW1lbnRhbF9vblRvb2xDYWxsIiwidXBkYXRlQ2hhdFJlcXVlc3QiLCJnZXRDdXJyZW50TWVzc2FnZXMiLCJtZXNzYWdlc0FuZERhdGFPckp1c3RNZXNzYWdlIiwiaGFzRm9sbG93aW5nUmVzcG9uc2UiLCJmdW5jdGlvbkNhbGwiLCJjb25zb2xlIiwid2FybiIsImZ1bmN0aW9uQ2FsbFJlc3BvbnNlIiwidG9vbENhbGxzIiwidG9vbENhbGxSZXNwb25zZSIsImZpeEZ1bmN0aW9uQ2FsbEFyZ3VtZW50czIiLCJmaXhGdW5jdGlvbkNhbGxBcmd1bWVudHMiLCJzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZSIsInZhbGlkYXRvclN5bWJvbCIsInpvZFRvSnNvblNjaGVtYSIsInNjaGVtYVN5bWJvbCIsIlN5bWJvbCIsImZvciIsImpzb25TY2hlbWEiLCJqc29uU2NoZW1hMiIsInZhbGlkYXRlIiwiX3R5cGUiLCJpc1NjaGVtYSIsImFzU2NoZW1hIiwic2NoZW1hIiwiem9kU2NoZW1hIiwiem9kU2NoZW1hMiIsInNhZmVQYXJzZSIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@ai-sdk+ui-utils@0.0.50_zod@3.25.76/node_modules/@ai-sdk/ui-utils/dist/index.mjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/.pnpm/@ai-sdk+ui-utils@0.0.50_zod@3.25.76/node_modules/@ai-sdk/ui-utils/dist/index.mjs":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ai-sdk+ui-utils@0.0.50_zod@3.25.76/node_modules/@ai-sdk/ui-utils/dist/index.mjs ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asSchema: () => (/* binding */ asSchema),\n/* harmony export */   callChatApi: () => (/* binding */ callChatApi),\n/* harmony export */   callCompletionApi: () => (/* binding */ callCompletionApi),\n/* harmony export */   createChunkDecoder: () => (/* binding */ createChunkDecoder),\n/* harmony export */   formatStreamPart: () => (/* binding */ formatStreamPart),\n/* harmony export */   generateId: () => (/* reexport safe */ _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.generateId),\n/* harmony export */   getTextFromDataUrl: () => (/* binding */ getTextFromDataUrl),\n/* harmony export */   isDeepEqualData: () => (/* binding */ isDeepEqualData),\n/* harmony export */   jsonSchema: () => (/* binding */ jsonSchema),\n/* harmony export */   parsePartialJson: () => (/* binding */ parsePartialJson),\n/* harmony export */   parseStreamPart: () => (/* binding */ parseStreamPart),\n/* harmony export */   processChatStream: () => (/* binding */ processChatStream),\n/* harmony export */   processDataProtocolResponse: () => (/* binding */ processDataProtocolResponse),\n/* harmony export */   readDataStream: () => (/* binding */ readDataStream),\n/* harmony export */   zodSchema: () => (/* binding */ zodSchema)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/provider-utils */ \"(action-browser)/./node_modules/.pnpm/@ai-sdk+provider-utils@1.0.22_zod@3.25.76/node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var secure_json_parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! secure-json-parse */ \"(action-browser)/./node_modules/.pnpm/secure-json-parse@2.7.0/node_modules/secure-json-parse/index.js\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod-to-json-schema */ \"(action-browser)/./node_modules/.pnpm/zod-to-json-schema@3.25.1_zod@3.25.76/node_modules/zod-to-json-schema/dist/esm/index.js\");\n// src/index.ts\n\n// src/process-data-protocol-response.ts\n\n// src/parse-partial-json.ts\n\n// src/fix-json.ts\nfunction fixJson(input) {\n    const stack = [\n        \"ROOT\"\n    ];\n    let lastValidIndex = -1;\n    let literalStart = null;\n    function processValueStart(char, i, swapState) {\n        {\n            switch(char){\n                case '\"':\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_STRING\");\n                        break;\n                    }\n                case \"f\":\n                case \"t\":\n                case \"n\":\n                    {\n                        lastValidIndex = i;\n                        literalStart = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_LITERAL\");\n                        break;\n                    }\n                case \"-\":\n                    {\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"0\":\n                case \"1\":\n                case \"2\":\n                case \"3\":\n                case \"4\":\n                case \"5\":\n                case \"6\":\n                case \"7\":\n                case \"8\":\n                case \"9\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"{\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_OBJECT_START\");\n                        break;\n                    }\n                case \"[\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_ARRAY_START\");\n                        break;\n                    }\n            }\n        }\n    }\n    function processAfterObjectValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_OBJECT_AFTER_COMMA\");\n                    break;\n                }\n            case \"}\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    function processAfterArrayValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                    break;\n                }\n            case \"]\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    for(let i = 0; i < input.length; i++){\n        const char = input[i];\n        const currentState = stack[stack.length - 1];\n        switch(currentState){\n            case \"ROOT\":\n                processValueStart(char, i, \"FINISH\");\n                break;\n            case \"INSIDE_OBJECT_START\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_AFTER_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n                {\n                    switch(char){\n                        case \":\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_BEFORE_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n                {\n                    processValueStart(char, i, \"INSIDE_OBJECT_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    processAfterObjectValue(char, i);\n                    break;\n                }\n            case \"INSIDE_STRING\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"\\\\\":\n                            {\n                                stack.push(\"INSIDE_STRING_ESCAPE\");\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n                {\n                    switch(char){\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    switch(char){\n                        case \",\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n                {\n                    processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_STRING_ESCAPE\":\n                {\n                    stack.pop();\n                    lastValidIndex = i;\n                    break;\n                }\n            case \"INSIDE_NUMBER\":\n                {\n                    switch(char){\n                        case \"0\":\n                        case \"1\":\n                        case \"2\":\n                        case \"3\":\n                        case \"4\":\n                        case \"5\":\n                        case \"6\":\n                        case \"7\":\n                        case \"8\":\n                        case \"9\":\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"e\":\n                        case \"E\":\n                        case \"-\":\n                        case \".\":\n                            {\n                                break;\n                            }\n                        case \",\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                break;\n                            }\n                        default:\n                            {\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, i + 1);\n                    if (!\"false\".startsWith(partialLiteral) && !\"true\".startsWith(partialLiteral) && !\"null\".startsWith(partialLiteral)) {\n                        stack.pop();\n                        if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                            processAfterObjectValue(char, i);\n                        } else if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                            processAfterArrayValue(char, i);\n                        }\n                    } else {\n                        lastValidIndex = i;\n                    }\n                    break;\n                }\n        }\n    }\n    let result = input.slice(0, lastValidIndex + 1);\n    for(let i = stack.length - 1; i >= 0; i--){\n        const state = stack[i];\n        switch(state){\n            case \"INSIDE_STRING\":\n                {\n                    result += '\"';\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n            case \"INSIDE_OBJECT_START\":\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    result += \"}\";\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    result += \"]\";\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, input.length);\n                    if (\"true\".startsWith(partialLiteral)) {\n                        result += \"true\".slice(partialLiteral.length);\n                    } else if (\"false\".startsWith(partialLiteral)) {\n                        result += \"false\".slice(partialLiteral.length);\n                    } else if (\"null\".startsWith(partialLiteral)) {\n                        result += \"null\".slice(partialLiteral.length);\n                    }\n                }\n        }\n    }\n    return result;\n}\n// src/parse-partial-json.ts\nfunction parsePartialJson(jsonText) {\n    if (jsonText === void 0) {\n        return {\n            value: void 0,\n            state: \"undefined-input\"\n        };\n    }\n    try {\n        return {\n            value: secure_json_parse__WEBPACK_IMPORTED_MODULE_0__.parse(jsonText),\n            state: \"successful-parse\"\n        };\n    } catch (ignored) {\n        try {\n            return {\n                value: secure_json_parse__WEBPACK_IMPORTED_MODULE_0__.parse(fixJson(jsonText)),\n                state: \"repaired-parse\"\n            };\n        } catch (ignored2) {}\n    }\n    return {\n        value: void 0,\n        state: \"failed-parse\"\n    };\n}\n// src/stream-parts.ts\nvar textStreamPart = {\n    code: \"0\",\n    name: \"text\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"text\" parts expect a string value.');\n        }\n        return {\n            type: \"text\",\n            value\n        };\n    }\n};\nvar functionCallStreamPart = {\n    code: \"1\",\n    name: \"function_call\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"function_call\" in value) || typeof value.function_call !== \"object\" || value.function_call == null || !(\"name\" in value.function_call) || !(\"arguments\" in value.function_call) || typeof value.function_call.name !== \"string\" || typeof value.function_call.arguments !== \"string\") {\n            throw new Error('\"function_call\" parts expect an object with a \"function_call\" property.');\n        }\n        return {\n            type: \"function_call\",\n            value\n        };\n    }\n};\nvar dataStreamPart = {\n    code: \"2\",\n    name: \"data\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"data\" parts expect an array value.');\n        }\n        return {\n            type: \"data\",\n            value\n        };\n    }\n};\nvar errorStreamPart = {\n    code: \"3\",\n    name: \"error\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"error\" parts expect a string value.');\n        }\n        return {\n            type: \"error\",\n            value\n        };\n    }\n};\nvar assistantMessageStreamPart = {\n    code: \"4\",\n    name: \"assistant_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"id\" in value) || !(\"role\" in value) || !(\"content\" in value) || typeof value.id !== \"string\" || typeof value.role !== \"string\" || value.role !== \"assistant\" || !Array.isArray(value.content) || !value.content.every((item)=>item != null && typeof item === \"object\" && \"type\" in item && item.type === \"text\" && \"text\" in item && item.text != null && typeof item.text === \"object\" && \"value\" in item.text && typeof item.text.value === \"string\")) {\n            throw new Error('\"assistant_message\" parts expect an object with an \"id\", \"role\", and \"content\" property.');\n        }\n        return {\n            type: \"assistant_message\",\n            value\n        };\n    }\n};\nvar assistantControlDataStreamPart = {\n    code: \"5\",\n    name: \"assistant_control_data\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"threadId\" in value) || !(\"messageId\" in value) || typeof value.threadId !== \"string\" || typeof value.messageId !== \"string\") {\n            throw new Error('\"assistant_control_data\" parts expect an object with a \"threadId\" and \"messageId\" property.');\n        }\n        return {\n            type: \"assistant_control_data\",\n            value: {\n                threadId: value.threadId,\n                messageId: value.messageId\n            }\n        };\n    }\n};\nvar dataMessageStreamPart = {\n    code: \"6\",\n    name: \"data_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"role\" in value) || !(\"data\" in value) || typeof value.role !== \"string\" || value.role !== \"data\") {\n            throw new Error('\"data_message\" parts expect an object with a \"role\" and \"data\" property.');\n        }\n        return {\n            type: \"data_message\",\n            value\n        };\n    }\n};\nvar toolCallsStreamPart = {\n    code: \"7\",\n    name: \"tool_calls\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"tool_calls\" in value) || typeof value.tool_calls !== \"object\" || value.tool_calls == null || !Array.isArray(value.tool_calls) || value.tool_calls.some((tc)=>tc == null || typeof tc !== \"object\" || !(\"id\" in tc) || typeof tc.id !== \"string\" || !(\"type\" in tc) || typeof tc.type !== \"string\" || !(\"function\" in tc) || tc.function == null || typeof tc.function !== \"object\" || !(\"arguments\" in tc.function) || typeof tc.function.name !== \"string\" || typeof tc.function.arguments !== \"string\")) {\n            throw new Error('\"tool_calls\" parts expect an object with a ToolCallPayload.');\n        }\n        return {\n            type: \"tool_calls\",\n            value\n        };\n    }\n};\nvar messageAnnotationsStreamPart = {\n    code: \"8\",\n    name: \"message_annotations\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"message_annotations\" parts expect an array value.');\n        }\n        return {\n            type: \"message_annotations\",\n            value\n        };\n    }\n};\nvar toolCallStreamPart = {\n    code: \"9\",\n    name: \"tool_call\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\" || !(\"args\" in value) || typeof value.args !== \"object\") {\n            throw new Error('\"tool_call\" parts expect an object with a \"toolCallId\", \"toolName\", and \"args\" property.');\n        }\n        return {\n            type: \"tool_call\",\n            value\n        };\n    }\n};\nvar toolResultStreamPart = {\n    code: \"a\",\n    name: \"tool_result\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"result\" in value)) {\n            throw new Error('\"tool_result\" parts expect an object with a \"toolCallId\" and a \"result\" property.');\n        }\n        return {\n            type: \"tool_result\",\n            value\n        };\n    }\n};\nvar toolCallStreamingStartStreamPart = {\n    code: \"b\",\n    name: \"tool_call_streaming_start\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\") {\n            throw new Error('\"tool_call_streaming_start\" parts expect an object with a \"toolCallId\" and \"toolName\" property.');\n        }\n        return {\n            type: \"tool_call_streaming_start\",\n            value\n        };\n    }\n};\nvar toolCallDeltaStreamPart = {\n    code: \"c\",\n    name: \"tool_call_delta\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"argsTextDelta\" in value) || typeof value.argsTextDelta !== \"string\") {\n            throw new Error('\"tool_call_delta\" parts expect an object with a \"toolCallId\" and \"argsTextDelta\" property.');\n        }\n        return {\n            type: \"tool_call_delta\",\n            value\n        };\n    }\n};\nvar finishMessageStreamPart = {\n    code: \"d\",\n    name: \"finish_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_message\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        return {\n            type: \"finish_message\",\n            value: result\n        };\n    }\n};\nvar finishStepStreamPart = {\n    code: \"e\",\n    name: \"finish_step\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_step\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason,\n            isContinued: false\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        if (\"isContinued\" in value && typeof value.isContinued === \"boolean\") {\n            result.isContinued = value.isContinued;\n        }\n        return {\n            type: \"finish_step\",\n            value: result\n        };\n    }\n};\nvar streamParts = [\n    textStreamPart,\n    functionCallStreamPart,\n    dataStreamPart,\n    errorStreamPart,\n    assistantMessageStreamPart,\n    assistantControlDataStreamPart,\n    dataMessageStreamPart,\n    toolCallsStreamPart,\n    messageAnnotationsStreamPart,\n    toolCallStreamPart,\n    toolResultStreamPart,\n    toolCallStreamingStartStreamPart,\n    toolCallDeltaStreamPart,\n    finishMessageStreamPart,\n    finishStepStreamPart\n];\nvar streamPartsByCode = {\n    [textStreamPart.code]: textStreamPart,\n    [functionCallStreamPart.code]: functionCallStreamPart,\n    [dataStreamPart.code]: dataStreamPart,\n    [errorStreamPart.code]: errorStreamPart,\n    [assistantMessageStreamPart.code]: assistantMessageStreamPart,\n    [assistantControlDataStreamPart.code]: assistantControlDataStreamPart,\n    [dataMessageStreamPart.code]: dataMessageStreamPart,\n    [toolCallsStreamPart.code]: toolCallsStreamPart,\n    [messageAnnotationsStreamPart.code]: messageAnnotationsStreamPart,\n    [toolCallStreamPart.code]: toolCallStreamPart,\n    [toolResultStreamPart.code]: toolResultStreamPart,\n    [toolCallStreamingStartStreamPart.code]: toolCallStreamingStartStreamPart,\n    [toolCallDeltaStreamPart.code]: toolCallDeltaStreamPart,\n    [finishMessageStreamPart.code]: finishMessageStreamPart,\n    [finishStepStreamPart.code]: finishStepStreamPart\n};\nvar StreamStringPrefixes = {\n    [textStreamPart.name]: textStreamPart.code,\n    [functionCallStreamPart.name]: functionCallStreamPart.code,\n    [dataStreamPart.name]: dataStreamPart.code,\n    [errorStreamPart.name]: errorStreamPart.code,\n    [assistantMessageStreamPart.name]: assistantMessageStreamPart.code,\n    [assistantControlDataStreamPart.name]: assistantControlDataStreamPart.code,\n    [dataMessageStreamPart.name]: dataMessageStreamPart.code,\n    [toolCallsStreamPart.name]: toolCallsStreamPart.code,\n    [messageAnnotationsStreamPart.name]: messageAnnotationsStreamPart.code,\n    [toolCallStreamPart.name]: toolCallStreamPart.code,\n    [toolResultStreamPart.name]: toolResultStreamPart.code,\n    [toolCallStreamingStartStreamPart.name]: toolCallStreamingStartStreamPart.code,\n    [toolCallDeltaStreamPart.name]: toolCallDeltaStreamPart.code,\n    [finishMessageStreamPart.name]: finishMessageStreamPart.code,\n    [finishStepStreamPart.name]: finishStepStreamPart.code\n};\nvar validCodes = streamParts.map((part)=>part.code);\nvar parseStreamPart = (line)=>{\n    const firstSeparatorIndex = line.indexOf(\":\");\n    if (firstSeparatorIndex === -1) {\n        throw new Error(\"Failed to parse stream string. No separator found.\");\n    }\n    const prefix = line.slice(0, firstSeparatorIndex);\n    if (!validCodes.includes(prefix)) {\n        throw new Error(`Failed to parse stream string. Invalid code ${prefix}.`);\n    }\n    const code = prefix;\n    const textValue = line.slice(firstSeparatorIndex + 1);\n    const jsonValue = JSON.parse(textValue);\n    return streamPartsByCode[code].parse(jsonValue);\n};\nfunction formatStreamPart(type, value) {\n    const streamPart = streamParts.find((part)=>part.name === type);\n    if (!streamPart) {\n        throw new Error(`Invalid stream part type: ${type}`);\n    }\n    return `${streamPart.code}:${JSON.stringify(value)}\n`;\n}\n// src/read-data-stream.ts\nvar NEWLINE = \"\\n\".charCodeAt(0);\nfunction concatChunks(chunks, totalLength) {\n    const concatenatedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks){\n        concatenatedChunks.set(chunk, offset);\n        offset += chunk.length;\n    }\n    chunks.length = 0;\n    return concatenatedChunks;\n}\nasync function* readDataStream(reader, { isAborted } = {}) {\n    const decoder = new TextDecoder();\n    const chunks = [];\n    let totalLength = 0;\n    while(true){\n        const { value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            totalLength += value.length;\n            if (value[value.length - 1] !== NEWLINE) {\n                continue;\n            }\n        }\n        if (chunks.length === 0) {\n            break;\n        }\n        const concatenatedChunks = concatChunks(chunks, totalLength);\n        totalLength = 0;\n        const streamParts2 = decoder.decode(concatenatedChunks, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\").map(parseStreamPart);\n        for (const streamPart of streamParts2){\n            yield streamPart;\n        }\n        if (isAborted == null ? void 0 : isAborted()) {\n            reader.cancel();\n            break;\n        }\n    }\n}\n// src/process-data-protocol-response.ts\nfunction assignAnnotationsToMessage(message, annotations) {\n    if (!message || !annotations || !annotations.length) return message;\n    return {\n        ...message,\n        annotations: [\n            ...annotations\n        ]\n    };\n}\nasync function processDataProtocolResponse({ reader, abortControllerRef, update, onToolCall, onFinish, generateId: generateId2 = _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.generateId, getCurrentDate = ()=>/* @__PURE__ */ new Date() }) {\n    var _a;\n    const createdAt = getCurrentDate();\n    let prefixMap = {};\n    let nextPrefixMap = void 0;\n    const previousMessages = [];\n    const data = [];\n    let messageAnnotations = void 0;\n    const partialToolCalls = {};\n    let usage = {\n        completionTokens: NaN,\n        promptTokens: NaN,\n        totalTokens: NaN\n    };\n    let finishReason = \"unknown\";\n    for await (const { type, value } of readDataStream(reader, {\n        isAborted: ()=>(abortControllerRef == null ? void 0 : abortControllerRef.current) === null\n    })){\n        if (type === \"error\") {\n            throw new Error(value);\n        }\n        if (type === \"finish_step\") {\n            if (!value.isContinued) {\n                nextPrefixMap = {};\n            }\n            continue;\n        }\n        if (type === \"finish_message\") {\n            finishReason = value.finishReason;\n            if (value.usage != null) {\n                const { completionTokens, promptTokens } = value.usage;\n                usage = {\n                    completionTokens,\n                    promptTokens,\n                    totalTokens: completionTokens + promptTokens\n                };\n            }\n            continue;\n        }\n        if (nextPrefixMap != null && (type === \"text\" || type === \"tool_call\" || type === \"tool_call_streaming_start\" || type === \"tool_call_delta\" || type === \"tool_result\")) {\n            if (prefixMap.text) {\n                previousMessages.push(prefixMap.text);\n            }\n            if (prefixMap.function_call) {\n                previousMessages.push(prefixMap.function_call);\n            }\n            if (prefixMap.tool_calls) {\n                previousMessages.push(prefixMap.tool_calls);\n            }\n            prefixMap = nextPrefixMap;\n            nextPrefixMap = void 0;\n        }\n        if (type === \"text\") {\n            if (prefixMap[\"text\"]) {\n                prefixMap[\"text\"] = {\n                    ...prefixMap[\"text\"],\n                    content: (prefixMap[\"text\"].content || \"\") + value\n                };\n            } else {\n                prefixMap[\"text\"] = {\n                    id: generateId2(),\n                    role: \"assistant\",\n                    content: value,\n                    createdAt\n                };\n            }\n        }\n        if (type === \"tool_call_streaming_start\") {\n            if (prefixMap.text == null) {\n                prefixMap.text = {\n                    id: generateId2(),\n                    role: \"assistant\",\n                    content: \"\",\n                    createdAt\n                };\n            }\n            if (prefixMap.text.toolInvocations == null) {\n                prefixMap.text.toolInvocations = [];\n            }\n            partialToolCalls[value.toolCallId] = {\n                text: \"\",\n                toolName: value.toolName,\n                prefixMapIndex: prefixMap.text.toolInvocations.length\n            };\n            prefixMap.text.toolInvocations.push({\n                state: \"partial-call\",\n                toolCallId: value.toolCallId,\n                toolName: value.toolName,\n                args: void 0\n            });\n        } else if (type === \"tool_call_delta\") {\n            const partialToolCall = partialToolCalls[value.toolCallId];\n            partialToolCall.text += value.argsTextDelta;\n            const { value: partialArgs } = parsePartialJson(partialToolCall.text);\n            prefixMap.text.toolInvocations[partialToolCall.prefixMapIndex] = {\n                state: \"partial-call\",\n                toolCallId: value.toolCallId,\n                toolName: partialToolCall.toolName,\n                args: partialArgs\n            };\n            prefixMap.text.internalUpdateId = generateId2();\n        } else if (type === \"tool_call\") {\n            if (partialToolCalls[value.toolCallId] != null) {\n                prefixMap.text.toolInvocations[partialToolCalls[value.toolCallId].prefixMapIndex] = {\n                    state: \"call\",\n                    ...value\n                };\n            } else {\n                if (prefixMap.text == null) {\n                    prefixMap.text = {\n                        id: generateId2(),\n                        role: \"assistant\",\n                        content: \"\",\n                        createdAt\n                    };\n                }\n                if (prefixMap.text.toolInvocations == null) {\n                    prefixMap.text.toolInvocations = [];\n                }\n                prefixMap.text.toolInvocations.push({\n                    state: \"call\",\n                    ...value\n                });\n            }\n            prefixMap.text.internalUpdateId = generateId2();\n            if (onToolCall) {\n                const result = await onToolCall({\n                    toolCall: value\n                });\n                if (result != null) {\n                    prefixMap.text.toolInvocations[prefixMap.text.toolInvocations.length - 1] = {\n                        state: \"result\",\n                        ...value,\n                        result\n                    };\n                }\n            }\n        } else if (type === \"tool_result\") {\n            const toolInvocations = (_a = prefixMap.text) == null ? void 0 : _a.toolInvocations;\n            if (toolInvocations == null) {\n                throw new Error(\"tool_result must be preceded by a tool_call\");\n            }\n            const toolInvocationIndex = toolInvocations.findIndex((invocation)=>invocation.toolCallId === value.toolCallId);\n            if (toolInvocationIndex === -1) {\n                throw new Error(\"tool_result must be preceded by a tool_call with the same toolCallId\");\n            }\n            toolInvocations[toolInvocationIndex] = {\n                ...toolInvocations[toolInvocationIndex],\n                state: \"result\",\n                ...value\n            };\n        }\n        let functionCallMessage = null;\n        if (type === \"function_call\") {\n            prefixMap[\"function_call\"] = {\n                id: generateId2(),\n                role: \"assistant\",\n                content: \"\",\n                function_call: value.function_call,\n                name: value.function_call.name,\n                createdAt\n            };\n            functionCallMessage = prefixMap[\"function_call\"];\n        }\n        let toolCallMessage = null;\n        if (type === \"tool_calls\") {\n            prefixMap[\"tool_calls\"] = {\n                id: generateId2(),\n                role: \"assistant\",\n                content: \"\",\n                tool_calls: value.tool_calls,\n                createdAt\n            };\n            toolCallMessage = prefixMap[\"tool_calls\"];\n        }\n        if (type === \"data\") {\n            data.push(...value);\n        }\n        let responseMessage = prefixMap[\"text\"];\n        if (type === \"message_annotations\") {\n            if (!messageAnnotations) {\n                messageAnnotations = [\n                    ...value\n                ];\n            } else {\n                messageAnnotations.push(...value);\n            }\n            functionCallMessage = assignAnnotationsToMessage(prefixMap[\"function_call\"], messageAnnotations);\n            toolCallMessage = assignAnnotationsToMessage(prefixMap[\"tool_calls\"], messageAnnotations);\n            responseMessage = assignAnnotationsToMessage(prefixMap[\"text\"], messageAnnotations);\n            if (prefixMap.text != null) {\n                prefixMap.text.internalUpdateId = generateId2();\n            }\n        }\n        if (messageAnnotations == null ? void 0 : messageAnnotations.length) {\n            if (prefixMap.text) {\n                prefixMap.text.annotations = [\n                    ...messageAnnotations\n                ];\n            }\n            if (prefixMap.function_call) {\n                prefixMap.function_call.annotations = [\n                    ...messageAnnotations\n                ];\n            }\n            if (prefixMap.tool_calls) {\n                prefixMap.tool_calls.annotations = [\n                    ...messageAnnotations\n                ];\n            }\n        }\n        const merged = [\n            functionCallMessage,\n            toolCallMessage,\n            responseMessage\n        ].filter(Boolean).map((message)=>({\n                ...assignAnnotationsToMessage(message, messageAnnotations)\n            }));\n        update([\n            ...previousMessages,\n            ...merged\n        ], [\n            ...data\n        ]);\n    }\n    onFinish == null ? void 0 : onFinish({\n        message: prefixMap.text,\n        finishReason,\n        usage\n    });\n    return {\n        messages: [\n            prefixMap.text,\n            prefixMap.function_call,\n            prefixMap.tool_calls\n        ].filter(Boolean),\n        data\n    };\n}\n// src/call-chat-api.ts\nvar getOriginalFetch = ()=>fetch;\nasync function callChatApi({ api, body, streamProtocol = \"data\", credentials, headers, abortController, restoreMessagesOnFailure, onResponse, onUpdate, onFinish, onToolCall, generateId: generateId2, fetch: fetch2 = getOriginalFetch() }) {\n    var _a, _b;\n    const response = await fetch2(api, {\n        method: \"POST\",\n        body: JSON.stringify(body),\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...headers\n        },\n        signal: (_a = abortController == null ? void 0 : abortController()) == null ? void 0 : _a.signal,\n        credentials\n    }).catch((err)=>{\n        restoreMessagesOnFailure();\n        throw err;\n    });\n    if (onResponse) {\n        try {\n            await onResponse(response);\n        } catch (err) {\n            throw err;\n        }\n    }\n    if (!response.ok) {\n        restoreMessagesOnFailure();\n        throw new Error((_b = await response.text()) != null ? _b : \"Failed to fetch the chat response.\");\n    }\n    if (!response.body) {\n        throw new Error(\"The response body is empty.\");\n    }\n    const reader = response.body.getReader();\n    switch(streamProtocol){\n        case \"text\":\n            {\n                const decoder = createChunkDecoder();\n                const resultMessage = {\n                    id: generateId2(),\n                    createdAt: /* @__PURE__ */ new Date(),\n                    role: \"assistant\",\n                    content: \"\"\n                };\n                while(true){\n                    const { done, value } = await reader.read();\n                    if (done) {\n                        break;\n                    }\n                    resultMessage.content += decoder(value);\n                    onUpdate([\n                        {\n                            ...resultMessage\n                        }\n                    ], []);\n                    if ((abortController == null ? void 0 : abortController()) === null) {\n                        reader.cancel();\n                        break;\n                    }\n                }\n                onFinish == null ? void 0 : onFinish(resultMessage, {\n                    usage: {\n                        completionTokens: NaN,\n                        promptTokens: NaN,\n                        totalTokens: NaN\n                    },\n                    finishReason: \"unknown\"\n                });\n                return {\n                    messages: [\n                        resultMessage\n                    ],\n                    data: []\n                };\n            }\n        case \"data\":\n            {\n                return await processDataProtocolResponse({\n                    reader,\n                    abortControllerRef: abortController != null ? {\n                        current: abortController()\n                    } : void 0,\n                    update: onUpdate,\n                    onToolCall,\n                    onFinish ({ message, finishReason, usage }) {\n                        if (onFinish && message != null) {\n                            onFinish(message, {\n                                usage,\n                                finishReason\n                            });\n                        }\n                    },\n                    generateId: generateId2\n                });\n            }\n        default:\n            {\n                const exhaustiveCheck = streamProtocol;\n                throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n            }\n    }\n}\n// src/call-completion-api.ts\nvar getOriginalFetch2 = ()=>fetch;\nasync function callCompletionApi({ api, prompt, credentials, headers, body, streamProtocol = \"data\", setCompletion, setLoading, setError, setAbortController, onResponse, onFinish, onError, onData, fetch: fetch2 = getOriginalFetch2() }) {\n    try {\n        setLoading(true);\n        setError(void 0);\n        const abortController = new AbortController();\n        setAbortController(abortController);\n        setCompletion(\"\");\n        const res = await fetch2(api, {\n            method: \"POST\",\n            body: JSON.stringify({\n                prompt,\n                ...body\n            }),\n            credentials,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...headers\n            },\n            signal: abortController.signal\n        }).catch((err)=>{\n            throw err;\n        });\n        if (onResponse) {\n            try {\n                await onResponse(res);\n            } catch (err) {\n                throw err;\n            }\n        }\n        if (!res.ok) {\n            throw new Error(await res.text() || \"Failed to fetch the chat response.\");\n        }\n        if (!res.body) {\n            throw new Error(\"The response body is empty.\");\n        }\n        let result = \"\";\n        const reader = res.body.getReader();\n        switch(streamProtocol){\n            case \"text\":\n                {\n                    const decoder = createChunkDecoder();\n                    while(true){\n                        const { done, value } = await reader.read();\n                        if (done) {\n                            break;\n                        }\n                        result += decoder(value);\n                        setCompletion(result);\n                        if (abortController === null) {\n                            reader.cancel();\n                            break;\n                        }\n                    }\n                    break;\n                }\n            case \"data\":\n                {\n                    for await (const { type, value } of readDataStream(reader, {\n                        isAborted: ()=>abortController === null\n                    })){\n                        switch(type){\n                            case \"text\":\n                                {\n                                    result += value;\n                                    setCompletion(result);\n                                    break;\n                                }\n                            case \"data\":\n                                {\n                                    onData == null ? void 0 : onData(value);\n                                    break;\n                                }\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    const exhaustiveCheck = streamProtocol;\n                    throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n                }\n        }\n        if (onFinish) {\n            onFinish(prompt, result);\n        }\n        setAbortController(null);\n        return result;\n    } catch (err) {\n        if (err.name === \"AbortError\") {\n            setAbortController(null);\n            return null;\n        }\n        if (err instanceof Error) {\n            if (onError) {\n                onError(err);\n            }\n        }\n        setError(err);\n    } finally{\n        setLoading(false);\n    }\n}\n// src/create-chunk-decoder.ts\nfunction createChunkDecoder(complex) {\n    const decoder = new TextDecoder();\n    if (!complex) {\n        return function(chunk) {\n            if (!chunk) return \"\";\n            return decoder.decode(chunk, {\n                stream: true\n            });\n        };\n    }\n    return function(chunk) {\n        const decoded = decoder.decode(chunk, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\");\n        return decoded.map(parseStreamPart).filter(Boolean);\n    };\n}\n// src/data-url.ts\nfunction getTextFromDataUrl(dataUrl) {\n    const [header, base64Content] = dataUrl.split(\",\");\n    const mimeType = header.split(\";\")[0].split(\":\")[1];\n    if (mimeType == null || base64Content == null) {\n        throw new Error(\"Invalid data URL format\");\n    }\n    try {\n        return window.atob(base64Content);\n    } catch (error) {\n        throw new Error(`Error decoding data URL`);\n    }\n}\n// src/is-deep-equal-data.ts\nfunction isDeepEqualData(obj1, obj2) {\n    if (obj1 === obj2) return true;\n    if (obj1 == null || obj2 == null) return false;\n    if (typeof obj1 !== \"object\" && typeof obj2 !== \"object\") return obj1 === obj2;\n    if (obj1.constructor !== obj2.constructor) return false;\n    if (obj1 instanceof Date && obj2 instanceof Date) {\n        return obj1.getTime() === obj2.getTime();\n    }\n    if (Array.isArray(obj1)) {\n        if (obj1.length !== obj2.length) return false;\n        for(let i = 0; i < obj1.length; i++){\n            if (!isDeepEqualData(obj1[i], obj2[i])) return false;\n        }\n        return true;\n    }\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    for (const key of keys1){\n        if (!keys2.includes(key)) return false;\n        if (!isDeepEqualData(obj1[key], obj2[key])) return false;\n    }\n    return true;\n}\n// src/process-chat-stream.ts\nasync function processChatStream({ getStreamedResponse, experimental_onFunctionCall, experimental_onToolCall, updateChatRequest, getCurrentMessages }) {\n    while(true){\n        const messagesAndDataOrJustMessage = await getStreamedResponse();\n        if (\"messages\" in messagesAndDataOrJustMessage) {\n            let hasFollowingResponse = false;\n            for (const message of messagesAndDataOrJustMessage.messages){\n                if ((message.function_call === void 0 || typeof message.function_call === \"string\") && (message.tool_calls === void 0 || typeof message.tool_calls === \"string\")) {\n                    continue;\n                }\n                hasFollowingResponse = true;\n                if (experimental_onFunctionCall) {\n                    const functionCall = message.function_call;\n                    if (typeof functionCall !== \"object\") {\n                        console.warn(\"experimental_onFunctionCall should not be defined when using tools\");\n                        continue;\n                    }\n                    const functionCallResponse = await experimental_onFunctionCall(getCurrentMessages(), functionCall);\n                    if (functionCallResponse === void 0) {\n                        hasFollowingResponse = false;\n                        break;\n                    }\n                    updateChatRequest(functionCallResponse);\n                }\n                if (experimental_onToolCall) {\n                    const toolCalls = message.tool_calls;\n                    if (!Array.isArray(toolCalls) || toolCalls.some((toolCall)=>typeof toolCall !== \"object\")) {\n                        console.warn(\"experimental_onToolCall should not be defined when using tools\");\n                        continue;\n                    }\n                    const toolCallResponse = await experimental_onToolCall(getCurrentMessages(), toolCalls);\n                    if (toolCallResponse === void 0) {\n                        hasFollowingResponse = false;\n                        break;\n                    }\n                    updateChatRequest(toolCallResponse);\n                }\n            }\n            if (!hasFollowingResponse) {\n                break;\n            }\n        } else {\n            let fixFunctionCallArguments2 = function(response) {\n                for (const message of response.messages){\n                    if (message.tool_calls !== void 0) {\n                        for (const toolCall of message.tool_calls){\n                            if (typeof toolCall === \"object\") {\n                                if (toolCall.function.arguments && typeof toolCall.function.arguments !== \"string\") {\n                                    toolCall.function.arguments = JSON.stringify(toolCall.function.arguments);\n                                }\n                            }\n                        }\n                    }\n                    if (message.function_call !== void 0) {\n                        if (typeof message.function_call === \"object\") {\n                            if (message.function_call.arguments && typeof message.function_call.arguments !== \"string\") {\n                                message.function_call.arguments = JSON.stringify(message.function_call.arguments);\n                            }\n                        }\n                    }\n                }\n            };\n            var fixFunctionCallArguments = fixFunctionCallArguments2;\n            const streamedResponseMessage = messagesAndDataOrJustMessage;\n            if ((streamedResponseMessage.function_call === void 0 || typeof streamedResponseMessage.function_call === \"string\") && (streamedResponseMessage.tool_calls === void 0 || typeof streamedResponseMessage.tool_calls === \"string\")) {\n                break;\n            }\n            if (experimental_onFunctionCall) {\n                const functionCall = streamedResponseMessage.function_call;\n                if (!(typeof functionCall === \"object\")) {\n                    console.warn(\"experimental_onFunctionCall should not be defined when using tools\");\n                    continue;\n                }\n                const functionCallResponse = await experimental_onFunctionCall(getCurrentMessages(), functionCall);\n                if (functionCallResponse === void 0) break;\n                fixFunctionCallArguments2(functionCallResponse);\n                updateChatRequest(functionCallResponse);\n            }\n            if (experimental_onToolCall) {\n                const toolCalls = streamedResponseMessage.tool_calls;\n                if (!(typeof toolCalls === \"object\")) {\n                    console.warn(\"experimental_onToolCall should not be defined when using functions\");\n                    continue;\n                }\n                const toolCallResponse = await experimental_onToolCall(getCurrentMessages(), toolCalls);\n                if (toolCallResponse === void 0) break;\n                fixFunctionCallArguments2(toolCallResponse);\n                updateChatRequest(toolCallResponse);\n            }\n        }\n    }\n}\n// src/schema.ts\n\n\nvar schemaSymbol = Symbol.for(\"vercel.ai.schema\");\nfunction jsonSchema(jsonSchema2, { validate } = {}) {\n    return {\n        [schemaSymbol]: true,\n        _type: void 0,\n        // should never be used directly\n        [_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.validatorSymbol]: true,\n        jsonSchema: jsonSchema2,\n        validate\n    };\n}\nfunction isSchema(value) {\n    return typeof value === \"object\" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && \"jsonSchema\" in value && \"validate\" in value;\n}\nfunction asSchema(schema) {\n    return isSchema(schema) ? schema : zodSchema(schema);\n}\nfunction zodSchema(zodSchema2) {\n    return jsonSchema(// we assume that zodToJsonSchema will return a valid JSONSchema7:\n    (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(zodSchema2), {\n        validate: (value)=>{\n            const result = zodSchema2.safeParse(value);\n            return result.success ? {\n                success: true,\n                value: result.data\n            } : {\n                success: false,\n                error: result.error\n            };\n        }\n    });\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3VpLXV0aWxzQDAuMC41MF96b2RAMy4yNS43Ni9ub2RlX21vZHVsZXMvQGFpLXNkay91aS11dGlscy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxlQUFlO0FBQ3FDO0FBRXBELHdDQUF3QztBQUNrQztBQUUxRSw0QkFBNEI7QUFDZTtBQUUzQyxrQkFBa0I7QUFDbEIsU0FBU0csUUFBUUMsS0FBSztJQUNwQixNQUFNQyxRQUFRO1FBQUM7S0FBTztJQUN0QixJQUFJQyxpQkFBaUIsQ0FBQztJQUN0QixJQUFJQyxlQUFlO0lBQ25CLFNBQVNDLGtCQUFrQkMsSUFBSSxFQUFFQyxDQUFDLEVBQUVDLFNBQVM7UUFDM0M7WUFDRSxPQUFRRjtnQkFDTixLQUFLO29CQUFLO3dCQUNSSCxpQkFBaUJJO3dCQUNqQkwsTUFBTU8sR0FBRzt3QkFDVFAsTUFBTVEsSUFBSSxDQUFDRjt3QkFDWE4sTUFBTVEsSUFBSSxDQUFDO3dCQUNYO29CQUNGO2dCQUNBLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO29CQUFLO3dCQUNSUCxpQkFBaUJJO3dCQUNqQkgsZUFBZUc7d0JBQ2ZMLE1BQU1PLEdBQUc7d0JBQ1RQLE1BQU1RLElBQUksQ0FBQ0Y7d0JBQ1hOLE1BQU1RLElBQUksQ0FBQzt3QkFDWDtvQkFDRjtnQkFDQSxLQUFLO29CQUFLO3dCQUNSUixNQUFNTyxHQUFHO3dCQUNUUCxNQUFNUSxJQUFJLENBQUNGO3dCQUNYTixNQUFNUSxJQUFJLENBQUM7d0JBQ1g7b0JBQ0Y7Z0JBQ0EsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztvQkFBSzt3QkFDUlAsaUJBQWlCSTt3QkFDakJMLE1BQU1PLEdBQUc7d0JBQ1RQ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LE9BQU8sT0FBT0EsVUFBVSxZQUFZQSxVQUFVLFFBQVEwTSxnQkFBZ0IxTSxTQUFTQSxLQUFLLENBQUMwTSxhQUFhLEtBQUssUUFBUSxnQkFBZ0IxTSxTQUFTLGNBQWNBO0FBQ3hKO0FBQ0EsU0FBU2tOLFNBQVNDLE1BQU07SUFDdEIsT0FBT0YsU0FBU0UsVUFBVUEsU0FBU0MsVUFBVUQ7QUFDL0M7QUFDQSxTQUFTQyxVQUFVQyxVQUFVO0lBQzNCLE9BQU9SLFdBQ0wsa0VBQWtFO0lBQ2xFSiw4REFBZUEsQ0FBQ1ksYUFDaEI7UUFDRU4sVUFBVSxDQUFDL007WUFDVCxNQUFNTCxTQUFTME4sV0FBV0MsU0FBUyxDQUFDdE47WUFDcEMsT0FBT0wsT0FBTzROLE9BQU8sR0FBRztnQkFBRUEsU0FBUztnQkFBTXZOLE9BQU9MLE9BQU9nSCxJQUFJO1lBQUMsSUFBSTtnQkFBRTRHLFNBQVM7Z0JBQU8zQyxPQUFPakwsT0FBT2lMLEtBQUs7WUFBQztRQUN4RztJQUNGO0FBRUo7QUFpQkUsQ0FDRixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZW50aW5lbC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3VpLXV0aWxzQDAuMC41MF96b2RAMy4yNS43Ni9ub2RlX21vZHVsZXMvQGFpLXNkay91aS11dGlscy9kaXN0L2luZGV4Lm1qcz8xMjIxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHsgZ2VuZXJhdGVJZCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5cbi8vIHNyYy9wcm9jZXNzLWRhdGEtcHJvdG9jb2wtcmVzcG9uc2UudHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgYXMgZ2VuZXJhdGVJZEZ1bmN0aW9uIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gc3JjL3BhcnNlLXBhcnRpYWwtanNvbi50c1xuaW1wb3J0IFNlY3VyZUpTT04gZnJvbSBcInNlY3VyZS1qc29uLXBhcnNlXCI7XG5cbi8vIHNyYy9maXgtanNvbi50c1xuZnVuY3Rpb24gZml4SnNvbihpbnB1dCkge1xuICBjb25zdCBzdGFjayA9IFtcIlJPT1RcIl07XG4gIGxldCBsYXN0VmFsaWRJbmRleCA9IC0xO1xuICBsZXQgbGl0ZXJhbFN0YXJ0ID0gbnVsbDtcbiAgZnVuY3Rpb24gcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgc3dhcFN0YXRlKSB7XG4gICAge1xuICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9TVFJJTkdcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgY2FzZSBcInRcIjpcbiAgICAgICAgY2FzZSBcIm5cIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBsaXRlcmFsU3RhcnQgPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX0xJVEVSQUxcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIi1cIjoge1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX05VTUJFUlwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiMFwiOlxuICAgICAgICBjYXNlIFwiMVwiOlxuICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICBjYXNlIFwiM1wiOlxuICAgICAgICBjYXNlIFwiNFwiOlxuICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICBjYXNlIFwiNlwiOlxuICAgICAgICBjYXNlIFwiN1wiOlxuICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICBjYXNlIFwiOVwiOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX05VTUJFUlwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwie1wiOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9TVEFSVFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiW1wiOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX0FSUkFZX1NUQVJUXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0FGVEVSX0NPTU1BXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSkge1xuICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhciA9IGlucHV0W2ldO1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgIHN3aXRjaCAoY3VycmVudFN0YXRlKSB7XG4gICAgICBjYXNlIFwiUk9PVFwiOlxuICAgICAgICBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCBcIkZJTklTSFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9TVEFSVFwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9LRVlcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9LRVlcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9LRVlcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfQUZURVJfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfS0VZXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSBcIjpcIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUVcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUVcIjoge1xuICAgICAgICBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCBcIklOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX1NUUklOR1wiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIlxcXFxcIjoge1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9TVFJJTkdfRVNDQVBFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX1NUQVJUXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSBcIl1cIjoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIjoge1xuICAgICAgICBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX1NUUklOR19FU0NBUEVcIjoge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfTlVNQkVSXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgICBjYXNlIFwiMVwiOlxuICAgICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICBjYXNlIFwiNFwiOlxuICAgICAgICAgIGNhc2UgXCI1XCI6XG4gICAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgICBjYXNlIFwiN1wiOlxuICAgICAgICAgIGNhc2UgXCI4XCI6XG4gICAgICAgICAgY2FzZSBcIjlcIjoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJlXCI6XG4gICAgICAgICAgY2FzZSBcIkVcIjpcbiAgICAgICAgICBjYXNlIFwiLVwiOlxuICAgICAgICAgIGNhc2UgXCIuXCI6IHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIikge1xuICAgICAgICAgICAgICBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUVcIikge1xuICAgICAgICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwifVwiOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIl1cIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfTElURVJBTFwiOiB7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxMaXRlcmFsID0gaW5wdXQuc3Vic3RyaW5nKGxpdGVyYWxTdGFydCwgaSArIDEpO1xuICAgICAgICBpZiAoIVwiZmFsc2VcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSAmJiAhXCJ0cnVlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkgJiYgIVwibnVsbFwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUVcIikge1xuICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIikge1xuICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgcmVzdWx0ID0gaW5wdXQuc2xpY2UoMCwgbGFzdFZhbGlkSW5kZXggKyAxKTtcbiAgZm9yIChsZXQgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBzdGFja1tpXTtcbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICBjYXNlIFwiSU5TSURFX1NUUklOR1wiOiB7XG4gICAgICAgIHJlc3VsdCArPSAnXCInO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0tFWVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfS0VZXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfU1RBUlRcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0JFRk9SRV9WQUxVRVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICByZXN1bHQgKz0gXCJ9XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9TVEFSVFwiOlxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHJlc3VsdCArPSBcIl1cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0xJVEVSQUxcIjoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQsIGlucHV0Lmxlbmd0aCk7XG4gICAgICAgIGlmIChcInRydWVcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHJlc3VsdCArPSBcInRydWVcIi5zbGljZShwYXJ0aWFsTGl0ZXJhbC5sZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKFwiZmFsc2VcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHJlc3VsdCArPSBcImZhbHNlXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcIm51bGxcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHJlc3VsdCArPSBcIm51bGxcIi5zbGljZShwYXJ0aWFsTGl0ZXJhbC5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIHNyYy9wYXJzZS1wYXJ0aWFsLWpzb24udHNcbmZ1bmN0aW9uIHBhcnNlUGFydGlhbEpzb24oanNvblRleHQpIHtcbiAgaWYgKGpzb25UZXh0ID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdm9pZCAwLCBzdGF0ZTogXCJ1bmRlZmluZWQtaW5wdXRcIiB9O1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBTZWN1cmVKU09OLnBhcnNlKGpzb25UZXh0KSxcbiAgICAgIHN0YXRlOiBcInN1Y2Nlc3NmdWwtcGFyc2VcIlxuICAgIH07XG4gIH0gY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IFNlY3VyZUpTT04ucGFyc2UoZml4SnNvbihqc29uVGV4dCkpLFxuICAgICAgICBzdGF0ZTogXCJyZXBhaXJlZC1wYXJzZVwiXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGlnbm9yZWQyKSB7XG4gICAgfVxuICB9XG4gIHJldHVybiB7IHZhbHVlOiB2b2lkIDAsIHN0YXRlOiBcImZhaWxlZC1wYXJzZVwiIH07XG59XG5cbi8vIHNyYy9zdHJlYW0tcGFydHMudHNcbnZhciB0ZXh0U3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCIwXCIsXG4gIG5hbWU6IFwidGV4dFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcInRleHRcIiBwYXJ0cyBleHBlY3QgYSBzdHJpbmcgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwidGV4dFwiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIGZ1bmN0aW9uQ2FsbFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiMVwiLFxuICBuYW1lOiBcImZ1bmN0aW9uX2NhbGxcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZnVuY3Rpb25fY2FsbFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuZnVuY3Rpb25fY2FsbCAhPT0gXCJvYmplY3RcIiB8fCB2YWx1ZS5mdW5jdGlvbl9jYWxsID09IG51bGwgfHwgIShcIm5hbWVcIiBpbiB2YWx1ZS5mdW5jdGlvbl9jYWxsKSB8fCAhKFwiYXJndW1lbnRzXCIgaW4gdmFsdWUuZnVuY3Rpb25fY2FsbCkgfHwgdHlwZW9mIHZhbHVlLmZ1bmN0aW9uX2NhbGwubmFtZSAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWUuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiZnVuY3Rpb25fY2FsbFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwiZnVuY3Rpb25fY2FsbFwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImZ1bmN0aW9uX2NhbGxcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBkYXRhU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCIyXCIsXG4gIG5hbWU6IFwiZGF0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImRhdGFcIiBwYXJ0cyBleHBlY3QgYW4gYXJyYXkgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIGVycm9yU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCIzXCIsXG4gIG5hbWU6IFwiZXJyb3JcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJlcnJvclwiIHBhcnRzIGV4cGVjdCBhIHN0cmluZyB2YWx1ZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjRcIixcbiAgbmFtZTogXCJhc3Npc3RhbnRfbWVzc2FnZVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJpZFwiIGluIHZhbHVlKSB8fCAhKFwicm9sZVwiIGluIHZhbHVlKSB8fCAhKFwiY29udGVudFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuaWQgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlLnJvbGUgIT09IFwic3RyaW5nXCIgfHwgdmFsdWUucm9sZSAhPT0gXCJhc3Npc3RhbnRcIiB8fCAhQXJyYXkuaXNBcnJheSh2YWx1ZS5jb250ZW50KSB8fCAhdmFsdWUuY29udGVudC5ldmVyeShcbiAgICAgIChpdGVtKSA9PiBpdGVtICE9IG51bGwgJiYgdHlwZW9mIGl0ZW0gPT09IFwib2JqZWN0XCIgJiYgXCJ0eXBlXCIgaW4gaXRlbSAmJiBpdGVtLnR5cGUgPT09IFwidGV4dFwiICYmIFwidGV4dFwiIGluIGl0ZW0gJiYgaXRlbS50ZXh0ICE9IG51bGwgJiYgdHlwZW9mIGl0ZW0udGV4dCA9PT0gXCJvYmplY3RcIiAmJiBcInZhbHVlXCIgaW4gaXRlbS50ZXh0ICYmIHR5cGVvZiBpdGVtLnRleHQudmFsdWUgPT09IFwic3RyaW5nXCJcbiAgICApKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImFzc2lzdGFudF9tZXNzYWdlXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGFuIFwiaWRcIiwgXCJyb2xlXCIsIGFuZCBcImNvbnRlbnRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJhc3Npc3RhbnRfbWVzc2FnZVwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI1XCIsXG4gIG5hbWU6IFwiYXNzaXN0YW50X2NvbnRyb2xfZGF0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0aHJlYWRJZFwiIGluIHZhbHVlKSB8fCAhKFwibWVzc2FnZUlkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50aHJlYWRJZCAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWUubWVzc2FnZUlkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImFzc2lzdGFudF9jb250cm9sX2RhdGFcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInRocmVhZElkXCIgYW5kIFwibWVzc2FnZUlkXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiYXNzaXN0YW50X2NvbnRyb2xfZGF0YVwiLFxuICAgICAgdmFsdWU6IHtcbiAgICAgICAgdGhyZWFkSWQ6IHZhbHVlLnRocmVhZElkLFxuICAgICAgICBtZXNzYWdlSWQ6IHZhbHVlLm1lc3NhZ2VJZFxuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG52YXIgZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjZcIixcbiAgbmFtZTogXCJkYXRhX21lc3NhZ2VcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwicm9sZVwiIGluIHZhbHVlKSB8fCAhKFwiZGF0YVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUucm9sZSAhPT0gXCJzdHJpbmdcIiB8fCB2YWx1ZS5yb2xlICE9PSBcImRhdGFcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJkYXRhX21lc3NhZ2VcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInJvbGVcIiBhbmQgXCJkYXRhXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZGF0YV9tZXNzYWdlXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxzU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI3XCIsXG4gIG5hbWU6IFwidG9vbF9jYWxsc1wiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sX2NhbGxzXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sX2NhbGxzICE9PSBcIm9iamVjdFwiIHx8IHZhbHVlLnRvb2xfY2FsbHMgPT0gbnVsbCB8fCAhQXJyYXkuaXNBcnJheSh2YWx1ZS50b29sX2NhbGxzKSB8fCB2YWx1ZS50b29sX2NhbGxzLnNvbWUoXG4gICAgICAodGMpID0+IHRjID09IG51bGwgfHwgdHlwZW9mIHRjICE9PSBcIm9iamVjdFwiIHx8ICEoXCJpZFwiIGluIHRjKSB8fCB0eXBlb2YgdGMuaWQgIT09IFwic3RyaW5nXCIgfHwgIShcInR5cGVcIiBpbiB0YykgfHwgdHlwZW9mIHRjLnR5cGUgIT09IFwic3RyaW5nXCIgfHwgIShcImZ1bmN0aW9uXCIgaW4gdGMpIHx8IHRjLmZ1bmN0aW9uID09IG51bGwgfHwgdHlwZW9mIHRjLmZ1bmN0aW9uICE9PSBcIm9iamVjdFwiIHx8ICEoXCJhcmd1bWVudHNcIiBpbiB0Yy5mdW5jdGlvbikgfHwgdHlwZW9mIHRjLmZ1bmN0aW9uLm5hbWUgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHRjLmZ1bmN0aW9uLmFyZ3VtZW50cyAhPT0gXCJzdHJpbmdcIlxuICAgICkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1widG9vbF9jYWxsc1wiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFRvb2xDYWxsUGF5bG9hZC4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxzXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI4XCIsXG4gIG5hbWU6IFwibWVzc2FnZV9hbm5vdGF0aW9uc1wiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIm1lc3NhZ2VfYW5ub3RhdGlvbnNcIiBwYXJ0cyBleHBlY3QgYW4gYXJyYXkgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwibWVzc2FnZV9hbm5vdGF0aW9uc1wiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIHRvb2xDYWxsU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI5XCIsXG4gIG5hbWU6IFwidG9vbF9jYWxsXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRvb2xDYWxsSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xDYWxsSWQgIT09IFwic3RyaW5nXCIgfHwgIShcInRvb2xOYW1lXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sTmFtZSAhPT0gXCJzdHJpbmdcIiB8fCAhKFwiYXJnc1wiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuYXJncyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJ0b29sX2NhbGxcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInRvb2xDYWxsSWRcIiwgXCJ0b29sTmFtZVwiLCBhbmQgXCJhcmdzXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9vbF9jYWxsXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgdG9vbFJlc3VsdFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiYVwiLFxuICBuYW1lOiBcInRvb2xfcmVzdWx0XCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRvb2xDYWxsSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xDYWxsSWQgIT09IFwic3RyaW5nXCIgfHwgIShcInJlc3VsdFwiIGluIHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJ0b29sX3Jlc3VsdFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiIGFuZCBhIFwicmVzdWx0XCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9vbF9yZXN1bHRcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciB0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJiXCIsXG4gIG5hbWU6IFwidG9vbF9jYWxsX3N0cmVhbWluZ19zdGFydFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sQ2FsbElkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sQ2FsbElkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJ0b29sTmFtZVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbE5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1widG9vbF9jYWxsX3N0cmVhbWluZ19zdGFydFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiIGFuZCBcInRvb2xOYW1lXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9vbF9jYWxsX3N0cmVhbWluZ19zdGFydFwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIHRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImNcIixcbiAgbmFtZTogXCJ0b29sX2NhbGxfZGVsdGFcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwiYXJnc1RleHREZWx0YVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuYXJnc1RleHREZWx0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJ0b29sX2NhbGxfZGVsdGFcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInRvb2xDYWxsSWRcIiBhbmQgXCJhcmdzVGV4dERlbHRhXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9vbF9jYWxsX2RlbHRhXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiZFwiLFxuICBuYW1lOiBcImZpbmlzaF9tZXNzYWdlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImZpbmlzaFJlYXNvblwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuZmluaXNoUmVhc29uICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImZpbmlzaF9tZXNzYWdlXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJmaW5pc2hSZWFzb25cIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBmaW5pc2hSZWFzb246IHZhbHVlLmZpbmlzaFJlYXNvblxuICAgIH07XG4gICAgaWYgKFwidXNhZ2VcIiBpbiB2YWx1ZSAmJiB2YWx1ZS51c2FnZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS51c2FnZSA9PT0gXCJvYmplY3RcIiAmJiBcInByb21wdFRva2Vuc1wiIGluIHZhbHVlLnVzYWdlICYmIFwiY29tcGxldGlvblRva2Vuc1wiIGluIHZhbHVlLnVzYWdlKSB7XG4gICAgICByZXN1bHQudXNhZ2UgPSB7XG4gICAgICAgIHByb21wdFRva2VuczogdHlwZW9mIHZhbHVlLnVzYWdlLnByb21wdFRva2VucyA9PT0gXCJudW1iZXJcIiA/IHZhbHVlLnVzYWdlLnByb21wdFRva2VucyA6IE51bWJlci5OYU4sXG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHR5cGVvZiB2YWx1ZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zID09PSBcIm51bWJlclwiID8gdmFsdWUudXNhZ2UuY29tcGxldGlvblRva2VucyA6IE51bWJlci5OYU5cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImZpbmlzaF9tZXNzYWdlXCIsXG4gICAgICB2YWx1ZTogcmVzdWx0XG4gICAgfTtcbiAgfVxufTtcbnZhciBmaW5pc2hTdGVwU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJlXCIsXG4gIG5hbWU6IFwiZmluaXNoX3N0ZXBcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZmluaXNoUmVhc29uXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5maW5pc2hSZWFzb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiZmluaXNoX3N0ZXBcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImZpbmlzaFJlYXNvblwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIGZpbmlzaFJlYXNvbjogdmFsdWUuZmluaXNoUmVhc29uLFxuICAgICAgaXNDb250aW51ZWQ6IGZhbHNlXG4gICAgfTtcbiAgICBpZiAoXCJ1c2FnZVwiIGluIHZhbHVlICYmIHZhbHVlLnVzYWdlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnVzYWdlID09PSBcIm9iamVjdFwiICYmIFwicHJvbXB0VG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UgJiYgXCJjb21wbGV0aW9uVG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UpIHtcbiAgICAgIHJlc3VsdC51c2FnZSA9IHtcbiAgICAgICAgcHJvbXB0VG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zID09PSBcIm51bWJlclwiID8gdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zIDogTnVtYmVyLk5hTixcbiAgICAgICAgY29tcGxldGlvblRva2VuczogdHlwZW9mIHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zIDogTnVtYmVyLk5hTlxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKFwiaXNDb250aW51ZWRcIiBpbiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuaXNDb250aW51ZWQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXN1bHQuaXNDb250aW51ZWQgPSB2YWx1ZS5pc0NvbnRpbnVlZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZmluaXNoX3N0ZXBcIixcbiAgICAgIHZhbHVlOiByZXN1bHRcbiAgICB9O1xuICB9XG59O1xudmFyIHN0cmVhbVBhcnRzID0gW1xuICB0ZXh0U3RyZWFtUGFydCxcbiAgZnVuY3Rpb25DYWxsU3RyZWFtUGFydCxcbiAgZGF0YVN0cmVhbVBhcnQsXG4gIGVycm9yU3RyZWFtUGFydCxcbiAgYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQsXG4gIGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCxcbiAgZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0LFxuICB0b29sQ2FsbHNTdHJlYW1QYXJ0LFxuICBtZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0LFxuICB0b29sQ2FsbFN0cmVhbVBhcnQsXG4gIHRvb2xSZXN1bHRTdHJlYW1QYXJ0LFxuICB0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydCxcbiAgdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQsXG4gIGZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0LFxuICBmaW5pc2hTdGVwU3RyZWFtUGFydFxuXTtcbnZhciBzdHJlYW1QYXJ0c0J5Q29kZSA9IHtcbiAgW3RleHRTdHJlYW1QYXJ0LmNvZGVdOiB0ZXh0U3RyZWFtUGFydCxcbiAgW2Z1bmN0aW9uQ2FsbFN0cmVhbVBhcnQuY29kZV06IGZ1bmN0aW9uQ2FsbFN0cmVhbVBhcnQsXG4gIFtkYXRhU3RyZWFtUGFydC5jb2RlXTogZGF0YVN0cmVhbVBhcnQsXG4gIFtlcnJvclN0cmVhbVBhcnQuY29kZV06IGVycm9yU3RyZWFtUGFydCxcbiAgW2Fzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGVdOiBhc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydCxcbiAgW2Fzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydC5jb2RlXTogYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0LFxuICBbZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGVdOiBkYXRhTWVzc2FnZVN0cmVhbVBhcnQsXG4gIFt0b29sQ2FsbHNTdHJlYW1QYXJ0LmNvZGVdOiB0b29sQ2FsbHNTdHJlYW1QYXJ0LFxuICBbbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydC5jb2RlXTogbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydCxcbiAgW3Rvb2xDYWxsU3RyZWFtUGFydC5jb2RlXTogdG9vbENhbGxTdHJlYW1QYXJ0LFxuICBbdG9vbFJlc3VsdFN0cmVhbVBhcnQuY29kZV06IHRvb2xSZXN1bHRTdHJlYW1QYXJ0LFxuICBbdG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQuY29kZV06IHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0LFxuICBbdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQuY29kZV06IHRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0LFxuICBbZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQuY29kZV06IGZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0LFxuICBbZmluaXNoU3RlcFN0cmVhbVBhcnQuY29kZV06IGZpbmlzaFN0ZXBTdHJlYW1QYXJ0XG59O1xudmFyIFN0cmVhbVN0cmluZ1ByZWZpeGVzID0ge1xuICBbdGV4dFN0cmVhbVBhcnQubmFtZV06IHRleHRTdHJlYW1QYXJ0LmNvZGUsXG4gIFtmdW5jdGlvbkNhbGxTdHJlYW1QYXJ0Lm5hbWVdOiBmdW5jdGlvbkNhbGxTdHJlYW1QYXJ0LmNvZGUsXG4gIFtkYXRhU3RyZWFtUGFydC5uYW1lXTogZGF0YVN0cmVhbVBhcnQuY29kZSxcbiAgW2Vycm9yU3RyZWFtUGFydC5uYW1lXTogZXJyb3JTdHJlYW1QYXJ0LmNvZGUsXG4gIFthc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydC5uYW1lXTogYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQuY29kZSxcbiAgW2Fzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydC5uYW1lXTogYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0LmNvZGUsXG4gIFtkYXRhTWVzc2FnZVN0cmVhbVBhcnQubmFtZV06IGRhdGFNZXNzYWdlU3RyZWFtUGFydC5jb2RlLFxuICBbdG9vbENhbGxzU3RyZWFtUGFydC5uYW1lXTogdG9vbENhbGxzU3RyZWFtUGFydC5jb2RlLFxuICBbbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydC5uYW1lXTogbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydC5jb2RlLFxuICBbdG9vbENhbGxTdHJlYW1QYXJ0Lm5hbWVdOiB0b29sQ2FsbFN0cmVhbVBhcnQuY29kZSxcbiAgW3Rvb2xSZXN1bHRTdHJlYW1QYXJ0Lm5hbWVdOiB0b29sUmVzdWx0U3RyZWFtUGFydC5jb2RlLFxuICBbdG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQubmFtZV06IHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0LmNvZGUsXG4gIFt0b29sQ2FsbERlbHRhU3RyZWFtUGFydC5uYW1lXTogdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQuY29kZSxcbiAgW2ZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0Lm5hbWVdOiBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydC5jb2RlLFxuICBbZmluaXNoU3RlcFN0cmVhbVBhcnQubmFtZV06IGZpbmlzaFN0ZXBTdHJlYW1QYXJ0LmNvZGVcbn07XG52YXIgdmFsaWRDb2RlcyA9IHN0cmVhbVBhcnRzLm1hcCgocGFydCkgPT4gcGFydC5jb2RlKTtcbnZhciBwYXJzZVN0cmVhbVBhcnQgPSAobGluZSkgPT4ge1xuICBjb25zdCBmaXJzdFNlcGFyYXRvckluZGV4ID0gbGluZS5pbmRleE9mKFwiOlwiKTtcbiAgaWYgKGZpcnN0U2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHN0cmVhbSBzdHJpbmcuIE5vIHNlcGFyYXRvciBmb3VuZC5cIik7XG4gIH1cbiAgY29uc3QgcHJlZml4ID0gbGluZS5zbGljZSgwLCBmaXJzdFNlcGFyYXRvckluZGV4KTtcbiAgaWYgKCF2YWxpZENvZGVzLmluY2x1ZGVzKHByZWZpeCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBzdHJlYW0gc3RyaW5nLiBJbnZhbGlkIGNvZGUgJHtwcmVmaXh9LmApO1xuICB9XG4gIGNvbnN0IGNvZGUgPSBwcmVmaXg7XG4gIGNvbnN0IHRleHRWYWx1ZSA9IGxpbmUuc2xpY2UoZmlyc3RTZXBhcmF0b3JJbmRleCArIDEpO1xuICBjb25zdCBqc29uVmFsdWUgPSBKU09OLnBhcnNlKHRleHRWYWx1ZSk7XG4gIHJldHVybiBzdHJlYW1QYXJ0c0J5Q29kZVtjb2RlXS5wYXJzZShqc29uVmFsdWUpO1xufTtcbmZ1bmN0aW9uIGZvcm1hdFN0cmVhbVBhcnQodHlwZSwgdmFsdWUpIHtcbiAgY29uc3Qgc3RyZWFtUGFydCA9IHN0cmVhbVBhcnRzLmZpbmQoKHBhcnQpID0+IHBhcnQubmFtZSA9PT0gdHlwZSk7XG4gIGlmICghc3RyZWFtUGFydCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzdHJlYW0gcGFydCB0eXBlOiAke3R5cGV9YCk7XG4gIH1cbiAgcmV0dXJuIGAke3N0cmVhbVBhcnQuY29kZX06JHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9XG5gO1xufVxuXG4vLyBzcmMvcmVhZC1kYXRhLXN0cmVhbS50c1xudmFyIE5FV0xJTkUgPSBcIlxcblwiLmNoYXJDb2RlQXQoMCk7XG5mdW5jdGlvbiBjb25jYXRDaHVua3MoY2h1bmtzLCB0b3RhbExlbmd0aCkge1xuICBjb25zdCBjb25jYXRlbmF0ZWRDaHVua3MgPSBuZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCk7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGNvbnN0IGNodW5rIG9mIGNodW5rcykge1xuICAgIGNvbmNhdGVuYXRlZENodW5rcy5zZXQoY2h1bmssIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IGNodW5rLmxlbmd0aDtcbiAgfVxuICBjaHVua3MubGVuZ3RoID0gMDtcbiAgcmV0dXJuIGNvbmNhdGVuYXRlZENodW5rcztcbn1cbmFzeW5jIGZ1bmN0aW9uKiByZWFkRGF0YVN0cmVhbShyZWFkZXIsIHtcbiAgaXNBYm9ydGVkXG59ID0ge30pIHtcbiAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICBjb25zdCBjaHVua3MgPSBbXTtcbiAgbGV0IHRvdGFsTGVuZ3RoID0gMDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgY2h1bmtzLnB1c2godmFsdWUpO1xuICAgICAgdG90YWxMZW5ndGggKz0gdmFsdWUubGVuZ3RoO1xuICAgICAgaWYgKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdICE9PSBORVdMSU5FKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2h1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGNvbmNhdGVuYXRlZENodW5rcyA9IGNvbmNhdENodW5rcyhjaHVua3MsIHRvdGFsTGVuZ3RoKTtcbiAgICB0b3RhbExlbmd0aCA9IDA7XG4gICAgY29uc3Qgc3RyZWFtUGFydHMyID0gZGVjb2Rlci5kZWNvZGUoY29uY2F0ZW5hdGVkQ2h1bmtzLCB7IHN0cmVhbTogdHJ1ZSB9KS5zcGxpdChcIlxcblwiKS5maWx0ZXIoKGxpbmUpID0+IGxpbmUgIT09IFwiXCIpLm1hcChwYXJzZVN0cmVhbVBhcnQpO1xuICAgIGZvciAoY29uc3Qgc3RyZWFtUGFydCBvZiBzdHJlYW1QYXJ0czIpIHtcbiAgICAgIHlpZWxkIHN0cmVhbVBhcnQ7XG4gICAgfVxuICAgIGlmIChpc0Fib3J0ZWQgPT0gbnVsbCA/IHZvaWQgMCA6IGlzQWJvcnRlZCgpKSB7XG4gICAgICByZWFkZXIuY2FuY2VsKCk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL3Byb2Nlc3MtZGF0YS1wcm90b2NvbC1yZXNwb25zZS50c1xuZnVuY3Rpb24gYXNzaWduQW5ub3RhdGlvbnNUb01lc3NhZ2UobWVzc2FnZSwgYW5ub3RhdGlvbnMpIHtcbiAgaWYgKCFtZXNzYWdlIHx8ICFhbm5vdGF0aW9ucyB8fCAhYW5ub3RhdGlvbnMubGVuZ3RoKVxuICAgIHJldHVybiBtZXNzYWdlO1xuICByZXR1cm4geyAuLi5tZXNzYWdlLCBhbm5vdGF0aW9uczogWy4uLmFubm90YXRpb25zXSB9O1xufVxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0RhdGFQcm90b2NvbFJlc3BvbnNlKHtcbiAgcmVhZGVyLFxuICBhYm9ydENvbnRyb2xsZXJSZWYsXG4gIHVwZGF0ZSxcbiAgb25Ub29sQ2FsbCxcbiAgb25GaW5pc2gsXG4gIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQyID0gZ2VuZXJhdGVJZEZ1bmN0aW9uLFxuICBnZXRDdXJyZW50RGF0ZSA9ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG59KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgY3JlYXRlZEF0ID0gZ2V0Q3VycmVudERhdGUoKTtcbiAgbGV0IHByZWZpeE1hcCA9IHt9O1xuICBsZXQgbmV4dFByZWZpeE1hcCA9IHZvaWQgMDtcbiAgY29uc3QgcHJldmlvdXNNZXNzYWdlcyA9IFtdO1xuICBjb25zdCBkYXRhID0gW107XG4gIGxldCBtZXNzYWdlQW5ub3RhdGlvbnMgPSB2b2lkIDA7XG4gIGNvbnN0IHBhcnRpYWxUb29sQ2FsbHMgPSB7fTtcbiAgbGV0IHVzYWdlID0ge1xuICAgIGNvbXBsZXRpb25Ub2tlbnM6IE5hTixcbiAgICBwcm9tcHRUb2tlbnM6IE5hTixcbiAgICB0b3RhbFRva2VuczogTmFOXG4gIH07XG4gIGxldCBmaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgZm9yIGF3YWl0IChjb25zdCB7IHR5cGUsIHZhbHVlIH0gb2YgcmVhZERhdGFTdHJlYW0ocmVhZGVyLCB7XG4gICAgaXNBYm9ydGVkOiAoKSA9PiAoYWJvcnRDb250cm9sbGVyUmVmID09IG51bGwgPyB2b2lkIDAgOiBhYm9ydENvbnRyb2xsZXJSZWYuY3VycmVudCkgPT09IG51bGxcbiAgfSkpIHtcbiAgICBpZiAodHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gXCJmaW5pc2hfc3RlcFwiKSB7XG4gICAgICBpZiAoIXZhbHVlLmlzQ29udGludWVkKSB7XG4gICAgICAgIG5leHRQcmVmaXhNYXAgPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gXCJmaW5pc2hfbWVzc2FnZVwiKSB7XG4gICAgICBmaW5pc2hSZWFzb24gPSB2YWx1ZS5maW5pc2hSZWFzb247XG4gICAgICBpZiAodmFsdWUudXNhZ2UgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCB7IGNvbXBsZXRpb25Ub2tlbnMsIHByb21wdFRva2VucyB9ID0gdmFsdWUudXNhZ2U7XG4gICAgICAgIHVzYWdlID0ge1xuICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnMsXG4gICAgICAgICAgcHJvbXB0VG9rZW5zLFxuICAgICAgICAgIHRvdGFsVG9rZW5zOiBjb21wbGV0aW9uVG9rZW5zICsgcHJvbXB0VG9rZW5zXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5leHRQcmVmaXhNYXAgIT0gbnVsbCAmJiAodHlwZSA9PT0gXCJ0ZXh0XCIgfHwgdHlwZSA9PT0gXCJ0b29sX2NhbGxcIiB8fCB0eXBlID09PSBcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIiB8fCB0eXBlID09PSBcInRvb2xfY2FsbF9kZWx0YVwiIHx8IHR5cGUgPT09IFwidG9vbF9yZXN1bHRcIikpIHtcbiAgICAgIGlmIChwcmVmaXhNYXAudGV4dCkge1xuICAgICAgICBwcmV2aW91c01lc3NhZ2VzLnB1c2gocHJlZml4TWFwLnRleHQpO1xuICAgICAgfVxuICAgICAgaWYgKHByZWZpeE1hcC5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgIHByZXZpb3VzTWVzc2FnZXMucHVzaChwcmVmaXhNYXAuZnVuY3Rpb25fY2FsbCk7XG4gICAgICB9XG4gICAgICBpZiAocHJlZml4TWFwLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgcHJldmlvdXNNZXNzYWdlcy5wdXNoKHByZWZpeE1hcC50b29sX2NhbGxzKTtcbiAgICAgIH1cbiAgICAgIHByZWZpeE1hcCA9IG5leHRQcmVmaXhNYXA7XG4gICAgICBuZXh0UHJlZml4TWFwID0gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgIGlmIChwcmVmaXhNYXBbXCJ0ZXh0XCJdKSB7XG4gICAgICAgIHByZWZpeE1hcFtcInRleHRcIl0gPSB7XG4gICAgICAgICAgLi4ucHJlZml4TWFwW1widGV4dFwiXSxcbiAgICAgICAgICBjb250ZW50OiAocHJlZml4TWFwW1widGV4dFwiXS5jb250ZW50IHx8IFwiXCIpICsgdmFsdWVcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByZWZpeE1hcFtcInRleHRcIl0gPSB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlSWQyKCksXG4gICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICBjb250ZW50OiB2YWx1ZSxcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwidG9vbF9jYWxsX3N0cmVhbWluZ19zdGFydFwiKSB7XG4gICAgICBpZiAocHJlZml4TWFwLnRleHQgPT0gbnVsbCkge1xuICAgICAgICBwcmVmaXhNYXAudGV4dCA9IHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAocHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zID09IG51bGwpIHtcbiAgICAgICAgcHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zID0gW107XG4gICAgICB9XG4gICAgICBwYXJ0aWFsVG9vbENhbGxzW3ZhbHVlLnRvb2xDYWxsSWRdID0ge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICB0b29sTmFtZTogdmFsdWUudG9vbE5hbWUsXG4gICAgICAgIHByZWZpeE1hcEluZGV4OiBwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnMubGVuZ3RoXG4gICAgICB9O1xuICAgICAgcHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zLnB1c2goe1xuICAgICAgICBzdGF0ZTogXCJwYXJ0aWFsLWNhbGxcIixcbiAgICAgICAgdG9vbENhbGxJZDogdmFsdWUudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHZhbHVlLnRvb2xOYW1lLFxuICAgICAgICBhcmdzOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJ0b29sX2NhbGxfZGVsdGFcIikge1xuICAgICAgY29uc3QgcGFydGlhbFRvb2xDYWxsID0gcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXTtcbiAgICAgIHBhcnRpYWxUb29sQ2FsbC50ZXh0ICs9IHZhbHVlLmFyZ3NUZXh0RGVsdGE7XG4gICAgICBjb25zdCB7IHZhbHVlOiBwYXJ0aWFsQXJncyB9ID0gcGFyc2VQYXJ0aWFsSnNvbihwYXJ0aWFsVG9vbENhbGwudGV4dCk7XG4gICAgICBwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsLnByZWZpeE1hcEluZGV4XSA9IHtcbiAgICAgICAgc3RhdGU6IFwicGFydGlhbC1jYWxsXCIsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHZhbHVlLnRvb2xDYWxsSWQsXG4gICAgICAgIHRvb2xOYW1lOiBwYXJ0aWFsVG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgIGFyZ3M6IHBhcnRpYWxBcmdzXG4gICAgICB9O1xuICAgICAgcHJlZml4TWFwLnRleHQuaW50ZXJuYWxVcGRhdGVJZCA9IGdlbmVyYXRlSWQyKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcInRvb2xfY2FsbFwiKSB7XG4gICAgICBpZiAocGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXSAhPSBudWxsKSB7XG4gICAgICAgIHByZWZpeE1hcC50ZXh0LnRvb2xJbnZvY2F0aW9uc1twYXJ0aWFsVG9vbENhbGxzW3ZhbHVlLnRvb2xDYWxsSWRdLnByZWZpeE1hcEluZGV4XSA9IHsgc3RhdGU6IFwiY2FsbFwiLCAuLi52YWx1ZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByZWZpeE1hcC50ZXh0ID09IG51bGwpIHtcbiAgICAgICAgICBwcmVmaXhNYXAudGV4dCA9IHtcbiAgICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkMigpLFxuICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICAgIHByZWZpeE1hcC50ZXh0LnRvb2xJbnZvY2F0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHByZWZpeE1hcC50ZXh0LnRvb2xJbnZvY2F0aW9ucy5wdXNoKHtcbiAgICAgICAgICBzdGF0ZTogXCJjYWxsXCIsXG4gICAgICAgICAgLi4udmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBwcmVmaXhNYXAudGV4dC5pbnRlcm5hbFVwZGF0ZUlkID0gZ2VuZXJhdGVJZDIoKTtcbiAgICAgIGlmIChvblRvb2xDYWxsKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9uVG9vbENhbGwoeyB0b29sQ2FsbDogdmFsdWUgfSk7XG4gICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgIHByZWZpeE1hcC50ZXh0LnRvb2xJbnZvY2F0aW9uc1twcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnMubGVuZ3RoIC0gMV0gPSB7IHN0YXRlOiBcInJlc3VsdFwiLCAuLi52YWx1ZSwgcmVzdWx0IH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidG9vbF9yZXN1bHRcIikge1xuICAgICAgY29uc3QgdG9vbEludm9jYXRpb25zID0gKF9hID0gcHJlZml4TWFwLnRleHQpID09IG51bGwgPyB2b2lkIDAgOiBfYS50b29sSW52b2NhdGlvbnM7XG4gICAgICBpZiAodG9vbEludm9jYXRpb25zID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidG9vbF9yZXN1bHQgbXVzdCBiZSBwcmVjZWRlZCBieSBhIHRvb2xfY2FsbFwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uSW5kZXggPSB0b29sSW52b2NhdGlvbnMuZmluZEluZGV4KFxuICAgICAgICAoaW52b2NhdGlvbikgPT4gaW52b2NhdGlvbi50b29sQ2FsbElkID09PSB2YWx1ZS50b29sQ2FsbElkXG4gICAgICApO1xuICAgICAgaWYgKHRvb2xJbnZvY2F0aW9uSW5kZXggPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcInRvb2xfcmVzdWx0IG11c3QgYmUgcHJlY2VkZWQgYnkgYSB0b29sX2NhbGwgd2l0aCB0aGUgc2FtZSB0b29sQ2FsbElkXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRvb2xJbnZvY2F0aW9uc1t0b29sSW52b2NhdGlvbkluZGV4XSA9IHtcbiAgICAgICAgLi4udG9vbEludm9jYXRpb25zW3Rvb2xJbnZvY2F0aW9uSW5kZXhdLFxuICAgICAgICBzdGF0ZTogXCJyZXN1bHRcIixcbiAgICAgICAgLi4udmFsdWVcbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBmdW5jdGlvbkNhbGxNZXNzYWdlID0gbnVsbDtcbiAgICBpZiAodHlwZSA9PT0gXCJmdW5jdGlvbl9jYWxsXCIpIHtcbiAgICAgIHByZWZpeE1hcFtcImZ1bmN0aW9uX2NhbGxcIl0gPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkMigpLFxuICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICBmdW5jdGlvbl9jYWxsOiB2YWx1ZS5mdW5jdGlvbl9jYWxsLFxuICAgICAgICBuYW1lOiB2YWx1ZS5mdW5jdGlvbl9jYWxsLm5hbWUsXG4gICAgICAgIGNyZWF0ZWRBdFxuICAgICAgfTtcbiAgICAgIGZ1bmN0aW9uQ2FsbE1lc3NhZ2UgPSBwcmVmaXhNYXBbXCJmdW5jdGlvbl9jYWxsXCJdO1xuICAgIH1cbiAgICBsZXQgdG9vbENhbGxNZXNzYWdlID0gbnVsbDtcbiAgICBpZiAodHlwZSA9PT0gXCJ0b29sX2NhbGxzXCIpIHtcbiAgICAgIHByZWZpeE1hcFtcInRvb2xfY2FsbHNcIl0gPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkMigpLFxuICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICB0b29sX2NhbGxzOiB2YWx1ZS50b29sX2NhbGxzLFxuICAgICAgICBjcmVhdGVkQXRcbiAgICAgIH07XG4gICAgICB0b29sQ2FsbE1lc3NhZ2UgPSBwcmVmaXhNYXBbXCJ0b29sX2NhbGxzXCJdO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gXCJkYXRhXCIpIHtcbiAgICAgIGRhdGEucHVzaCguLi52YWx1ZSk7XG4gICAgfVxuICAgIGxldCByZXNwb25zZU1lc3NhZ2UgPSBwcmVmaXhNYXBbXCJ0ZXh0XCJdO1xuICAgIGlmICh0eXBlID09PSBcIm1lc3NhZ2VfYW5ub3RhdGlvbnNcIikge1xuICAgICAgaWYgKCFtZXNzYWdlQW5ub3RhdGlvbnMpIHtcbiAgICAgICAgbWVzc2FnZUFubm90YXRpb25zID0gWy4uLnZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2VBbm5vdGF0aW9ucy5wdXNoKC4uLnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uQ2FsbE1lc3NhZ2UgPSBhc3NpZ25Bbm5vdGF0aW9uc1RvTWVzc2FnZShcbiAgICAgICAgcHJlZml4TWFwW1wiZnVuY3Rpb25fY2FsbFwiXSxcbiAgICAgICAgbWVzc2FnZUFubm90YXRpb25zXG4gICAgICApO1xuICAgICAgdG9vbENhbGxNZXNzYWdlID0gYXNzaWduQW5ub3RhdGlvbnNUb01lc3NhZ2UoXG4gICAgICAgIHByZWZpeE1hcFtcInRvb2xfY2FsbHNcIl0sXG4gICAgICAgIG1lc3NhZ2VBbm5vdGF0aW9uc1xuICAgICAgKTtcbiAgICAgIHJlc3BvbnNlTWVzc2FnZSA9IGFzc2lnbkFubm90YXRpb25zVG9NZXNzYWdlKFxuICAgICAgICBwcmVmaXhNYXBbXCJ0ZXh0XCJdLFxuICAgICAgICBtZXNzYWdlQW5ub3RhdGlvbnNcbiAgICAgICk7XG4gICAgICBpZiAocHJlZml4TWFwLnRleHQgIT0gbnVsbCkge1xuICAgICAgICBwcmVmaXhNYXAudGV4dC5pbnRlcm5hbFVwZGF0ZUlkID0gZ2VuZXJhdGVJZDIoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1lc3NhZ2VBbm5vdGF0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogbWVzc2FnZUFubm90YXRpb25zLmxlbmd0aCkge1xuICAgICAgaWYgKHByZWZpeE1hcC50ZXh0KSB7XG4gICAgICAgIHByZWZpeE1hcC50ZXh0LmFubm90YXRpb25zID0gWy4uLm1lc3NhZ2VBbm5vdGF0aW9uc107XG4gICAgICB9XG4gICAgICBpZiAocHJlZml4TWFwLmZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgcHJlZml4TWFwLmZ1bmN0aW9uX2NhbGwuYW5ub3RhdGlvbnMgPSBbLi4ubWVzc2FnZUFubm90YXRpb25zXTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmVmaXhNYXAudG9vbF9jYWxscykge1xuICAgICAgICBwcmVmaXhNYXAudG9vbF9jYWxscy5hbm5vdGF0aW9ucyA9IFsuLi5tZXNzYWdlQW5ub3RhdGlvbnNdO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBtZXJnZWQgPSBbZnVuY3Rpb25DYWxsTWVzc2FnZSwgdG9vbENhbGxNZXNzYWdlLCByZXNwb25zZU1lc3NhZ2VdLmZpbHRlcihCb29sZWFuKS5tYXAoKG1lc3NhZ2UpID0+ICh7XG4gICAgICAuLi5hc3NpZ25Bbm5vdGF0aW9uc1RvTWVzc2FnZShtZXNzYWdlLCBtZXNzYWdlQW5ub3RhdGlvbnMpXG4gICAgfSkpO1xuICAgIHVwZGF0ZShbLi4ucHJldmlvdXNNZXNzYWdlcywgLi4ubWVyZ2VkXSwgWy4uLmRhdGFdKTtcbiAgfVxuICBvbkZpbmlzaCA9PSBudWxsID8gdm9pZCAwIDogb25GaW5pc2goeyBtZXNzYWdlOiBwcmVmaXhNYXAudGV4dCwgZmluaXNoUmVhc29uLCB1c2FnZSB9KTtcbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlczogW1xuICAgICAgcHJlZml4TWFwLnRleHQsXG4gICAgICBwcmVmaXhNYXAuZnVuY3Rpb25fY2FsbCxcbiAgICAgIHByZWZpeE1hcC50b29sX2NhbGxzXG4gICAgXS5maWx0ZXIoQm9vbGVhbiksXG4gICAgZGF0YVxuICB9O1xufVxuXG4vLyBzcmMvY2FsbC1jaGF0LWFwaS50c1xudmFyIGdldE9yaWdpbmFsRmV0Y2ggPSAoKSA9PiBmZXRjaDtcbmFzeW5jIGZ1bmN0aW9uIGNhbGxDaGF0QXBpKHtcbiAgYXBpLFxuICBib2R5LFxuICBzdHJlYW1Qcm90b2NvbCA9IFwiZGF0YVwiLFxuICBjcmVkZW50aWFscyxcbiAgaGVhZGVycyxcbiAgYWJvcnRDb250cm9sbGVyLFxuICByZXN0b3JlTWVzc2FnZXNPbkZhaWx1cmUsXG4gIG9uUmVzcG9uc2UsXG4gIG9uVXBkYXRlLFxuICBvbkZpbmlzaCxcbiAgb25Ub29sQ2FsbCxcbiAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDIsXG4gIGZldGNoOiBmZXRjaDIgPSBnZXRPcmlnaW5hbEZldGNoKClcbn0pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaDIoYXBpLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIC4uLmhlYWRlcnNcbiAgICB9LFxuICAgIHNpZ25hbDogKF9hID0gYWJvcnRDb250cm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBhYm9ydENvbnRyb2xsZXIoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNpZ25hbCxcbiAgICBjcmVkZW50aWFsc1xuICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgcmVzdG9yZU1lc3NhZ2VzT25GYWlsdXJlKCk7XG4gICAgdGhyb3cgZXJyO1xuICB9KTtcbiAgaWYgKG9uUmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgb25SZXNwb25zZShyZXNwb25zZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICByZXN0b3JlTWVzc2FnZXNPbkZhaWx1cmUoKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAoX2IgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkpICE9IG51bGwgPyBfYiA6IFwiRmFpbGVkIHRvIGZldGNoIHRoZSBjaGF0IHJlc3BvbnNlLlwiXG4gICAgKTtcbiAgfVxuICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgYm9keSBpcyBlbXB0eS5cIik7XG4gIH1cbiAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTtcbiAgc3dpdGNoIChzdHJlYW1Qcm90b2NvbCkge1xuICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgIGNvbnN0IGRlY29kZXIgPSBjcmVhdGVDaHVua0RlY29kZXIoKTtcbiAgICAgIGNvbnN0IHJlc3VsdE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkMigpLFxuICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICBjb250ZW50OiBcIlwiXG4gICAgICB9O1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRNZXNzYWdlLmNvbnRlbnQgKz0gZGVjb2Rlcih2YWx1ZSk7XG4gICAgICAgIG9uVXBkYXRlKFt7IC4uLnJlc3VsdE1lc3NhZ2UgfV0sIFtdKTtcbiAgICAgICAgaWYgKChhYm9ydENvbnRyb2xsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGFib3J0Q29udHJvbGxlcigpKSA9PT0gbnVsbCkge1xuICAgICAgICAgIHJlYWRlci5jYW5jZWwoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb25GaW5pc2ggPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoKHJlc3VsdE1lc3NhZ2UsIHtcbiAgICAgICAgdXNhZ2U6IHsgY29tcGxldGlvblRva2VuczogTmFOLCBwcm9tcHRUb2tlbnM6IE5hTiwgdG90YWxUb2tlbnM6IE5hTiB9LFxuICAgICAgICBmaW5pc2hSZWFzb246IFwidW5rbm93blwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2VzOiBbcmVzdWx0TWVzc2FnZV0sXG4gICAgICAgIGRhdGE6IFtdXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIFwiZGF0YVwiOiB7XG4gICAgICByZXR1cm4gYXdhaXQgcHJvY2Vzc0RhdGFQcm90b2NvbFJlc3BvbnNlKHtcbiAgICAgICAgcmVhZGVyLFxuICAgICAgICBhYm9ydENvbnRyb2xsZXJSZWY6IGFib3J0Q29udHJvbGxlciAhPSBudWxsID8geyBjdXJyZW50OiBhYm9ydENvbnRyb2xsZXIoKSB9IDogdm9pZCAwLFxuICAgICAgICB1cGRhdGU6IG9uVXBkYXRlLFxuICAgICAgICBvblRvb2xDYWxsLFxuICAgICAgICBvbkZpbmlzaCh7IG1lc3NhZ2UsIGZpbmlzaFJlYXNvbiwgdXNhZ2UgfSkge1xuICAgICAgICAgIGlmIChvbkZpbmlzaCAmJiBtZXNzYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgIG9uRmluaXNoKG1lc3NhZ2UsIHsgdXNhZ2UsIGZpbmlzaFJlYXNvbiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQyXG4gICAgICB9KTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gc3RyZWFtUHJvdG9jb2w7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RyZWFtIHByb3RvY29sOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL2NhbGwtY29tcGxldGlvbi1hcGkudHNcbnZhciBnZXRPcmlnaW5hbEZldGNoMiA9ICgpID0+IGZldGNoO1xuYXN5bmMgZnVuY3Rpb24gY2FsbENvbXBsZXRpb25BcGkoe1xuICBhcGksXG4gIHByb21wdCxcbiAgY3JlZGVudGlhbHMsXG4gIGhlYWRlcnMsXG4gIGJvZHksXG4gIHN0cmVhbVByb3RvY29sID0gXCJkYXRhXCIsXG4gIHNldENvbXBsZXRpb24sXG4gIHNldExvYWRpbmcsXG4gIHNldEVycm9yLFxuICBzZXRBYm9ydENvbnRyb2xsZXIsXG4gIG9uUmVzcG9uc2UsXG4gIG9uRmluaXNoLFxuICBvbkVycm9yLFxuICBvbkRhdGEsXG4gIGZldGNoOiBmZXRjaDIgPSBnZXRPcmlnaW5hbEZldGNoMigpXG59KSB7XG4gIHRyeSB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcih2b2lkIDApO1xuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBzZXRBYm9ydENvbnRyb2xsZXIoYWJvcnRDb250cm9sbGVyKTtcbiAgICBzZXRDb21wbGV0aW9uKFwiXCIpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoMihhcGksIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHByb21wdCxcbiAgICAgICAgLi4uYm9keVxuICAgICAgfSksXG4gICAgICBjcmVkZW50aWFscyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIC4uLmhlYWRlcnNcbiAgICAgIH0sXG4gICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWxcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gICAgaWYgKG9uUmVzcG9uc2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG9uUmVzcG9uc2UocmVzKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGF3YWl0IHJlcy50ZXh0KCkgfHwgXCJGYWlsZWQgdG8gZmV0Y2ggdGhlIGNoYXQgcmVzcG9uc2UuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghcmVzLmJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSByZXNwb25zZSBib2R5IGlzIGVtcHR5LlwiKTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgY29uc3QgcmVhZGVyID0gcmVzLmJvZHkuZ2V0UmVhZGVyKCk7XG4gICAgc3dpdGNoIChzdHJlYW1Qcm90b2NvbCkge1xuICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICBjb25zdCBkZWNvZGVyID0gY3JlYXRlQ2h1bmtEZWNvZGVyKCk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCArPSBkZWNvZGVyKHZhbHVlKTtcbiAgICAgICAgICBzZXRDb21wbGV0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImRhdGFcIjoge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHsgdHlwZSwgdmFsdWUgfSBvZiByZWFkRGF0YVN0cmVhbShyZWFkZXIsIHtcbiAgICAgICAgICBpc0Fib3J0ZWQ6ICgpID0+IGFib3J0Q29udHJvbGxlciA9PT0gbnVsbFxuICAgICAgICB9KSkge1xuICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICAgICAgICByZXN1bHQgKz0gdmFsdWU7XG4gICAgICAgICAgICAgIHNldENvbXBsZXRpb24ocmVzdWx0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICAgIG9uRGF0YSA9PSBudWxsID8gdm9pZCAwIDogb25EYXRhKHZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2sgPSBzdHJlYW1Qcm90b2NvbDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwcm90b2NvbDogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvbkZpbmlzaCkge1xuICAgICAgb25GaW5pc2gocHJvbXB0LCByZXN1bHQpO1xuICAgIH1cbiAgICBzZXRBYm9ydENvbnRyb2xsZXIobnVsbCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGVyci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikge1xuICAgICAgc2V0QWJvcnRDb250cm9sbGVyKG51bGwpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRFcnJvcihlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICB9XG59XG5cbi8vIHNyYy9jcmVhdGUtY2h1bmstZGVjb2Rlci50c1xuZnVuY3Rpb24gY3JlYXRlQ2h1bmtEZWNvZGVyKGNvbXBsZXgpIHtcbiAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICBpZiAoIWNvbXBsZXgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oY2h1bmspIHtcbiAgICAgIGlmICghY2h1bmspXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGNodW5rLCB7IHN0cmVhbTogdHJ1ZSB9KTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbihjaHVuaykge1xuICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVyLmRlY29kZShjaHVuaywgeyBzdHJlYW06IHRydWUgfSkuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSBcIlwiKTtcbiAgICByZXR1cm4gZGVjb2RlZC5tYXAocGFyc2VTdHJlYW1QYXJ0KS5maWx0ZXIoQm9vbGVhbik7XG4gIH07XG59XG5cbi8vIHNyYy9kYXRhLXVybC50c1xuZnVuY3Rpb24gZ2V0VGV4dEZyb21EYXRhVXJsKGRhdGFVcmwpIHtcbiAgY29uc3QgW2hlYWRlciwgYmFzZTY0Q29udGVudF0gPSBkYXRhVXJsLnNwbGl0KFwiLFwiKTtcbiAgY29uc3QgbWltZVR5cGUgPSBoZWFkZXIuc3BsaXQoXCI7XCIpWzBdLnNwbGl0KFwiOlwiKVsxXTtcbiAgaWYgKG1pbWVUeXBlID09IG51bGwgfHwgYmFzZTY0Q29udGVudCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkYXRhIFVSTCBmb3JtYXRcIik7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmF0b2IoYmFzZTY0Q29udGVudCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBkZWNvZGluZyBkYXRhIFVSTGApO1xuICB9XG59XG5cbi8vIHNyYy9pcy1kZWVwLWVxdWFsLWRhdGEudHNcbmZ1bmN0aW9uIGlzRGVlcEVxdWFsRGF0YShvYmoxLCBvYmoyKSB7XG4gIGlmIChvYmoxID09PSBvYmoyKVxuICAgIHJldHVybiB0cnVlO1xuICBpZiAob2JqMSA9PSBudWxsIHx8IG9iajIgPT0gbnVsbClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2Ygb2JqMSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqMiAhPT0gXCJvYmplY3RcIilcbiAgICByZXR1cm4gb2JqMSA9PT0gb2JqMjtcbiAgaWYgKG9iajEuY29uc3RydWN0b3IgIT09IG9iajIuY29uc3RydWN0b3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAob2JqMSBpbnN0YW5jZW9mIERhdGUgJiYgb2JqMiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gb2JqMS5nZXRUaW1lKCkgPT09IG9iajIuZ2V0VGltZSgpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KG9iajEpKSB7XG4gICAgaWYgKG9iajEubGVuZ3RoICE9PSBvYmoyLmxlbmd0aClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iajEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghaXNEZWVwRXF1YWxEYXRhKG9iajFbaV0sIG9iajJbaV0pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IGtleXMxID0gT2JqZWN0LmtleXMob2JqMSk7XG4gIGNvbnN0IGtleXMyID0gT2JqZWN0LmtleXMob2JqMik7XG4gIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMxKSB7XG4gICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghaXNEZWVwRXF1YWxEYXRhKG9iajFba2V5XSwgb2JqMltrZXldKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gc3JjL3Byb2Nlc3MtY2hhdC1zdHJlYW0udHNcbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NDaGF0U3RyZWFtKHtcbiAgZ2V0U3RyZWFtZWRSZXNwb25zZSxcbiAgZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsLFxuICBleHBlcmltZW50YWxfb25Ub29sQ2FsbCxcbiAgdXBkYXRlQ2hhdFJlcXVlc3QsXG4gIGdldEN1cnJlbnRNZXNzYWdlc1xufSkge1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IG1lc3NhZ2VzQW5kRGF0YU9ySnVzdE1lc3NhZ2UgPSBhd2FpdCBnZXRTdHJlYW1lZFJlc3BvbnNlKCk7XG4gICAgaWYgKFwibWVzc2FnZXNcIiBpbiBtZXNzYWdlc0FuZERhdGFPckp1c3RNZXNzYWdlKSB7XG4gICAgICBsZXQgaGFzRm9sbG93aW5nUmVzcG9uc2UgPSBmYWxzZTtcbiAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlc0FuZERhdGFPckp1c3RNZXNzYWdlLm1lc3NhZ2VzKSB7XG4gICAgICAgIGlmICgobWVzc2FnZS5mdW5jdGlvbl9jYWxsID09PSB2b2lkIDAgfHwgdHlwZW9mIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCA9PT0gXCJzdHJpbmdcIikgJiYgKG1lc3NhZ2UudG9vbF9jYWxscyA9PT0gdm9pZCAwIHx8IHR5cGVvZiBtZXNzYWdlLnRvb2xfY2FsbHMgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaGFzRm9sbG93aW5nUmVzcG9uc2UgPSB0cnVlO1xuICAgICAgICBpZiAoZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsKSB7XG4gICAgICAgICAgY29uc3QgZnVuY3Rpb25DYWxsID0gbWVzc2FnZS5mdW5jdGlvbl9jYWxsO1xuICAgICAgICAgIGlmICh0eXBlb2YgZnVuY3Rpb25DYWxsICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIFwiZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsIHNob3VsZCBub3QgYmUgZGVmaW5lZCB3aGVuIHVzaW5nIHRvb2xzXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZnVuY3Rpb25DYWxsUmVzcG9uc2UgPSBhd2FpdCBleHBlcmltZW50YWxfb25GdW5jdGlvbkNhbGwoXG4gICAgICAgICAgICBnZXRDdXJyZW50TWVzc2FnZXMoKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uQ2FsbFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGZ1bmN0aW9uQ2FsbFJlc3BvbnNlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGhhc0ZvbGxvd2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlQ2hhdFJlcXVlc3QoZnVuY3Rpb25DYWxsUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHBlcmltZW50YWxfb25Ub29sQ2FsbCkge1xuICAgICAgICAgIGNvbnN0IHRvb2xDYWxscyA9IG1lc3NhZ2UudG9vbF9jYWxscztcbiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodG9vbENhbGxzKSB8fCB0b29sQ2FsbHMuc29tZSgodG9vbENhbGwpID0+IHR5cGVvZiB0b29sQ2FsbCAhPT0gXCJvYmplY3RcIikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJleHBlcmltZW50YWxfb25Ub29sQ2FsbCBzaG91bGQgbm90IGJlIGRlZmluZWQgd2hlbiB1c2luZyB0b29sc1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHRvb2xDYWxsUmVzcG9uc2UgPSBhd2FpdCBleHBlcmltZW50YWxfb25Ub29sQ2FsbChnZXRDdXJyZW50TWVzc2FnZXMoKSwgdG9vbENhbGxzKTtcbiAgICAgICAgICBpZiAodG9vbENhbGxSZXNwb25zZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBoYXNGb2xsb3dpbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZUNoYXRSZXF1ZXN0KHRvb2xDYWxsUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWhhc0ZvbGxvd2luZ1Jlc3BvbnNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZml4RnVuY3Rpb25DYWxsQXJndW1lbnRzMiA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiByZXNwb25zZS5tZXNzYWdlcykge1xuICAgICAgICAgIGlmIChtZXNzYWdlLnRvb2xfY2FsbHMgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiBtZXNzYWdlLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b29sQ2FsbCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGlmICh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMgJiYgdHlwZW9mIHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzID0gSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50c1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICBpZiAobWVzc2FnZS5mdW5jdGlvbl9jYWxsLmFyZ3VtZW50cyAmJiB0eXBlb2YgbWVzc2FnZS5mdW5jdGlvbl9jYWxsLmFyZ3VtZW50cyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIGZpeEZ1bmN0aW9uQ2FsbEFyZ3VtZW50cyA9IGZpeEZ1bmN0aW9uQ2FsbEFyZ3VtZW50czI7XG4gICAgICBjb25zdCBzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZSA9IG1lc3NhZ2VzQW5kRGF0YU9ySnVzdE1lc3NhZ2U7XG4gICAgICBpZiAoKHN0cmVhbWVkUmVzcG9uc2VNZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPT09IHZvaWQgMCB8fCB0eXBlb2Ygc3RyZWFtZWRSZXNwb25zZU1lc3NhZ2UuZnVuY3Rpb25fY2FsbCA9PT0gXCJzdHJpbmdcIikgJiYgKHN0cmVhbWVkUmVzcG9uc2VNZXNzYWdlLnRvb2xfY2FsbHMgPT09IHZvaWQgMCB8fCB0eXBlb2Ygc3RyZWFtZWRSZXNwb25zZU1lc3NhZ2UudG9vbF9jYWxscyA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsKSB7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbCA9IHN0cmVhbWVkUmVzcG9uc2VNZXNzYWdlLmZ1bmN0aW9uX2NhbGw7XG4gICAgICAgIGlmICghKHR5cGVvZiBmdW5jdGlvbkNhbGwgPT09IFwib2JqZWN0XCIpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJleHBlcmltZW50YWxfb25GdW5jdGlvbkNhbGwgc2hvdWxkIG5vdCBiZSBkZWZpbmVkIHdoZW4gdXNpbmcgdG9vbHNcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnVuY3Rpb25DYWxsUmVzcG9uc2UgPSBhd2FpdCBleHBlcmltZW50YWxfb25GdW5jdGlvbkNhbGwoZ2V0Q3VycmVudE1lc3NhZ2VzKCksIGZ1bmN0aW9uQ2FsbCk7XG4gICAgICAgIGlmIChmdW5jdGlvbkNhbGxSZXNwb25zZSA9PT0gdm9pZCAwKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBmaXhGdW5jdGlvbkNhbGxBcmd1bWVudHMyKGZ1bmN0aW9uQ2FsbFJlc3BvbnNlKTtcbiAgICAgICAgdXBkYXRlQ2hhdFJlcXVlc3QoZnVuY3Rpb25DYWxsUmVzcG9uc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGV4cGVyaW1lbnRhbF9vblRvb2xDYWxsKSB7XG4gICAgICAgIGNvbnN0IHRvb2xDYWxscyA9IHN0cmVhbWVkUmVzcG9uc2VNZXNzYWdlLnRvb2xfY2FsbHM7XG4gICAgICAgIGlmICghKHR5cGVvZiB0b29sQ2FsbHMgPT09IFwib2JqZWN0XCIpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJleHBlcmltZW50YWxfb25Ub29sQ2FsbCBzaG91bGQgbm90IGJlIGRlZmluZWQgd2hlbiB1c2luZyBmdW5jdGlvbnNcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbENhbGxSZXNwb25zZSA9IGF3YWl0IGV4cGVyaW1lbnRhbF9vblRvb2xDYWxsKGdldEN1cnJlbnRNZXNzYWdlcygpLCB0b29sQ2FsbHMpO1xuICAgICAgICBpZiAodG9vbENhbGxSZXNwb25zZSA9PT0gdm9pZCAwKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBmaXhGdW5jdGlvbkNhbGxBcmd1bWVudHMyKHRvb2xDYWxsUmVzcG9uc2UpO1xuICAgICAgICB1cGRhdGVDaGF0UmVxdWVzdCh0b29sQ2FsbFJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL3NjaGVtYS50c1xuaW1wb3J0IHsgdmFsaWRhdG9yU3ltYm9sIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmltcG9ydCB6b2RUb0pzb25TY2hlbWEgZnJvbSBcInpvZC10by1qc29uLXNjaGVtYVwiO1xudmFyIHNjaGVtYVN5bWJvbCA9IFN5bWJvbC5mb3IoXCJ2ZXJjZWwuYWkuc2NoZW1hXCIpO1xuZnVuY3Rpb24ganNvblNjaGVtYShqc29uU2NoZW1hMiwge1xuICB2YWxpZGF0ZVxufSA9IHt9KSB7XG4gIHJldHVybiB7XG4gICAgW3NjaGVtYVN5bWJvbF06IHRydWUsXG4gICAgX3R5cGU6IHZvaWQgMCxcbiAgICAvLyBzaG91bGQgbmV2ZXIgYmUgdXNlZCBkaXJlY3RseVxuICAgIFt2YWxpZGF0b3JTeW1ib2xdOiB0cnVlLFxuICAgIGpzb25TY2hlbWE6IGpzb25TY2hlbWEyLFxuICAgIHZhbGlkYXRlXG4gIH07XG59XG5mdW5jdGlvbiBpc1NjaGVtYSh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmIHNjaGVtYVN5bWJvbCBpbiB2YWx1ZSAmJiB2YWx1ZVtzY2hlbWFTeW1ib2xdID09PSB0cnVlICYmIFwianNvblNjaGVtYVwiIGluIHZhbHVlICYmIFwidmFsaWRhdGVcIiBpbiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGFzU2NoZW1hKHNjaGVtYSkge1xuICByZXR1cm4gaXNTY2hlbWEoc2NoZW1hKSA/IHNjaGVtYSA6IHpvZFNjaGVtYShzY2hlbWEpO1xufVxuZnVuY3Rpb24gem9kU2NoZW1hKHpvZFNjaGVtYTIpIHtcbiAgcmV0dXJuIGpzb25TY2hlbWEoXG4gICAgLy8gd2UgYXNzdW1lIHRoYXQgem9kVG9Kc29uU2NoZW1hIHdpbGwgcmV0dXJuIGEgdmFsaWQgSlNPTlNjaGVtYTc6XG4gICAgem9kVG9Kc29uU2NoZW1hKHpvZFNjaGVtYTIpLFxuICAgIHtcbiAgICAgIHZhbGlkYXRlOiAodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gem9kU2NoZW1hMi5zYWZlUGFyc2UodmFsdWUpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LnN1Y2Nlc3MgPyB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQuZGF0YSB9IDogeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB9O1xuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmV4cG9ydCB7XG4gIGFzU2NoZW1hLFxuICBjYWxsQ2hhdEFwaSxcbiAgY2FsbENvbXBsZXRpb25BcGksXG4gIGNyZWF0ZUNodW5rRGVjb2RlcixcbiAgZm9ybWF0U3RyZWFtUGFydCxcbiAgZ2VuZXJhdGVJZCxcbiAgZ2V0VGV4dEZyb21EYXRhVXJsLFxuICBpc0RlZXBFcXVhbERhdGEsXG4gIGpzb25TY2hlbWEsXG4gIHBhcnNlUGFydGlhbEpzb24sXG4gIHBhcnNlU3RyZWFtUGFydCxcbiAgcHJvY2Vzc0NoYXRTdHJlYW0sXG4gIHByb2Nlc3NEYXRhUHJvdG9jb2xSZXNwb25zZSxcbiAgcmVhZERhdGFTdHJlYW0sXG4gIHpvZFNjaGVtYVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOlsiZ2VuZXJhdGVJZCIsImdlbmVyYXRlSWRGdW5jdGlvbiIsIlNlY3VyZUpTT04iLCJmaXhKc29uIiwiaW5wdXQiLCJzdGFjayIsImxhc3RWYWxpZEluZGV4IiwibGl0ZXJhbFN0YXJ0IiwicHJvY2Vzc1ZhbHVlU3RhcnQiLCJjaGFyIiwiaSIsInN3YXBTdGF0ZSIsInBvcCIsInB1c2giLCJwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZSIsInByb2Nlc3NBZnRlckFycmF5VmFsdWUiLCJsZW5ndGgiLCJjdXJyZW50U3RhdGUiLCJwYXJ0aWFsTGl0ZXJhbCIsInN1YnN0cmluZyIsInN0YXJ0c1dpdGgiLCJyZXN1bHQiLCJzbGljZSIsInN0YXRlIiwicGFyc2VQYXJ0aWFsSnNvbiIsImpzb25UZXh0IiwidmFsdWUiLCJwYXJzZSIsImlnbm9yZWQiLCJpZ25vcmVkMiIsInRleHRTdHJlYW1QYXJ0IiwiY29kZSIsIm5hbWUiLCJFcnJvciIsInR5cGUiLCJmdW5jdGlvbkNhbGxTdHJlYW1QYXJ0IiwiZnVuY3Rpb25fY2FsbCIsImFyZ3VtZW50cyIsImRhdGFTdHJlYW1QYXJ0IiwiQXJyYXkiLCJpc0FycmF5IiwiZXJyb3JTdHJlYW1QYXJ0IiwiYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQiLCJpZCIsInJvbGUiLCJjb250ZW50IiwiZXZlcnkiLCJpdGVtIiwidGV4dCIsImFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCIsInRocmVhZElkIiwibWVzc2FnZUlkIiwiZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0IiwidG9vbENhbGxzU3RyZWFtUGFydCIsInRvb2xfY2FsbHMiLCJzb21lIiwidGMiLCJmdW5jdGlvbiIsIm1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQiLCJ0b29sQ2FsbFN0cmVhbVBhcnQiLCJ0b29sQ2FsbElkIiwidG9vbE5hbWUiLCJhcmdzIiwidG9vbFJlc3VsdFN0cmVhbVBhcnQiLCJ0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydCIsInRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0IiwiYXJnc1RleHREZWx0YSIsImZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0IiwiZmluaXNoUmVhc29uIiwidXNhZ2UiLCJwcm9tcHRUb2tlbnMiLCJOdW1iZXIiLCJOYU4iLCJjb21wbGV0aW9uVG9rZW5zIiwiZmluaXNoU3RlcFN0cmVhbVBhcnQiLCJpc0NvbnRpbnVlZCIsInN0cmVhbVBhcnRzIiwic3RyZWFtUGFydHNCeUNvZGUiLCJTdHJlYW1TdHJpbmdQcmVmaXhlcyIsInZhbGlkQ29kZXMiLCJtYXAiLCJwYXJ0IiwicGFyc2VTdHJlYW1QYXJ0IiwibGluZSIsImZpcnN0U2VwYXJhdG9ySW5kZXgiLCJpbmRleE9mIiwicHJlZml4IiwiaW5jbHVkZXMiLCJ0ZXh0VmFsdWUiLCJqc29uVmFsdWUiLCJKU09OIiwiZm9ybWF0U3RyZWFtUGFydCIsInN0cmVhbVBhcnQiLCJmaW5kIiwic3RyaW5naWZ5IiwiTkVXTElORSIsImNoYXJDb2RlQXQiLCJjb25jYXRDaHVua3MiLCJjaHVua3MiLCJ0b3RhbExlbmd0aCIsImNvbmNhdGVuYXRlZENodW5rcyIsIlVpbnQ4QXJyYXkiLCJvZmZzZXQiLCJjaHVuayIsInNldCIsInJlYWREYXRhU3RyZWFtIiwicmVhZGVyIiwiaXNBYm9ydGVkIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwicmVhZCIsInN0cmVhbVBhcnRzMiIsImRlY29kZSIsInN0cmVhbSIsInNwbGl0IiwiZmlsdGVyIiwiY2FuY2VsIiwiYXNzaWduQW5ub3RhdGlvbnNUb01lc3NhZ2UiLCJtZXNzYWdlIiwiYW5ub3RhdGlvbnMiLCJwcm9jZXNzRGF0YVByb3RvY29sUmVzcG9uc2UiLCJhYm9ydENvbnRyb2xsZXJSZWYiLCJ1cGRhdGUiLCJvblRvb2xDYWxsIiwib25GaW5pc2giLCJnZW5lcmF0ZUlkMiIsImdldEN1cnJlbnREYXRlIiwiRGF0ZSIsIl9hIiwiY3JlYXRlZEF0IiwicHJlZml4TWFwIiwibmV4dFByZWZpeE1hcCIsInByZXZpb3VzTWVzc2FnZXMiLCJkYXRhIiwibWVzc2FnZUFubm90YXRpb25zIiwicGFydGlhbFRvb2xDYWxscyIsInRvdGFsVG9rZW5zIiwiY3VycmVudCIsInRvb2xJbnZvY2F0aW9ucyIsInByZWZpeE1hcEluZGV4IiwicGFydGlhbFRvb2xDYWxsIiwicGFydGlhbEFyZ3MiLCJpbnRlcm5hbFVwZGF0ZUlkIiwidG9vbENhbGwiLCJ0b29sSW52b2NhdGlvbkluZGV4IiwiZmluZEluZGV4IiwiaW52b2NhdGlvbiIsImZ1bmN0aW9uQ2FsbE1lc3NhZ2UiLCJ0b29sQ2FsbE1lc3NhZ2UiLCJyZXNwb25zZU1lc3NhZ2UiLCJtZXJnZWQiLCJCb29sZWFuIiwibWVzc2FnZXMiLCJnZXRPcmlnaW5hbEZldGNoIiwiZmV0Y2giLCJjYWxsQ2hhdEFwaSIsImFwaSIsImJvZHkiLCJzdHJlYW1Qcm90b2NvbCIsImNyZWRlbnRpYWxzIiwiaGVhZGVycyIsImFib3J0Q29udHJvbGxlciIsInJlc3RvcmVNZXNzYWdlc09uRmFpbHVyZSIsIm9uUmVzcG9uc2UiLCJvblVwZGF0ZSIsImZldGNoMiIsIl9iIiwicmVzcG9uc2UiLCJtZXRob2QiLCJzaWduYWwiLCJjYXRjaCIsImVyciIsIm9rIiwiZ2V0UmVhZGVyIiwiY3JlYXRlQ2h1bmtEZWNvZGVyIiwicmVzdWx0TWVzc2FnZSIsImRvbmUiLCJleGhhdXN0aXZlQ2hlY2siLCJnZXRPcmlnaW5hbEZldGNoMiIsImNhbGxDb21wbGV0aW9uQXBpIiwicHJvbXB0Iiwic2V0Q29tcGxldGlvbiIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInNldEFib3J0Q29udHJvbGxlciIsIm9uRXJyb3IiLCJvbkRhdGEiLCJBYm9ydENvbnRyb2xsZXIiLCJyZXMiLCJjb21wbGV4IiwiZGVjb2RlZCIsImdldFRleHRGcm9tRGF0YVVybCIsImRhdGFVcmwiLCJoZWFkZXIiLCJiYXNlNjRDb250ZW50IiwibWltZVR5cGUiLCJ3aW5kb3ciLCJhdG9iIiwiZXJyb3IiLCJpc0RlZXBFcXVhbERhdGEiLCJvYmoxIiwib2JqMiIsImNvbnN0cnVjdG9yIiwiZ2V0VGltZSIsImtleXMxIiwiT2JqZWN0Iiwia2V5cyIsImtleXMyIiwia2V5IiwicHJvY2Vzc0NoYXRTdHJlYW0iLCJnZXRTdHJlYW1lZFJlc3BvbnNlIiwiZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsIiwiZXhwZXJpbWVudGFsX29uVG9vbENhbGwiLCJ1cGRhdGVDaGF0UmVxdWVzdCIsImdldEN1cnJlbnRNZXNzYWdlcyIsIm1lc3NhZ2VzQW5kRGF0YU9ySnVzdE1lc3NhZ2UiLCJoYXNGb2xsb3dpbmdSZXNwb25zZSIsImZ1bmN0aW9uQ2FsbCIsImNvbnNvbGUiLCJ3YXJuIiwiZnVuY3Rpb25DYWxsUmVzcG9uc2UiLCJ0b29sQ2FsbHMiLCJ0b29sQ2FsbFJlc3BvbnNlIiwiZml4RnVuY3Rpb25DYWxsQXJndW1lbnRzMiIsImZpeEZ1bmN0aW9uQ2FsbEFyZ3VtZW50cyIsInN0cmVhbWVkUmVzcG9uc2VNZXNzYWdlIiwidmFsaWRhdG9yU3ltYm9sIiwiem9kVG9Kc29uU2NoZW1hIiwic2NoZW1hU3ltYm9sIiwiU3ltYm9sIiwiZm9yIiwianNvblNjaGVtYSIsImpzb25TY2hlbWEyIiwidmFsaWRhdGUiLCJfdHlwZSIsImlzU2NoZW1hIiwiYXNTY2hlbWEiLCJzY2hlbWEiLCJ6b2RTY2hlbWEiLCJ6b2RTY2hlbWEyIiwic2FmZVBhcnNlIiwic3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/.pnpm/@ai-sdk+ui-utils@0.0.50_zod@3.25.76/node_modules/@ai-sdk/ui-utils/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@ai-sdk+ui-utils@0.0.50_zod@3.25.76/node_modules/@ai-sdk/ui-utils/dist/index.mjs":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ai-sdk+ui-utils@0.0.50_zod@3.25.76/node_modules/@ai-sdk/ui-utils/dist/index.mjs ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asSchema: () => (/* binding */ asSchema),\n/* harmony export */   callChatApi: () => (/* binding */ callChatApi),\n/* harmony export */   callCompletionApi: () => (/* binding */ callCompletionApi),\n/* harmony export */   createChunkDecoder: () => (/* binding */ createChunkDecoder),\n/* harmony export */   formatStreamPart: () => (/* binding */ formatStreamPart),\n/* harmony export */   generateId: () => (/* reexport safe */ _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.generateId),\n/* harmony export */   getTextFromDataUrl: () => (/* binding */ getTextFromDataUrl),\n/* harmony export */   isDeepEqualData: () => (/* binding */ isDeepEqualData),\n/* harmony export */   jsonSchema: () => (/* binding */ jsonSchema),\n/* harmony export */   parsePartialJson: () => (/* binding */ parsePartialJson),\n/* harmony export */   parseStreamPart: () => (/* binding */ parseStreamPart),\n/* harmony export */   processChatStream: () => (/* binding */ processChatStream),\n/* harmony export */   processDataProtocolResponse: () => (/* binding */ processDataProtocolResponse),\n/* harmony export */   readDataStream: () => (/* binding */ readDataStream),\n/* harmony export */   zodSchema: () => (/* binding */ zodSchema)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/provider-utils */ \"(rsc)/./node_modules/.pnpm/@ai-sdk+provider-utils@1.0.22_zod@3.25.76/node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var secure_json_parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! secure-json-parse */ \"(rsc)/./node_modules/.pnpm/secure-json-parse@2.7.0/node_modules/secure-json-parse/index.js\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod-to-json-schema */ \"(rsc)/./node_modules/.pnpm/zod-to-json-schema@3.25.1_zod@3.25.76/node_modules/zod-to-json-schema/dist/esm/index.js\");\n// src/index.ts\n\n// src/process-data-protocol-response.ts\n\n// src/parse-partial-json.ts\n\n// src/fix-json.ts\nfunction fixJson(input) {\n    const stack = [\n        \"ROOT\"\n    ];\n    let lastValidIndex = -1;\n    let literalStart = null;\n    function processValueStart(char, i, swapState) {\n        {\n            switch(char){\n                case '\"':\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_STRING\");\n                        break;\n                    }\n                case \"f\":\n                case \"t\":\n                case \"n\":\n                    {\n                        lastValidIndex = i;\n                        literalStart = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_LITERAL\");\n                        break;\n                    }\n                case \"-\":\n                    {\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"0\":\n                case \"1\":\n                case \"2\":\n                case \"3\":\n                case \"4\":\n                case \"5\":\n                case \"6\":\n                case \"7\":\n                case \"8\":\n                case \"9\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"{\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_OBJECT_START\");\n                        break;\n                    }\n                case \"[\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_ARRAY_START\");\n                        break;\n                    }\n            }\n        }\n    }\n    function processAfterObjectValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_OBJECT_AFTER_COMMA\");\n                    break;\n                }\n            case \"}\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    function processAfterArrayValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                    break;\n                }\n            case \"]\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    for(let i = 0; i < input.length; i++){\n        const char = input[i];\n        const currentState = stack[stack.length - 1];\n        switch(currentState){\n            case \"ROOT\":\n                processValueStart(char, i, \"FINISH\");\n                break;\n            case \"INSIDE_OBJECT_START\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_AFTER_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n                {\n                    switch(char){\n                        case \":\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_BEFORE_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n                {\n                    processValueStart(char, i, \"INSIDE_OBJECT_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    processAfterObjectValue(char, i);\n                    break;\n                }\n            case \"INSIDE_STRING\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"\\\\\":\n                            {\n                                stack.push(\"INSIDE_STRING_ESCAPE\");\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n                {\n                    switch(char){\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    switch(char){\n                        case \",\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n                {\n                    processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_STRING_ESCAPE\":\n                {\n                    stack.pop();\n                    lastValidIndex = i;\n                    break;\n                }\n            case \"INSIDE_NUMBER\":\n                {\n                    switch(char){\n                        case \"0\":\n                        case \"1\":\n                        case \"2\":\n                        case \"3\":\n                        case \"4\":\n                        case \"5\":\n                        case \"6\":\n                        case \"7\":\n                        case \"8\":\n                        case \"9\":\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"e\":\n                        case \"E\":\n                        case \"-\":\n                        case \".\":\n                            {\n                                break;\n                            }\n                        case \",\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                break;\n                            }\n                        default:\n                            {\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, i + 1);\n                    if (!\"false\".startsWith(partialLiteral) && !\"true\".startsWith(partialLiteral) && !\"null\".startsWith(partialLiteral)) {\n                        stack.pop();\n                        if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                            processAfterObjectValue(char, i);\n                        } else if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                            processAfterArrayValue(char, i);\n                        }\n                    } else {\n                        lastValidIndex = i;\n                    }\n                    break;\n                }\n        }\n    }\n    let result = input.slice(0, lastValidIndex + 1);\n    for(let i = stack.length - 1; i >= 0; i--){\n        const state = stack[i];\n        switch(state){\n            case \"INSIDE_STRING\":\n                {\n                    result += '\"';\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n            case \"INSIDE_OBJECT_START\":\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    result += \"}\";\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    result += \"]\";\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, input.length);\n                    if (\"true\".startsWith(partialLiteral)) {\n                        result += \"true\".slice(partialLiteral.length);\n                    } else if (\"false\".startsWith(partialLiteral)) {\n                        result += \"false\".slice(partialLiteral.length);\n                    } else if (\"null\".startsWith(partialLiteral)) {\n                        result += \"null\".slice(partialLiteral.length);\n                    }\n                }\n        }\n    }\n    return result;\n}\n// src/parse-partial-json.ts\nfunction parsePartialJson(jsonText) {\n    if (jsonText === void 0) {\n        return {\n            value: void 0,\n            state: \"undefined-input\"\n        };\n    }\n    try {\n        return {\n            value: secure_json_parse__WEBPACK_IMPORTED_MODULE_0__.parse(jsonText),\n            state: \"successful-parse\"\n        };\n    } catch (ignored) {\n        try {\n            return {\n                value: secure_json_parse__WEBPACK_IMPORTED_MODULE_0__.parse(fixJson(jsonText)),\n                state: \"repaired-parse\"\n            };\n        } catch (ignored2) {}\n    }\n    return {\n        value: void 0,\n        state: \"failed-parse\"\n    };\n}\n// src/stream-parts.ts\nvar textStreamPart = {\n    code: \"0\",\n    name: \"text\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"text\" parts expect a string value.');\n        }\n        return {\n            type: \"text\",\n            value\n        };\n    }\n};\nvar functionCallStreamPart = {\n    code: \"1\",\n    name: \"function_call\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"function_call\" in value) || typeof value.function_call !== \"object\" || value.function_call == null || !(\"name\" in value.function_call) || !(\"arguments\" in value.function_call) || typeof value.function_call.name !== \"string\" || typeof value.function_call.arguments !== \"string\") {\n            throw new Error('\"function_call\" parts expect an object with a \"function_call\" property.');\n        }\n        return {\n            type: \"function_call\",\n            value\n        };\n    }\n};\nvar dataStreamPart = {\n    code: \"2\",\n    name: \"data\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"data\" parts expect an array value.');\n        }\n        return {\n            type: \"data\",\n            value\n        };\n    }\n};\nvar errorStreamPart = {\n    code: \"3\",\n    name: \"error\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"error\" parts expect a string value.');\n        }\n        return {\n            type: \"error\",\n            value\n        };\n    }\n};\nvar assistantMessageStreamPart = {\n    code: \"4\",\n    name: \"assistant_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"id\" in value) || !(\"role\" in value) || !(\"content\" in value) || typeof value.id !== \"string\" || typeof value.role !== \"string\" || value.role !== \"assistant\" || !Array.isArray(value.content) || !value.content.every((item)=>item != null && typeof item === \"object\" && \"type\" in item && item.type === \"text\" && \"text\" in item && item.text != null && typeof item.text === \"object\" && \"value\" in item.text && typeof item.text.value === \"string\")) {\n            throw new Error('\"assistant_message\" parts expect an object with an \"id\", \"role\", and \"content\" property.');\n        }\n        return {\n            type: \"assistant_message\",\n            value\n        };\n    }\n};\nvar assistantControlDataStreamPart = {\n    code: \"5\",\n    name: \"assistant_control_data\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"threadId\" in value) || !(\"messageId\" in value) || typeof value.threadId !== \"string\" || typeof value.messageId !== \"string\") {\n            throw new Error('\"assistant_control_data\" parts expect an object with a \"threadId\" and \"messageId\" property.');\n        }\n        return {\n            type: \"assistant_control_data\",\n            value: {\n                threadId: value.threadId,\n                messageId: value.messageId\n            }\n        };\n    }\n};\nvar dataMessageStreamPart = {\n    code: \"6\",\n    name: \"data_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"role\" in value) || !(\"data\" in value) || typeof value.role !== \"string\" || value.role !== \"data\") {\n            throw new Error('\"data_message\" parts expect an object with a \"role\" and \"data\" property.');\n        }\n        return {\n            type: \"data_message\",\n            value\n        };\n    }\n};\nvar toolCallsStreamPart = {\n    code: \"7\",\n    name: \"tool_calls\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"tool_calls\" in value) || typeof value.tool_calls !== \"object\" || value.tool_calls == null || !Array.isArray(value.tool_calls) || value.tool_calls.some((tc)=>tc == null || typeof tc !== \"object\" || !(\"id\" in tc) || typeof tc.id !== \"string\" || !(\"type\" in tc) || typeof tc.type !== \"string\" || !(\"function\" in tc) || tc.function == null || typeof tc.function !== \"object\" || !(\"arguments\" in tc.function) || typeof tc.function.name !== \"string\" || typeof tc.function.arguments !== \"string\")) {\n            throw new Error('\"tool_calls\" parts expect an object with a ToolCallPayload.');\n        }\n        return {\n            type: \"tool_calls\",\n            value\n        };\n    }\n};\nvar messageAnnotationsStreamPart = {\n    code: \"8\",\n    name: \"message_annotations\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"message_annotations\" parts expect an array value.');\n        }\n        return {\n            type: \"message_annotations\",\n            value\n        };\n    }\n};\nvar toolCallStreamPart = {\n    code: \"9\",\n    name: \"tool_call\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\" || !(\"args\" in value) || typeof value.args !== \"object\") {\n            throw new Error('\"tool_call\" parts expect an object with a \"toolCallId\", \"toolName\", and \"args\" property.');\n        }\n        return {\n            type: \"tool_call\",\n            value\n        };\n    }\n};\nvar toolResultStreamPart = {\n    code: \"a\",\n    name: \"tool_result\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"result\" in value)) {\n            throw new Error('\"tool_result\" parts expect an object with a \"toolCallId\" and a \"result\" property.');\n        }\n        return {\n            type: \"tool_result\",\n            value\n        };\n    }\n};\nvar toolCallStreamingStartStreamPart = {\n    code: \"b\",\n    name: \"tool_call_streaming_start\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\") {\n            throw new Error('\"tool_call_streaming_start\" parts expect an object with a \"toolCallId\" and \"toolName\" property.');\n        }\n        return {\n            type: \"tool_call_streaming_start\",\n            value\n        };\n    }\n};\nvar toolCallDeltaStreamPart = {\n    code: \"c\",\n    name: \"tool_call_delta\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"argsTextDelta\" in value) || typeof value.argsTextDelta !== \"string\") {\n            throw new Error('\"tool_call_delta\" parts expect an object with a \"toolCallId\" and \"argsTextDelta\" property.');\n        }\n        return {\n            type: \"tool_call_delta\",\n            value\n        };\n    }\n};\nvar finishMessageStreamPart = {\n    code: \"d\",\n    name: \"finish_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_message\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        return {\n            type: \"finish_message\",\n            value: result\n        };\n    }\n};\nvar finishStepStreamPart = {\n    code: \"e\",\n    name: \"finish_step\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_step\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason,\n            isContinued: false\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        if (\"isContinued\" in value && typeof value.isContinued === \"boolean\") {\n            result.isContinued = value.isContinued;\n        }\n        return {\n            type: \"finish_step\",\n            value: result\n        };\n    }\n};\nvar streamParts = [\n    textStreamPart,\n    functionCallStreamPart,\n    dataStreamPart,\n    errorStreamPart,\n    assistantMessageStreamPart,\n    assistantControlDataStreamPart,\n    dataMessageStreamPart,\n    toolCallsStreamPart,\n    messageAnnotationsStreamPart,\n    toolCallStreamPart,\n    toolResultStreamPart,\n    toolCallStreamingStartStreamPart,\n    toolCallDeltaStreamPart,\n    finishMessageStreamPart,\n    finishStepStreamPart\n];\nvar streamPartsByCode = {\n    [textStreamPart.code]: textStreamPart,\n    [functionCallStreamPart.code]: functionCallStreamPart,\n    [dataStreamPart.code]: dataStreamPart,\n    [errorStreamPart.code]: errorStreamPart,\n    [assistantMessageStreamPart.code]: assistantMessageStreamPart,\n    [assistantControlDataStreamPart.code]: assistantControlDataStreamPart,\n    [dataMessageStreamPart.code]: dataMessageStreamPart,\n    [toolCallsStreamPart.code]: toolCallsStreamPart,\n    [messageAnnotationsStreamPart.code]: messageAnnotationsStreamPart,\n    [toolCallStreamPart.code]: toolCallStreamPart,\n    [toolResultStreamPart.code]: toolResultStreamPart,\n    [toolCallStreamingStartStreamPart.code]: toolCallStreamingStartStreamPart,\n    [toolCallDeltaStreamPart.code]: toolCallDeltaStreamPart,\n    [finishMessageStreamPart.code]: finishMessageStreamPart,\n    [finishStepStreamPart.code]: finishStepStreamPart\n};\nvar StreamStringPrefixes = {\n    [textStreamPart.name]: textStreamPart.code,\n    [functionCallStreamPart.name]: functionCallStreamPart.code,\n    [dataStreamPart.name]: dataStreamPart.code,\n    [errorStreamPart.name]: errorStreamPart.code,\n    [assistantMessageStreamPart.name]: assistantMessageStreamPart.code,\n    [assistantControlDataStreamPart.name]: assistantControlDataStreamPart.code,\n    [dataMessageStreamPart.name]: dataMessageStreamPart.code,\n    [toolCallsStreamPart.name]: toolCallsStreamPart.code,\n    [messageAnnotationsStreamPart.name]: messageAnnotationsStreamPart.code,\n    [toolCallStreamPart.name]: toolCallStreamPart.code,\n    [toolResultStreamPart.name]: toolResultStreamPart.code,\n    [toolCallStreamingStartStreamPart.name]: toolCallStreamingStartStreamPart.code,\n    [toolCallDeltaStreamPart.name]: toolCallDeltaStreamPart.code,\n    [finishMessageStreamPart.name]: finishMessageStreamPart.code,\n    [finishStepStreamPart.name]: finishStepStreamPart.code\n};\nvar validCodes = streamParts.map((part)=>part.code);\nvar parseStreamPart = (line)=>{\n    const firstSeparatorIndex = line.indexOf(\":\");\n    if (firstSeparatorIndex === -1) {\n        throw new Error(\"Failed to parse stream string. No separator found.\");\n    }\n    const prefix = line.slice(0, firstSeparatorIndex);\n    if (!validCodes.includes(prefix)) {\n        throw new Error(`Failed to parse stream string. Invalid code ${prefix}.`);\n    }\n    const code = prefix;\n    const textValue = line.slice(firstSeparatorIndex + 1);\n    const jsonValue = JSON.parse(textValue);\n    return streamPartsByCode[code].parse(jsonValue);\n};\nfunction formatStreamPart(type, value) {\n    const streamPart = streamParts.find((part)=>part.name === type);\n    if (!streamPart) {\n        throw new Error(`Invalid stream part type: ${type}`);\n    }\n    return `${streamPart.code}:${JSON.stringify(value)}\n`;\n}\n// src/read-data-stream.ts\nvar NEWLINE = \"\\n\".charCodeAt(0);\nfunction concatChunks(chunks, totalLength) {\n    const concatenatedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks){\n        concatenatedChunks.set(chunk, offset);\n        offset += chunk.length;\n    }\n    chunks.length = 0;\n    return concatenatedChunks;\n}\nasync function* readDataStream(reader, { isAborted } = {}) {\n    const decoder = new TextDecoder();\n    const chunks = [];\n    let totalLength = 0;\n    while(true){\n        const { value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            totalLength += value.length;\n            if (value[value.length - 1] !== NEWLINE) {\n                continue;\n            }\n        }\n        if (chunks.length === 0) {\n            break;\n        }\n        const concatenatedChunks = concatChunks(chunks, totalLength);\n        totalLength = 0;\n        const streamParts2 = decoder.decode(concatenatedChunks, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\").map(parseStreamPart);\n        for (const streamPart of streamParts2){\n            yield streamPart;\n        }\n        if (isAborted == null ? void 0 : isAborted()) {\n            reader.cancel();\n            break;\n        }\n    }\n}\n// src/process-data-protocol-response.ts\nfunction assignAnnotationsToMessage(message, annotations) {\n    if (!message || !annotations || !annotations.length) return message;\n    return {\n        ...message,\n        annotations: [\n            ...annotations\n        ]\n    };\n}\nasync function processDataProtocolResponse({ reader, abortControllerRef, update, onToolCall, onFinish, generateId: generateId2 = _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.generateId, getCurrentDate = ()=>/* @__PURE__ */ new Date() }) {\n    var _a;\n    const createdAt = getCurrentDate();\n    let prefixMap = {};\n    let nextPrefixMap = void 0;\n    const previousMessages = [];\n    const data = [];\n    let messageAnnotations = void 0;\n    const partialToolCalls = {};\n    let usage = {\n        completionTokens: NaN,\n        promptTokens: NaN,\n        totalTokens: NaN\n    };\n    let finishReason = \"unknown\";\n    for await (const { type, value } of readDataStream(reader, {\n        isAborted: ()=>(abortControllerRef == null ? void 0 : abortControllerRef.current) === null\n    })){\n        if (type === \"error\") {\n            throw new Error(value);\n        }\n        if (type === \"finish_step\") {\n            if (!value.isContinued) {\n                nextPrefixMap = {};\n            }\n            continue;\n        }\n        if (type === \"finish_message\") {\n            finishReason = value.finishReason;\n            if (value.usage != null) {\n                const { completionTokens, promptTokens } = value.usage;\n                usage = {\n                    completionTokens,\n                    promptTokens,\n                    totalTokens: completionTokens + promptTokens\n                };\n            }\n            continue;\n        }\n        if (nextPrefixMap != null && (type === \"text\" || type === \"tool_call\" || type === \"tool_call_streaming_start\" || type === \"tool_call_delta\" || type === \"tool_result\")) {\n            if (prefixMap.text) {\n                previousMessages.push(prefixMap.text);\n            }\n            if (prefixMap.function_call) {\n                previousMessages.push(prefixMap.function_call);\n            }\n            if (prefixMap.tool_calls) {\n                previousMessages.push(prefixMap.tool_calls);\n            }\n            prefixMap = nextPrefixMap;\n            nextPrefixMap = void 0;\n        }\n        if (type === \"text\") {\n            if (prefixMap[\"text\"]) {\n                prefixMap[\"text\"] = {\n                    ...prefixMap[\"text\"],\n                    content: (prefixMap[\"text\"].content || \"\") + value\n                };\n            } else {\n                prefixMap[\"text\"] = {\n                    id: generateId2(),\n                    role: \"assistant\",\n                    content: value,\n                    createdAt\n                };\n            }\n        }\n        if (type === \"tool_call_streaming_start\") {\n            if (prefixMap.text == null) {\n                prefixMap.text = {\n                    id: generateId2(),\n                    role: \"assistant\",\n                    content: \"\",\n                    createdAt\n                };\n            }\n            if (prefixMap.text.toolInvocations == null) {\n                prefixMap.text.toolInvocations = [];\n            }\n            partialToolCalls[value.toolCallId] = {\n                text: \"\",\n                toolName: value.toolName,\n                prefixMapIndex: prefixMap.text.toolInvocations.length\n            };\n            prefixMap.text.toolInvocations.push({\n                state: \"partial-call\",\n                toolCallId: value.toolCallId,\n                toolName: value.toolName,\n                args: void 0\n            });\n        } else if (type === \"tool_call_delta\") {\n            const partialToolCall = partialToolCalls[value.toolCallId];\n            partialToolCall.text += value.argsTextDelta;\n            const { value: partialArgs } = parsePartialJson(partialToolCall.text);\n            prefixMap.text.toolInvocations[partialToolCall.prefixMapIndex] = {\n                state: \"partial-call\",\n                toolCallId: value.toolCallId,\n                toolName: partialToolCall.toolName,\n                args: partialArgs\n            };\n            prefixMap.text.internalUpdateId = generateId2();\n        } else if (type === \"tool_call\") {\n            if (partialToolCalls[value.toolCallId] != null) {\n                prefixMap.text.toolInvocations[partialToolCalls[value.toolCallId].prefixMapIndex] = {\n                    state: \"call\",\n                    ...value\n                };\n            } else {\n                if (prefixMap.text == null) {\n                    prefixMap.text = {\n                        id: generateId2(),\n                        role: \"assistant\",\n                        content: \"\",\n                        createdAt\n                    };\n                }\n                if (prefixMap.text.toolInvocations == null) {\n                    prefixMap.text.toolInvocations = [];\n                }\n                prefixMap.text.toolInvocations.push({\n                    state: \"call\",\n                    ...value\n                });\n            }\n            prefixMap.text.internalUpdateId = generateId2();\n            if (onToolCall) {\n                const result = await onToolCall({\n                    toolCall: value\n                });\n                if (result != null) {\n                    prefixMap.text.toolInvocations[prefixMap.text.toolInvocations.length - 1] = {\n                        state: \"result\",\n                        ...value,\n                        result\n                    };\n                }\n            }\n        } else if (type === \"tool_result\") {\n            const toolInvocations = (_a = prefixMap.text) == null ? void 0 : _a.toolInvocations;\n            if (toolInvocations == null) {\n                throw new Error(\"tool_result must be preceded by a tool_call\");\n            }\n            const toolInvocationIndex = toolInvocations.findIndex((invocation)=>invocation.toolCallId === value.toolCallId);\n            if (toolInvocationIndex === -1) {\n                throw new Error(\"tool_result must be preceded by a tool_call with the same toolCallId\");\n            }\n            toolInvocations[toolInvocationIndex] = {\n                ...toolInvocations[toolInvocationIndex],\n                state: \"result\",\n                ...value\n            };\n        }\n        let functionCallMessage = null;\n        if (type === \"function_call\") {\n            prefixMap[\"function_call\"] = {\n                id: generateId2(),\n                role: \"assistant\",\n                content: \"\",\n                function_call: value.function_call,\n                name: value.function_call.name,\n                createdAt\n            };\n            functionCallMessage = prefixMap[\"function_call\"];\n        }\n        let toolCallMessage = null;\n        if (type === \"tool_calls\") {\n            prefixMap[\"tool_calls\"] = {\n                id: generateId2(),\n                role: \"assistant\",\n                content: \"\",\n                tool_calls: value.tool_calls,\n                createdAt\n            };\n            toolCallMessage = prefixMap[\"tool_calls\"];\n        }\n        if (type === \"data\") {\n            data.push(...value);\n        }\n        let responseMessage = prefixMap[\"text\"];\n        if (type === \"message_annotations\") {\n            if (!messageAnnotations) {\n                messageAnnotations = [\n                    ...value\n                ];\n            } else {\n                messageAnnotations.push(...value);\n            }\n            functionCallMessage = assignAnnotationsToMessage(prefixMap[\"function_call\"], messageAnnotations);\n            toolCallMessage = assignAnnotationsToMessage(prefixMap[\"tool_calls\"], messageAnnotations);\n            responseMessage = assignAnnotationsToMessage(prefixMap[\"text\"], messageAnnotations);\n            if (prefixMap.text != null) {\n                prefixMap.text.internalUpdateId = generateId2();\n            }\n        }\n        if (messageAnnotations == null ? void 0 : messageAnnotations.length) {\n            if (prefixMap.text) {\n                prefixMap.text.annotations = [\n                    ...messageAnnotations\n                ];\n            }\n            if (prefixMap.function_call) {\n                prefixMap.function_call.annotations = [\n                    ...messageAnnotations\n                ];\n            }\n            if (prefixMap.tool_calls) {\n                prefixMap.tool_calls.annotations = [\n                    ...messageAnnotations\n                ];\n            }\n        }\n        const merged = [\n            functionCallMessage,\n            toolCallMessage,\n            responseMessage\n        ].filter(Boolean).map((message)=>({\n                ...assignAnnotationsToMessage(message, messageAnnotations)\n            }));\n        update([\n            ...previousMessages,\n            ...merged\n        ], [\n            ...data\n        ]);\n    }\n    onFinish == null ? void 0 : onFinish({\n        message: prefixMap.text,\n        finishReason,\n        usage\n    });\n    return {\n        messages: [\n            prefixMap.text,\n            prefixMap.function_call,\n            prefixMap.tool_calls\n        ].filter(Boolean),\n        data\n    };\n}\n// src/call-chat-api.ts\nvar getOriginalFetch = ()=>fetch;\nasync function callChatApi({ api, body, streamProtocol = \"data\", credentials, headers, abortController, restoreMessagesOnFailure, onResponse, onUpdate, onFinish, onToolCall, generateId: generateId2, fetch: fetch2 = getOriginalFetch() }) {\n    var _a, _b;\n    const response = await fetch2(api, {\n        method: \"POST\",\n        body: JSON.stringify(body),\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...headers\n        },\n        signal: (_a = abortController == null ? void 0 : abortController()) == null ? void 0 : _a.signal,\n        credentials\n    }).catch((err)=>{\n        restoreMessagesOnFailure();\n        throw err;\n    });\n    if (onResponse) {\n        try {\n            await onResponse(response);\n        } catch (err) {\n            throw err;\n        }\n    }\n    if (!response.ok) {\n        restoreMessagesOnFailure();\n        throw new Error((_b = await response.text()) != null ? _b : \"Failed to fetch the chat response.\");\n    }\n    if (!response.body) {\n        throw new Error(\"The response body is empty.\");\n    }\n    const reader = response.body.getReader();\n    switch(streamProtocol){\n        case \"text\":\n            {\n                const decoder = createChunkDecoder();\n                const resultMessage = {\n                    id: generateId2(),\n                    createdAt: /* @__PURE__ */ new Date(),\n                    role: \"assistant\",\n                    content: \"\"\n                };\n                while(true){\n                    const { done, value } = await reader.read();\n                    if (done) {\n                        break;\n                    }\n                    resultMessage.content += decoder(value);\n                    onUpdate([\n                        {\n                            ...resultMessage\n                        }\n                    ], []);\n                    if ((abortController == null ? void 0 : abortController()) === null) {\n                        reader.cancel();\n                        break;\n                    }\n                }\n                onFinish == null ? void 0 : onFinish(resultMessage, {\n                    usage: {\n                        completionTokens: NaN,\n                        promptTokens: NaN,\n                        totalTokens: NaN\n                    },\n                    finishReason: \"unknown\"\n                });\n                return {\n                    messages: [\n                        resultMessage\n                    ],\n                    data: []\n                };\n            }\n        case \"data\":\n            {\n                return await processDataProtocolResponse({\n                    reader,\n                    abortControllerRef: abortController != null ? {\n                        current: abortController()\n                    } : void 0,\n                    update: onUpdate,\n                    onToolCall,\n                    onFinish ({ message, finishReason, usage }) {\n                        if (onFinish && message != null) {\n                            onFinish(message, {\n                                usage,\n                                finishReason\n                            });\n                        }\n                    },\n                    generateId: generateId2\n                });\n            }\n        default:\n            {\n                const exhaustiveCheck = streamProtocol;\n                throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n            }\n    }\n}\n// src/call-completion-api.ts\nvar getOriginalFetch2 = ()=>fetch;\nasync function callCompletionApi({ api, prompt, credentials, headers, body, streamProtocol = \"data\", setCompletion, setLoading, setError, setAbortController, onResponse, onFinish, onError, onData, fetch: fetch2 = getOriginalFetch2() }) {\n    try {\n        setLoading(true);\n        setError(void 0);\n        const abortController = new AbortController();\n        setAbortController(abortController);\n        setCompletion(\"\");\n        const res = await fetch2(api, {\n            method: \"POST\",\n            body: JSON.stringify({\n                prompt,\n                ...body\n            }),\n            credentials,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...headers\n            },\n            signal: abortController.signal\n        }).catch((err)=>{\n            throw err;\n        });\n        if (onResponse) {\n            try {\n                await onResponse(res);\n            } catch (err) {\n                throw err;\n            }\n        }\n        if (!res.ok) {\n            throw new Error(await res.text() || \"Failed to fetch the chat response.\");\n        }\n        if (!res.body) {\n            throw new Error(\"The response body is empty.\");\n        }\n        let result = \"\";\n        const reader = res.body.getReader();\n        switch(streamProtocol){\n            case \"text\":\n                {\n                    const decoder = createChunkDecoder();\n                    while(true){\n                        const { done, value } = await reader.read();\n                        if (done) {\n                            break;\n                        }\n                        result += decoder(value);\n                        setCompletion(result);\n                        if (abortController === null) {\n                            reader.cancel();\n                            break;\n                        }\n                    }\n                    break;\n                }\n            case \"data\":\n                {\n                    for await (const { type, value } of readDataStream(reader, {\n                        isAborted: ()=>abortController === null\n                    })){\n                        switch(type){\n                            case \"text\":\n                                {\n                                    result += value;\n                                    setCompletion(result);\n                                    break;\n                                }\n                            case \"data\":\n                                {\n                                    onData == null ? void 0 : onData(value);\n                                    break;\n                                }\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    const exhaustiveCheck = streamProtocol;\n                    throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n                }\n        }\n        if (onFinish) {\n            onFinish(prompt, result);\n        }\n        setAbortController(null);\n        return result;\n    } catch (err) {\n        if (err.name === \"AbortError\") {\n            setAbortController(null);\n            return null;\n        }\n        if (err instanceof Error) {\n            if (onError) {\n                onError(err);\n            }\n        }\n        setError(err);\n    } finally{\n        setLoading(false);\n    }\n}\n// src/create-chunk-decoder.ts\nfunction createChunkDecoder(complex) {\n    const decoder = new TextDecoder();\n    if (!complex) {\n        return function(chunk) {\n            if (!chunk) return \"\";\n            return decoder.decode(chunk, {\n                stream: true\n            });\n        };\n    }\n    return function(chunk) {\n        const decoded = decoder.decode(chunk, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\");\n        return decoded.map(parseStreamPart).filter(Boolean);\n    };\n}\n// src/data-url.ts\nfunction getTextFromDataUrl(dataUrl) {\n    const [header, base64Content] = dataUrl.split(\",\");\n    const mimeType = header.split(\";\")[0].split(\":\")[1];\n    if (mimeType == null || base64Content == null) {\n        throw new Error(\"Invalid data URL format\");\n    }\n    try {\n        return window.atob(base64Content);\n    } catch (error) {\n        throw new Error(`Error decoding data URL`);\n    }\n}\n// src/is-deep-equal-data.ts\nfunction isDeepEqualData(obj1, obj2) {\n    if (obj1 === obj2) return true;\n    if (obj1 == null || obj2 == null) return false;\n    if (typeof obj1 !== \"object\" && typeof obj2 !== \"object\") return obj1 === obj2;\n    if (obj1.constructor !== obj2.constructor) return false;\n    if (obj1 instanceof Date && obj2 instanceof Date) {\n        return obj1.getTime() === obj2.getTime();\n    }\n    if (Array.isArray(obj1)) {\n        if (obj1.length !== obj2.length) return false;\n        for(let i = 0; i < obj1.length; i++){\n            if (!isDeepEqualData(obj1[i], obj2[i])) return false;\n        }\n        return true;\n    }\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    for (const key of keys1){\n        if (!keys2.includes(key)) return false;\n        if (!isDeepEqualData(obj1[key], obj2[key])) return false;\n    }\n    return true;\n}\n// src/process-chat-stream.ts\nasync function processChatStream({ getStreamedResponse, experimental_onFunctionCall, experimental_onToolCall, updateChatRequest, getCurrentMessages }) {\n    while(true){\n        const messagesAndDataOrJustMessage = await getStreamedResponse();\n        if (\"messages\" in messagesAndDataOrJustMessage) {\n            let hasFollowingResponse = false;\n            for (const message of messagesAndDataOrJustMessage.messages){\n                if ((message.function_call === void 0 || typeof message.function_call === \"string\") && (message.tool_calls === void 0 || typeof message.tool_calls === \"string\")) {\n                    continue;\n                }\n                hasFollowingResponse = true;\n                if (experimental_onFunctionCall) {\n                    const functionCall = message.function_call;\n                    if (typeof functionCall !== \"object\") {\n                        console.warn(\"experimental_onFunctionCall should not be defined when using tools\");\n                        continue;\n                    }\n                    const functionCallResponse = await experimental_onFunctionCall(getCurrentMessages(), functionCall);\n                    if (functionCallResponse === void 0) {\n                        hasFollowingResponse = false;\n                        break;\n                    }\n                    updateChatRequest(functionCallResponse);\n                }\n                if (experimental_onToolCall) {\n                    const toolCalls = message.tool_calls;\n                    if (!Array.isArray(toolCalls) || toolCalls.some((toolCall)=>typeof toolCall !== \"object\")) {\n                        console.warn(\"experimental_onToolCall should not be defined when using tools\");\n                        continue;\n                    }\n                    const toolCallResponse = await experimental_onToolCall(getCurrentMessages(), toolCalls);\n                    if (toolCallResponse === void 0) {\n                        hasFollowingResponse = false;\n                        break;\n                    }\n                    updateChatRequest(toolCallResponse);\n                }\n            }\n            if (!hasFollowingResponse) {\n                break;\n            }\n        } else {\n            let fixFunctionCallArguments2 = function(response) {\n                for (const message of response.messages){\n                    if (message.tool_calls !== void 0) {\n                        for (const toolCall of message.tool_calls){\n                            if (typeof toolCall === \"object\") {\n                                if (toolCall.function.arguments && typeof toolCall.function.arguments !== \"string\") {\n                                    toolCall.function.arguments = JSON.stringify(toolCall.function.arguments);\n                                }\n                            }\n                        }\n                    }\n                    if (message.function_call !== void 0) {\n                        if (typeof message.function_call === \"object\") {\n                            if (message.function_call.arguments && typeof message.function_call.arguments !== \"string\") {\n                                message.function_call.arguments = JSON.stringify(message.function_call.arguments);\n                            }\n                        }\n                    }\n                }\n            };\n            var fixFunctionCallArguments = fixFunctionCallArguments2;\n            const streamedResponseMessage = messagesAndDataOrJustMessage;\n            if ((streamedResponseMessage.function_call === void 0 || typeof streamedResponseMessage.function_call === \"string\") && (streamedResponseMessage.tool_calls === void 0 || typeof streamedResponseMessage.tool_calls === \"string\")) {\n                break;\n            }\n            if (experimental_onFunctionCall) {\n                const functionCall = streamedResponseMessage.function_call;\n                if (!(typeof functionCall === \"object\")) {\n                    console.warn(\"experimental_onFunctionCall should not be defined when using tools\");\n                    continue;\n                }\n                const functionCallResponse = await experimental_onFunctionCall(getCurrentMessages(), functionCall);\n                if (functionCallResponse === void 0) break;\n                fixFunctionCallArguments2(functionCallResponse);\n                updateChatRequest(functionCallResponse);\n            }\n            if (experimental_onToolCall) {\n                const toolCalls = streamedResponseMessage.tool_calls;\n                if (!(typeof toolCalls === \"object\")) {\n                    console.warn(\"experimental_onToolCall should not be defined when using functions\");\n                    continue;\n                }\n                const toolCallResponse = await experimental_onToolCall(getCurrentMessages(), toolCalls);\n                if (toolCallResponse === void 0) break;\n                fixFunctionCallArguments2(toolCallResponse);\n                updateChatRequest(toolCallResponse);\n            }\n        }\n    }\n}\n// src/schema.ts\n\n\nvar schemaSymbol = Symbol.for(\"vercel.ai.schema\");\nfunction jsonSchema(jsonSchema2, { validate } = {}) {\n    return {\n        [schemaSymbol]: true,\n        _type: void 0,\n        // should never be used directly\n        [_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.validatorSymbol]: true,\n        jsonSchema: jsonSchema2,\n        validate\n    };\n}\nfunction isSchema(value) {\n    return typeof value === \"object\" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && \"jsonSchema\" in value && \"validate\" in value;\n}\nfunction asSchema(schema) {\n    return isSchema(schema) ? schema : zodSchema(schema);\n}\nfunction zodSchema(zodSchema2) {\n    return jsonSchema(// we assume that zodToJsonSchema will return a valid JSONSchema7:\n    (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(zodSchema2), {\n        validate: (value)=>{\n            const result = zodSchema2.safeParse(value);\n            return result.success ? {\n                success: true,\n                value: result.data\n            } : {\n                success: false,\n                error: result.error\n            };\n        }\n    });\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkayt1aS11dGlsc0AwLjAuNTBfem9kQDMuMjUuNzYvbm9kZV9tb2R1bGVzL0BhaS1zZGsvdWktdXRpbHMvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZUFBZTtBQUNxQztBQUVwRCx3Q0FBd0M7QUFDa0M7QUFFMUUsNEJBQTRCO0FBQ2U7QUFFM0Msa0JBQWtCO0FBQ2xCLFNBQVNHLFFBQVFDLEtBQUs7SUFDcEIsTUFBTUMsUUFBUTtRQUFDO0tBQU87SUFDdEIsSUFBSUMsaUJBQWlCLENBQUM7SUFDdEIsSUFBSUMsZUFBZTtJQUNuQixTQUFTQyxrQkFBa0JDLElBQUksRUFBRUMsQ0FBQyxFQUFFQyxTQUFTO1FBQzNDO1lBQ0UsT0FBUUY7Z0JBQ04sS0FBSztvQkFBSzt3QkFDUkgsaUJBQWlCSTt3QkFDakJMLE1BQU1PLEdBQUc7d0JBQ1RQLE1BQU1RLElBQUksQ0FBQ0Y7d0JBQ1hOLE1BQU1RLElBQUksQ0FBQzt3QkFDWDtvQkFDRjtnQkFDQSxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztvQkFBSzt3QkFDUlAsaUJBQWlCSTt3QkFDakJILGVBQWVHO3dCQUNmTCxNQUFNTyxHQUFHO3dCQUNUUCxNQUFNUSxJQUFJLENBQUNGO3dCQUNYTixNQUFNUSxJQUFJLENBQUM7d0JBQ1g7b0JBQ0Y7Z0JBQ0EsS0FBSztvQkFBSzt3QkFDUlIsTUFBTU8sR0FBRzt3QkFDVFAsTUFBTVEsSUFBSSxDQUFDRjt3QkFDWE4sTUFBTVEsSUFBSSxDQUFDO3dCQUNYO29CQUNGO2dCQUNBLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsS0FBSztnQkFDTCxLQUFLO2dCQUNMLEtBQUs7b0JBQUs7d0JBQ1JQLGlCQUFpQkk7d0JBQ2pCTCxNQUFNTyxHQUFHO3dCQUNUUCxNQUFNUSxJQUFJ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LFVBQVUsWUFBWUEsVUFBVSxRQUFRME0sZ0JBQWdCMU0sU0FBU0EsS0FBSyxDQUFDME0sYUFBYSxLQUFLLFFBQVEsZ0JBQWdCMU0sU0FBUyxjQUFjQTtBQUN4SjtBQUNBLFNBQVNrTixTQUFTQyxNQUFNO0lBQ3RCLE9BQU9GLFNBQVNFLFVBQVVBLFNBQVNDLFVBQVVEO0FBQy9DO0FBQ0EsU0FBU0MsVUFBVUMsVUFBVTtJQUMzQixPQUFPUixXQUNMLGtFQUFrRTtJQUNsRUosOERBQWVBLENBQUNZLGFBQ2hCO1FBQ0VOLFVBQVUsQ0FBQy9NO1lBQ1QsTUFBTUwsU0FBUzBOLFdBQVdDLFNBQVMsQ0FBQ3ROO1lBQ3BDLE9BQU9MLE9BQU80TixPQUFPLEdBQUc7Z0JBQUVBLFNBQVM7Z0JBQU12TixPQUFPTCxPQUFPZ0gsSUFBSTtZQUFDLElBQUk7Z0JBQUU0RyxTQUFTO2dCQUFPM0MsT0FBT2pMLE9BQU9pTCxLQUFLO1lBQUM7UUFDeEc7SUFDRjtBQUVKO0FBaUJFLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VudGluZWwtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkayt1aS11dGlsc0AwLjAuNTBfem9kQDMuMjUuNzYvbm9kZV9tb2R1bGVzL0BhaS1zZGsvdWktdXRpbHMvZGlzdC9pbmRleC5tanM/MTIyMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvcHJvY2Vzcy1kYXRhLXByb3RvY29sLXJlc3BvbnNlLnRzXG5pbXBvcnQgeyBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWRGdW5jdGlvbiB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5cbi8vIHNyYy9wYXJzZS1wYXJ0aWFsLWpzb24udHNcbmltcG9ydCBTZWN1cmVKU09OIGZyb20gXCJzZWN1cmUtanNvbi1wYXJzZVwiO1xuXG4vLyBzcmMvZml4LWpzb24udHNcbmZ1bmN0aW9uIGZpeEpzb24oaW5wdXQpIHtcbiAgY29uc3Qgc3RhY2sgPSBbXCJST09UXCJdO1xuICBsZXQgbGFzdFZhbGlkSW5kZXggPSAtMTtcbiAgbGV0IGxpdGVyYWxTdGFydCA9IG51bGw7XG4gIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIHN3YXBTdGF0ZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgIGNhc2UgXCJuXCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgbGl0ZXJhbFN0YXJ0ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9MSVRFUkFMXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCItXCI6IHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgY2FzZSBcIjhcIjpcbiAgICAgICAgY2FzZSBcIjlcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIntcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfU1RBUlRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIltcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9TVEFSVFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwifVwiOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIl1cIjoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBpbnB1dFtpXTtcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICBzd2l0Y2ggKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgY2FzZSBcIlJPT1RcIjpcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJGSU5JU0hcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfU1RBUlRcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfS0VZXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCI6XCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJcXFxcXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HX0VTQ0FQRVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9TVEFSVFwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdfRVNDQVBFXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX05VTUJFUlwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgIGNhc2UgXCI5XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICBjYXNlIFwiLlwiOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0xJVEVSQUxcIjoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQsIGkgKyAxKTtcbiAgICAgICAgaWYgKCFcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkgJiYgIVwidHJ1ZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmICFcIm51bGxcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IHJlc3VsdCA9IGlucHV0LnNsaWNlKDAsIGxhc3RWYWxpZEluZGV4ICsgMSk7XG4gIGZvciAobGV0IGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN0YXRlID0gc3RhY2tbaV07XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICByZXN1bHQgKz0gJ1wiJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9LRVlcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX1NUQVJUXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUVcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcmVzdWx0ICs9IFwifVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfU1RBUlRcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICByZXN1bHQgKz0gXCJdXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9MSVRFUkFMXCI6IHtcbiAgICAgICAgY29uc3QgcGFydGlhbExpdGVyYWwgPSBpbnB1dC5zdWJzdHJpbmcobGl0ZXJhbFN0YXJ0LCBpbnB1dC5sZW5ndGgpO1xuICAgICAgICBpZiAoXCJ0cnVlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJ0cnVlXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJmYWxzZVwiLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJudWxsXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJudWxsXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBzcmMvcGFyc2UtcGFydGlhbC1qc29uLnRzXG5mdW5jdGlvbiBwYXJzZVBhcnRpYWxKc29uKGpzb25UZXh0KSB7XG4gIGlmIChqc29uVGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCwgc3RhdGU6IFwidW5kZWZpbmVkLWlucHV0XCIgfTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogU2VjdXJlSlNPTi5wYXJzZShqc29uVGV4dCksXG4gICAgICBzdGF0ZTogXCJzdWNjZXNzZnVsLXBhcnNlXCJcbiAgICB9O1xuICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBTZWN1cmVKU09OLnBhcnNlKGZpeEpzb24oanNvblRleHQpKSxcbiAgICAgICAgc3RhdGU6IFwicmVwYWlyZWQtcGFyc2VcIlxuICAgICAgfTtcbiAgICB9IGNhdGNoIChpZ25vcmVkMikge1xuICAgIH1cbiAgfVxuICByZXR1cm4geyB2YWx1ZTogdm9pZCAwLCBzdGF0ZTogXCJmYWlsZWQtcGFyc2VcIiB9O1xufVxuXG4vLyBzcmMvc3RyZWFtLXBhcnRzLnRzXG52YXIgdGV4dFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiMFwiLFxuICBuYW1lOiBcInRleHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJ0ZXh0XCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInRleHRcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBmdW5jdGlvbkNhbGxTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjFcIixcbiAgbmFtZTogXCJmdW5jdGlvbl9jYWxsXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImZ1bmN0aW9uX2NhbGxcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmZ1bmN0aW9uX2NhbGwgIT09IFwib2JqZWN0XCIgfHwgdmFsdWUuZnVuY3Rpb25fY2FsbCA9PSBudWxsIHx8ICEoXCJuYW1lXCIgaW4gdmFsdWUuZnVuY3Rpb25fY2FsbCkgfHwgIShcImFyZ3VtZW50c1wiIGluIHZhbHVlLmZ1bmN0aW9uX2NhbGwpIHx8IHR5cGVvZiB2YWx1ZS5mdW5jdGlvbl9jYWxsLm5hbWUgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImZ1bmN0aW9uX2NhbGxcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImZ1bmN0aW9uX2NhbGxcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJmdW5jdGlvbl9jYWxsXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgZGF0YVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiMlwiLFxuICBuYW1lOiBcImRhdGFcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJkYXRhXCIgcGFydHMgZXhwZWN0IGFuIGFycmF5IHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImRhdGFcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBlcnJvclN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiM1wiLFxuICBuYW1lOiBcImVycm9yXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiZXJyb3JcIiBwYXJ0cyBleHBlY3QgYSBzdHJpbmcgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBhc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI0XCIsXG4gIG5hbWU6IFwiYXNzaXN0YW50X21lc3NhZ2VcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiaWRcIiBpbiB2YWx1ZSkgfHwgIShcInJvbGVcIiBpbiB2YWx1ZSkgfHwgIShcImNvbnRlbnRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmlkICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZS5yb2xlICE9PSBcInN0cmluZ1wiIHx8IHZhbHVlLnJvbGUgIT09IFwiYXNzaXN0YW50XCIgfHwgIUFycmF5LmlzQXJyYXkodmFsdWUuY29udGVudCkgfHwgIXZhbHVlLmNvbnRlbnQuZXZlcnkoXG4gICAgICAoaXRlbSkgPT4gaXRlbSAhPSBudWxsICYmIHR5cGVvZiBpdGVtID09PSBcIm9iamVjdFwiICYmIFwidHlwZVwiIGluIGl0ZW0gJiYgaXRlbS50eXBlID09PSBcInRleHRcIiAmJiBcInRleHRcIiBpbiBpdGVtICYmIGl0ZW0udGV4dCAhPSBudWxsICYmIHR5cGVvZiBpdGVtLnRleHQgPT09IFwib2JqZWN0XCIgJiYgXCJ2YWx1ZVwiIGluIGl0ZW0udGV4dCAmJiB0eXBlb2YgaXRlbS50ZXh0LnZhbHVlID09PSBcInN0cmluZ1wiXG4gICAgKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJhc3Npc3RhbnRfbWVzc2FnZVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhbiBcImlkXCIsIFwicm9sZVwiLCBhbmQgXCJjb250ZW50XCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiYXNzaXN0YW50X21lc3NhZ2VcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiNVwiLFxuICBuYW1lOiBcImFzc2lzdGFudF9jb250cm9sX2RhdGFcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidGhyZWFkSWRcIiBpbiB2YWx1ZSkgfHwgIShcIm1lc3NhZ2VJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudGhyZWFkSWQgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlLm1lc3NhZ2VJZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0aHJlYWRJZFwiIGFuZCBcIm1lc3NhZ2VJZFwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImFzc2lzdGFudF9jb250cm9sX2RhdGFcIixcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHRocmVhZElkOiB2YWx1ZS50aHJlYWRJZCxcbiAgICAgICAgbWVzc2FnZUlkOiB2YWx1ZS5tZXNzYWdlSWRcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xudmFyIGRhdGFNZXNzYWdlU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI2XCIsXG4gIG5hbWU6IFwiZGF0YV9tZXNzYWdlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInJvbGVcIiBpbiB2YWx1ZSkgfHwgIShcImRhdGFcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnJvbGUgIT09IFwic3RyaW5nXCIgfHwgdmFsdWUucm9sZSAhPT0gXCJkYXRhXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiZGF0YV9tZXNzYWdlXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJyb2xlXCIgYW5kIFwiZGF0YVwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImRhdGFfbWVzc2FnZVwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIHRvb2xDYWxsc1N0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiN1wiLFxuICBuYW1lOiBcInRvb2xfY2FsbHNcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbF9jYWxsc1wiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbF9jYWxscyAhPT0gXCJvYmplY3RcIiB8fCB2YWx1ZS50b29sX2NhbGxzID09IG51bGwgfHwgIUFycmF5LmlzQXJyYXkodmFsdWUudG9vbF9jYWxscykgfHwgdmFsdWUudG9vbF9jYWxscy5zb21lKFxuICAgICAgKHRjKSA9PiB0YyA9PSBudWxsIHx8IHR5cGVvZiB0YyAhPT0gXCJvYmplY3RcIiB8fCAhKFwiaWRcIiBpbiB0YykgfHwgdHlwZW9mIHRjLmlkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJ0eXBlXCIgaW4gdGMpIHx8IHR5cGVvZiB0Yy50eXBlICE9PSBcInN0cmluZ1wiIHx8ICEoXCJmdW5jdGlvblwiIGluIHRjKSB8fCB0Yy5mdW5jdGlvbiA9PSBudWxsIHx8IHR5cGVvZiB0Yy5mdW5jdGlvbiAhPT0gXCJvYmplY3RcIiB8fCAhKFwiYXJndW1lbnRzXCIgaW4gdGMuZnVuY3Rpb24pIHx8IHR5cGVvZiB0Yy5mdW5jdGlvbi5uYW1lICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB0Yy5mdW5jdGlvbi5hcmd1bWVudHMgIT09IFwic3RyaW5nXCJcbiAgICApKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbHNcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBUb29sQ2FsbFBheWxvYWQuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9vbF9jYWxsc1wiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIG1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiOFwiLFxuICBuYW1lOiBcIm1lc3NhZ2VfYW5ub3RhdGlvbnNcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJtZXNzYWdlX2Fubm90YXRpb25zXCIgcGFydHMgZXhwZWN0IGFuIGFycmF5IHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcIm1lc3NhZ2VfYW5ub3RhdGlvbnNcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciB0b29sQ2FsbFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiOVwiLFxuICBuYW1lOiBcInRvb2xfY2FsbFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sQ2FsbElkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sQ2FsbElkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJ0b29sTmFtZVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbE5hbWUgIT09IFwic3RyaW5nXCIgfHwgIShcImFyZ3NcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmFyZ3MgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1widG9vbF9jYWxsXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIsIFwidG9vbE5hbWVcIiwgYW5kIFwiYXJnc1wiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInRvb2xfY2FsbFwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIHRvb2xSZXN1bHRTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImFcIixcbiAgbmFtZTogXCJ0b29sX3Jlc3VsdFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sQ2FsbElkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sQ2FsbElkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJyZXN1bHRcIiBpbiB2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1widG9vbF9yZXN1bHRcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInRvb2xDYWxsSWRcIiBhbmQgYSBcInJlc3VsdFwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInRvb2xfcmVzdWx0XCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiYlwiLFxuICBuYW1lOiBcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwidG9vbE5hbWVcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xOYW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInRvb2xDYWxsSWRcIiBhbmQgXCJ0b29sTmFtZVwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciB0b29sQ2FsbERlbHRhU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJjXCIsXG4gIG5hbWU6IFwidG9vbF9jYWxsX2RlbHRhXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRvb2xDYWxsSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xDYWxsSWQgIT09IFwic3RyaW5nXCIgfHwgIShcImFyZ3NUZXh0RGVsdGFcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmFyZ3NUZXh0RGVsdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1widG9vbF9jYWxsX2RlbHRhXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIgYW5kIFwiYXJnc1RleHREZWx0YVwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInRvb2xfY2FsbF9kZWx0YVwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIGZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImRcIixcbiAgbmFtZTogXCJmaW5pc2hfbWVzc2FnZVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJmaW5pc2hSZWFzb25cIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmZpbmlzaFJlYXNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJmaW5pc2hfbWVzc2FnZVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwiZmluaXNoUmVhc29uXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgZmluaXNoUmVhc29uOiB2YWx1ZS5maW5pc2hSZWFzb25cbiAgICB9O1xuICAgIGlmIChcInVzYWdlXCIgaW4gdmFsdWUgJiYgdmFsdWUudXNhZ2UgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudXNhZ2UgPT09IFwib2JqZWN0XCIgJiYgXCJwcm9tcHRUb2tlbnNcIiBpbiB2YWx1ZS51c2FnZSAmJiBcImNvbXBsZXRpb25Ub2tlbnNcIiBpbiB2YWx1ZS51c2FnZSkge1xuICAgICAgcmVzdWx0LnVzYWdlID0ge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IHR5cGVvZiB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgOiBOdW1iZXIuTmFOLFxuICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UuY29tcGxldGlvblRva2VucyA9PT0gXCJudW1iZXJcIiA/IHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgOiBOdW1iZXIuTmFOXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJmaW5pc2hfbWVzc2FnZVwiLFxuICAgICAgdmFsdWU6IHJlc3VsdFxuICAgIH07XG4gIH1cbn07XG52YXIgZmluaXNoU3RlcFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiZVwiLFxuICBuYW1lOiBcImZpbmlzaF9zdGVwXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImZpbmlzaFJlYXNvblwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuZmluaXNoUmVhc29uICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImZpbmlzaF9zdGVwXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJmaW5pc2hSZWFzb25cIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBmaW5pc2hSZWFzb246IHZhbHVlLmZpbmlzaFJlYXNvbixcbiAgICAgIGlzQ29udGludWVkOiBmYWxzZVxuICAgIH07XG4gICAgaWYgKFwidXNhZ2VcIiBpbiB2YWx1ZSAmJiB2YWx1ZS51c2FnZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS51c2FnZSA9PT0gXCJvYmplY3RcIiAmJiBcInByb21wdFRva2Vuc1wiIGluIHZhbHVlLnVzYWdlICYmIFwiY29tcGxldGlvblRva2Vuc1wiIGluIHZhbHVlLnVzYWdlKSB7XG4gICAgICByZXN1bHQudXNhZ2UgPSB7XG4gICAgICAgIHByb21wdFRva2VuczogdHlwZW9mIHZhbHVlLnVzYWdlLnByb21wdFRva2VucyA9PT0gXCJudW1iZXJcIiA/IHZhbHVlLnVzYWdlLnByb21wdFRva2VucyA6IE51bWJlci5OYU4sXG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHR5cGVvZiB2YWx1ZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zID09PSBcIm51bWJlclwiID8gdmFsdWUudXNhZ2UuY29tcGxldGlvblRva2VucyA6IE51bWJlci5OYU5cbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChcImlzQ29udGludWVkXCIgaW4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLmlzQ29udGludWVkID09PSBcImJvb2xlYW5cIikge1xuICAgICAgcmVzdWx0LmlzQ29udGludWVkID0gdmFsdWUuaXNDb250aW51ZWQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImZpbmlzaF9zdGVwXCIsXG4gICAgICB2YWx1ZTogcmVzdWx0XG4gICAgfTtcbiAgfVxufTtcbnZhciBzdHJlYW1QYXJ0cyA9IFtcbiAgdGV4dFN0cmVhbVBhcnQsXG4gIGZ1bmN0aW9uQ2FsbFN0cmVhbVBhcnQsXG4gIGRhdGFTdHJlYW1QYXJ0LFxuICBlcnJvclN0cmVhbVBhcnQsXG4gIGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LFxuICBhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQsXG4gIGRhdGFNZXNzYWdlU3RyZWFtUGFydCxcbiAgdG9vbENhbGxzU3RyZWFtUGFydCxcbiAgbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydCxcbiAgdG9vbENhbGxTdHJlYW1QYXJ0LFxuICB0b29sUmVzdWx0U3RyZWFtUGFydCxcbiAgdG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQsXG4gIHRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0LFxuICBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCxcbiAgZmluaXNoU3RlcFN0cmVhbVBhcnRcbl07XG52YXIgc3RyZWFtUGFydHNCeUNvZGUgPSB7XG4gIFt0ZXh0U3RyZWFtUGFydC5jb2RlXTogdGV4dFN0cmVhbVBhcnQsXG4gIFtmdW5jdGlvbkNhbGxTdHJlYW1QYXJ0LmNvZGVdOiBmdW5jdGlvbkNhbGxTdHJlYW1QYXJ0LFxuICBbZGF0YVN0cmVhbVBhcnQuY29kZV06IGRhdGFTdHJlYW1QYXJ0LFxuICBbZXJyb3JTdHJlYW1QYXJ0LmNvZGVdOiBlcnJvclN0cmVhbVBhcnQsXG4gIFthc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQsXG4gIFthc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQuY29kZV06IGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCxcbiAgW2RhdGFNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0LFxuICBbdG9vbENhbGxzU3RyZWFtUGFydC5jb2RlXTogdG9vbENhbGxzU3RyZWFtUGFydCxcbiAgW21lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQuY29kZV06IG1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQsXG4gIFt0b29sQ2FsbFN0cmVhbVBhcnQuY29kZV06IHRvb2xDYWxsU3RyZWFtUGFydCxcbiAgW3Rvb2xSZXN1bHRTdHJlYW1QYXJ0LmNvZGVdOiB0b29sUmVzdWx0U3RyZWFtUGFydCxcbiAgW3Rvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0LmNvZGVdOiB0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydCxcbiAgW3Rvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0LmNvZGVdOiB0b29sQ2FsbERlbHRhU3RyZWFtUGFydCxcbiAgW2ZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGVdOiBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCxcbiAgW2ZpbmlzaFN0ZXBTdHJlYW1QYXJ0LmNvZGVdOiBmaW5pc2hTdGVwU3RyZWFtUGFydFxufTtcbnZhciBTdHJlYW1TdHJpbmdQcmVmaXhlcyA9IHtcbiAgW3RleHRTdHJlYW1QYXJ0Lm5hbWVdOiB0ZXh0U3RyZWFtUGFydC5jb2RlLFxuICBbZnVuY3Rpb25DYWxsU3RyZWFtUGFydC5uYW1lXTogZnVuY3Rpb25DYWxsU3RyZWFtUGFydC5jb2RlLFxuICBbZGF0YVN0cmVhbVBhcnQubmFtZV06IGRhdGFTdHJlYW1QYXJ0LmNvZGUsXG4gIFtlcnJvclN0cmVhbVBhcnQubmFtZV06IGVycm9yU3RyZWFtUGFydC5jb2RlLFxuICBbYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQubmFtZV06IGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGUsXG4gIFthc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQubmFtZV06IGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydC5jb2RlLFxuICBbZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0Lm5hbWVdOiBkYXRhTWVzc2FnZVN0cmVhbVBhcnQuY29kZSxcbiAgW3Rvb2xDYWxsc1N0cmVhbVBhcnQubmFtZV06IHRvb2xDYWxsc1N0cmVhbVBhcnQuY29kZSxcbiAgW21lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQubmFtZV06IG1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQuY29kZSxcbiAgW3Rvb2xDYWxsU3RyZWFtUGFydC5uYW1lXTogdG9vbENhbGxTdHJlYW1QYXJ0LmNvZGUsXG4gIFt0b29sUmVzdWx0U3RyZWFtUGFydC5uYW1lXTogdG9vbFJlc3VsdFN0cmVhbVBhcnQuY29kZSxcbiAgW3Rvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0Lm5hbWVdOiB0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydC5jb2RlLFxuICBbdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQubmFtZV06IHRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0LmNvZGUsXG4gIFtmaW5pc2hNZXNzYWdlU3RyZWFtUGFydC5uYW1lXTogZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQuY29kZSxcbiAgW2ZpbmlzaFN0ZXBTdHJlYW1QYXJ0Lm5hbWVdOiBmaW5pc2hTdGVwU3RyZWFtUGFydC5jb2RlXG59O1xudmFyIHZhbGlkQ29kZXMgPSBzdHJlYW1QYXJ0cy5tYXAoKHBhcnQpID0+IHBhcnQuY29kZSk7XG52YXIgcGFyc2VTdHJlYW1QYXJ0ID0gKGxpbmUpID0+IHtcbiAgY29uc3QgZmlyc3RTZXBhcmF0b3JJbmRleCA9IGxpbmUuaW5kZXhPZihcIjpcIik7XG4gIGlmIChmaXJzdFNlcGFyYXRvckluZGV4ID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBzdHJlYW0gc3RyaW5nLiBObyBzZXBhcmF0b3IgZm91bmQuXCIpO1xuICB9XG4gIGNvbnN0IHByZWZpeCA9IGxpbmUuc2xpY2UoMCwgZmlyc3RTZXBhcmF0b3JJbmRleCk7XG4gIGlmICghdmFsaWRDb2Rlcy5pbmNsdWRlcyhwcmVmaXgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtIHN0cmluZy4gSW52YWxpZCBjb2RlICR7cHJlZml4fS5gKTtcbiAgfVxuICBjb25zdCBjb2RlID0gcHJlZml4O1xuICBjb25zdCB0ZXh0VmFsdWUgPSBsaW5lLnNsaWNlKGZpcnN0U2VwYXJhdG9ySW5kZXggKyAxKTtcbiAgY29uc3QganNvblZhbHVlID0gSlNPTi5wYXJzZSh0ZXh0VmFsdWUpO1xuICByZXR1cm4gc3RyZWFtUGFydHNCeUNvZGVbY29kZV0ucGFyc2UoanNvblZhbHVlKTtcbn07XG5mdW5jdGlvbiBmb3JtYXRTdHJlYW1QYXJ0KHR5cGUsIHZhbHVlKSB7XG4gIGNvbnN0IHN0cmVhbVBhcnQgPSBzdHJlYW1QYXJ0cy5maW5kKChwYXJ0KSA9PiBwYXJ0Lm5hbWUgPT09IHR5cGUpO1xuICBpZiAoIXN0cmVhbVBhcnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc3RyZWFtIHBhcnQgdHlwZTogJHt0eXBlfWApO1xuICB9XG4gIHJldHVybiBgJHtzdHJlYW1QYXJ0LmNvZGV9OiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfVxuYDtcbn1cblxuLy8gc3JjL3JlYWQtZGF0YS1zdHJlYW0udHNcbnZhciBORVdMSU5FID0gXCJcXG5cIi5jaGFyQ29kZUF0KDApO1xuZnVuY3Rpb24gY29uY2F0Q2h1bmtzKGNodW5rcywgdG90YWxMZW5ndGgpIHtcbiAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICBjb25jYXRlbmF0ZWRDaHVua3Muc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7XG4gIH1cbiAgY2h1bmtzLmxlbmd0aCA9IDA7XG4gIHJldHVybiBjb25jYXRlbmF0ZWRDaHVua3M7XG59XG5hc3luYyBmdW5jdGlvbiogcmVhZERhdGFTdHJlYW0ocmVhZGVyLCB7XG4gIGlzQWJvcnRlZFxufSA9IHt9KSB7XG4gIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgY29uc3QgY2h1bmtzID0gW107XG4gIGxldCB0b3RhbExlbmd0aCA9IDA7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGNodW5rcy5wdXNoKHZhbHVlKTtcbiAgICAgIHRvdGFsTGVuZ3RoICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgIGlmICh2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXSAhPT0gTkVXTElORSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjb25zdCBjb25jYXRlbmF0ZWRDaHVua3MgPSBjb25jYXRDaHVua3MoY2h1bmtzLCB0b3RhbExlbmd0aCk7XG4gICAgdG90YWxMZW5ndGggPSAwO1xuICAgIGNvbnN0IHN0cmVhbVBhcnRzMiA9IGRlY29kZXIuZGVjb2RlKGNvbmNhdGVuYXRlZENodW5rcywgeyBzdHJlYW06IHRydWUgfSkuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSBcIlwiKS5tYXAocGFyc2VTdHJlYW1QYXJ0KTtcbiAgICBmb3IgKGNvbnN0IHN0cmVhbVBhcnQgb2Ygc3RyZWFtUGFydHMyKSB7XG4gICAgICB5aWVsZCBzdHJlYW1QYXJ0O1xuICAgIH1cbiAgICBpZiAoaXNBYm9ydGVkID09IG51bGwgPyB2b2lkIDAgOiBpc0Fib3J0ZWQoKSkge1xuICAgICAgcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9wcm9jZXNzLWRhdGEtcHJvdG9jb2wtcmVzcG9uc2UudHNcbmZ1bmN0aW9uIGFzc2lnbkFubm90YXRpb25zVG9NZXNzYWdlKG1lc3NhZ2UsIGFubm90YXRpb25zKSB7XG4gIGlmICghbWVzc2FnZSB8fCAhYW5ub3RhdGlvbnMgfHwgIWFubm90YXRpb25zLmxlbmd0aClcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgcmV0dXJuIHsgLi4ubWVzc2FnZSwgYW5ub3RhdGlvbnM6IFsuLi5hbm5vdGF0aW9uc10gfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NEYXRhUHJvdG9jb2xSZXNwb25zZSh7XG4gIHJlYWRlcixcbiAgYWJvcnRDb250cm9sbGVyUmVmLFxuICB1cGRhdGUsXG4gIG9uVG9vbENhbGwsXG4gIG9uRmluaXNoLFxuICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMiA9IGdlbmVyYXRlSWRGdW5jdGlvbixcbiAgZ2V0Q3VycmVudERhdGUgPSAoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKVxufSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGNyZWF0ZWRBdCA9IGdldEN1cnJlbnREYXRlKCk7XG4gIGxldCBwcmVmaXhNYXAgPSB7fTtcbiAgbGV0IG5leHRQcmVmaXhNYXAgPSB2b2lkIDA7XG4gIGNvbnN0IHByZXZpb3VzTWVzc2FnZXMgPSBbXTtcbiAgY29uc3QgZGF0YSA9IFtdO1xuICBsZXQgbWVzc2FnZUFubm90YXRpb25zID0gdm9pZCAwO1xuICBjb25zdCBwYXJ0aWFsVG9vbENhbGxzID0ge307XG4gIGxldCB1c2FnZSA9IHtcbiAgICBjb21wbGV0aW9uVG9rZW5zOiBOYU4sXG4gICAgcHJvbXB0VG9rZW5zOiBOYU4sXG4gICAgdG90YWxUb2tlbnM6IE5hTlxuICB9O1xuICBsZXQgZmluaXNoUmVhc29uID0gXCJ1bmtub3duXCI7XG4gIGZvciBhd2FpdCAoY29uc3QgeyB0eXBlLCB2YWx1ZSB9IG9mIHJlYWREYXRhU3RyZWFtKHJlYWRlciwge1xuICAgIGlzQWJvcnRlZDogKCkgPT4gKGFib3J0Q29udHJvbGxlclJlZiA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQpID09PSBudWxsXG4gIH0pKSB7XG4gICAgaWYgKHR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiZmluaXNoX3N0ZXBcIikge1xuICAgICAgaWYgKCF2YWx1ZS5pc0NvbnRpbnVlZCkge1xuICAgICAgICBuZXh0UHJlZml4TWFwID0ge307XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiZmluaXNoX21lc3NhZ2VcIikge1xuICAgICAgZmluaXNoUmVhc29uID0gdmFsdWUuZmluaXNoUmVhc29uO1xuICAgICAgaWYgKHZhbHVlLnVzYWdlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgeyBjb21wbGV0aW9uVG9rZW5zLCBwcm9tcHRUb2tlbnMgfSA9IHZhbHVlLnVzYWdlO1xuICAgICAgICB1c2FnZSA9IHtcbiAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zLFxuICAgICAgICAgIHByb21wdFRva2VucyxcbiAgICAgICAgICB0b3RhbFRva2VuczogY29tcGxldGlvblRva2VucyArIHByb21wdFRva2Vuc1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChuZXh0UHJlZml4TWFwICE9IG51bGwgJiYgKHR5cGUgPT09IFwidGV4dFwiIHx8IHR5cGUgPT09IFwidG9vbF9jYWxsXCIgfHwgdHlwZSA9PT0gXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIgfHwgdHlwZSA9PT0gXCJ0b29sX2NhbGxfZGVsdGFcIiB8fCB0eXBlID09PSBcInRvb2xfcmVzdWx0XCIpKSB7XG4gICAgICBpZiAocHJlZml4TWFwLnRleHQpIHtcbiAgICAgICAgcHJldmlvdXNNZXNzYWdlcy5wdXNoKHByZWZpeE1hcC50ZXh0KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmVmaXhNYXAuZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICBwcmV2aW91c01lc3NhZ2VzLnB1c2gocHJlZml4TWFwLmZ1bmN0aW9uX2NhbGwpO1xuICAgICAgfVxuICAgICAgaWYgKHByZWZpeE1hcC50b29sX2NhbGxzKSB7XG4gICAgICAgIHByZXZpb3VzTWVzc2FnZXMucHVzaChwcmVmaXhNYXAudG9vbF9jYWxscyk7XG4gICAgICB9XG4gICAgICBwcmVmaXhNYXAgPSBuZXh0UHJlZml4TWFwO1xuICAgICAgbmV4dFByZWZpeE1hcCA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICBpZiAocHJlZml4TWFwW1widGV4dFwiXSkge1xuICAgICAgICBwcmVmaXhNYXBbXCJ0ZXh0XCJdID0ge1xuICAgICAgICAgIC4uLnByZWZpeE1hcFtcInRleHRcIl0sXG4gICAgICAgICAgY29udGVudDogKHByZWZpeE1hcFtcInRleHRcIl0uY29udGVudCB8fCBcIlwiKSArIHZhbHVlXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmVmaXhNYXBbXCJ0ZXh0XCJdID0ge1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkMigpLFxuICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgY29udGVudDogdmFsdWUsXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIikge1xuICAgICAgaWYgKHByZWZpeE1hcC50ZXh0ID09IG51bGwpIHtcbiAgICAgICAgcHJlZml4TWFwLnRleHQgPSB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlSWQyKCksXG4gICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKHByZWZpeE1hcC50ZXh0LnRvb2xJbnZvY2F0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIHByZWZpeE1hcC50ZXh0LnRvb2xJbnZvY2F0aW9ucyA9IFtdO1xuICAgICAgfVxuICAgICAgcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXSA9IHtcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgdG9vbE5hbWU6IHZhbHVlLnRvb2xOYW1lLFxuICAgICAgICBwcmVmaXhNYXBJbmRleDogcHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zLmxlbmd0aFxuICAgICAgfTtcbiAgICAgIHByZWZpeE1hcC50ZXh0LnRvb2xJbnZvY2F0aW9ucy5wdXNoKHtcbiAgICAgICAgc3RhdGU6IFwicGFydGlhbC1jYWxsXCIsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHZhbHVlLnRvb2xDYWxsSWQsXG4gICAgICAgIHRvb2xOYW1lOiB2YWx1ZS50b29sTmFtZSxcbiAgICAgICAgYXJnczogdm9pZCAwXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidG9vbF9jYWxsX2RlbHRhXCIpIHtcbiAgICAgIGNvbnN0IHBhcnRpYWxUb29sQ2FsbCA9IHBhcnRpYWxUb29sQ2FsbHNbdmFsdWUudG9vbENhbGxJZF07XG4gICAgICBwYXJ0aWFsVG9vbENhbGwudGV4dCArPSB2YWx1ZS5hcmdzVGV4dERlbHRhO1xuICAgICAgY29uc3QgeyB2YWx1ZTogcGFydGlhbEFyZ3MgfSA9IHBhcnNlUGFydGlhbEpzb24ocGFydGlhbFRvb2xDYWxsLnRleHQpO1xuICAgICAgcHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zW3BhcnRpYWxUb29sQ2FsbC5wcmVmaXhNYXBJbmRleF0gPSB7XG4gICAgICAgIHN0YXRlOiBcInBhcnRpYWwtY2FsbFwiLFxuICAgICAgICB0b29sQ2FsbElkOiB2YWx1ZS50b29sQ2FsbElkLFxuICAgICAgICB0b29sTmFtZTogcGFydGlhbFRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICBhcmdzOiBwYXJ0aWFsQXJnc1xuICAgICAgfTtcbiAgICAgIHByZWZpeE1hcC50ZXh0LmludGVybmFsVXBkYXRlSWQgPSBnZW5lcmF0ZUlkMigpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJ0b29sX2NhbGxcIikge1xuICAgICAgaWYgKHBhcnRpYWxUb29sQ2FsbHNbdmFsdWUudG9vbENhbGxJZF0gIT0gbnVsbCkge1xuICAgICAgICBwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXS5wcmVmaXhNYXBJbmRleF0gPSB7IHN0YXRlOiBcImNhbGxcIiwgLi4udmFsdWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcmVmaXhNYXAudGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgcHJlZml4TWFwLnRleHQgPSB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zID09IG51bGwpIHtcbiAgICAgICAgICBwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnMucHVzaCh7XG4gICAgICAgICAgc3RhdGU6IFwiY2FsbFwiLFxuICAgICAgICAgIC4uLnZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcHJlZml4TWFwLnRleHQuaW50ZXJuYWxVcGRhdGVJZCA9IGdlbmVyYXRlSWQyKCk7XG4gICAgICBpZiAob25Ub29sQ2FsbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvblRvb2xDYWxsKHsgdG9vbENhbGw6IHZhbHVlIH0pO1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICBwcmVmaXhNYXAudGV4dC50b29sSW52b2NhdGlvbnNbcHJlZml4TWFwLnRleHQudG9vbEludm9jYXRpb25zLmxlbmd0aCAtIDFdID0geyBzdGF0ZTogXCJyZXN1bHRcIiwgLi4udmFsdWUsIHJlc3VsdCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcInRvb2xfcmVzdWx0XCIpIHtcbiAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9ucyA9IChfYSA9IHByZWZpeE1hcC50ZXh0KSA9PSBudWxsID8gdm9pZCAwIDogX2EudG9vbEludm9jYXRpb25zO1xuICAgICAgaWYgKHRvb2xJbnZvY2F0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInRvb2xfcmVzdWx0IG11c3QgYmUgcHJlY2VkZWQgYnkgYSB0b29sX2NhbGxcIik7XG4gICAgICB9XG4gICAgICBjb25zdCB0b29sSW52b2NhdGlvbkluZGV4ID0gdG9vbEludm9jYXRpb25zLmZpbmRJbmRleChcbiAgICAgICAgKGludm9jYXRpb24pID0+IGludm9jYXRpb24udG9vbENhbGxJZCA9PT0gdmFsdWUudG9vbENhbGxJZFxuICAgICAgKTtcbiAgICAgIGlmICh0b29sSW52b2NhdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJ0b29sX3Jlc3VsdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbF9jYWxsIHdpdGggdGhlIHNhbWUgdG9vbENhbGxJZFwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0b29sSW52b2NhdGlvbnNbdG9vbEludm9jYXRpb25JbmRleF0gPSB7XG4gICAgICAgIC4uLnRvb2xJbnZvY2F0aW9uc1t0b29sSW52b2NhdGlvbkluZGV4XSxcbiAgICAgICAgc3RhdGU6IFwicmVzdWx0XCIsXG4gICAgICAgIC4uLnZhbHVlXG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgZnVuY3Rpb25DYWxsTWVzc2FnZSA9IG51bGw7XG4gICAgaWYgKHR5cGUgPT09IFwiZnVuY3Rpb25fY2FsbFwiKSB7XG4gICAgICBwcmVmaXhNYXBbXCJmdW5jdGlvbl9jYWxsXCJdID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgZnVuY3Rpb25fY2FsbDogdmFsdWUuZnVuY3Rpb25fY2FsbCxcbiAgICAgICAgbmFtZTogdmFsdWUuZnVuY3Rpb25fY2FsbC5uYW1lLFxuICAgICAgICBjcmVhdGVkQXRcbiAgICAgIH07XG4gICAgICBmdW5jdGlvbkNhbGxNZXNzYWdlID0gcHJlZml4TWFwW1wiZnVuY3Rpb25fY2FsbFwiXTtcbiAgICB9XG4gICAgbGV0IHRvb2xDYWxsTWVzc2FnZSA9IG51bGw7XG4gICAgaWYgKHR5cGUgPT09IFwidG9vbF9jYWxsc1wiKSB7XG4gICAgICBwcmVmaXhNYXBbXCJ0b29sX2NhbGxzXCJdID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgdG9vbF9jYWxsczogdmFsdWUudG9vbF9jYWxscyxcbiAgICAgICAgY3JlYXRlZEF0XG4gICAgICB9O1xuICAgICAgdG9vbENhbGxNZXNzYWdlID0gcHJlZml4TWFwW1widG9vbF9jYWxsc1wiXTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiZGF0YVwiKSB7XG4gICAgICBkYXRhLnB1c2goLi4udmFsdWUpO1xuICAgIH1cbiAgICBsZXQgcmVzcG9uc2VNZXNzYWdlID0gcHJlZml4TWFwW1widGV4dFwiXTtcbiAgICBpZiAodHlwZSA9PT0gXCJtZXNzYWdlX2Fubm90YXRpb25zXCIpIHtcbiAgICAgIGlmICghbWVzc2FnZUFubm90YXRpb25zKSB7XG4gICAgICAgIG1lc3NhZ2VBbm5vdGF0aW9ucyA9IFsuLi52YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlQW5ub3RhdGlvbnMucHVzaCguLi52YWx1ZSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbkNhbGxNZXNzYWdlID0gYXNzaWduQW5ub3RhdGlvbnNUb01lc3NhZ2UoXG4gICAgICAgIHByZWZpeE1hcFtcImZ1bmN0aW9uX2NhbGxcIl0sXG4gICAgICAgIG1lc3NhZ2VBbm5vdGF0aW9uc1xuICAgICAgKTtcbiAgICAgIHRvb2xDYWxsTWVzc2FnZSA9IGFzc2lnbkFubm90YXRpb25zVG9NZXNzYWdlKFxuICAgICAgICBwcmVmaXhNYXBbXCJ0b29sX2NhbGxzXCJdLFxuICAgICAgICBtZXNzYWdlQW5ub3RhdGlvbnNcbiAgICAgICk7XG4gICAgICByZXNwb25zZU1lc3NhZ2UgPSBhc3NpZ25Bbm5vdGF0aW9uc1RvTWVzc2FnZShcbiAgICAgICAgcHJlZml4TWFwW1widGV4dFwiXSxcbiAgICAgICAgbWVzc2FnZUFubm90YXRpb25zXG4gICAgICApO1xuICAgICAgaWYgKHByZWZpeE1hcC50ZXh0ICE9IG51bGwpIHtcbiAgICAgICAgcHJlZml4TWFwLnRleHQuaW50ZXJuYWxVcGRhdGVJZCA9IGdlbmVyYXRlSWQyKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtZXNzYWdlQW5ub3RhdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lc3NhZ2VBbm5vdGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgIGlmIChwcmVmaXhNYXAudGV4dCkge1xuICAgICAgICBwcmVmaXhNYXAudGV4dC5hbm5vdGF0aW9ucyA9IFsuLi5tZXNzYWdlQW5ub3RhdGlvbnNdO1xuICAgICAgfVxuICAgICAgaWYgKHByZWZpeE1hcC5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgIHByZWZpeE1hcC5mdW5jdGlvbl9jYWxsLmFubm90YXRpb25zID0gWy4uLm1lc3NhZ2VBbm5vdGF0aW9uc107XG4gICAgICB9XG4gICAgICBpZiAocHJlZml4TWFwLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgcHJlZml4TWFwLnRvb2xfY2FsbHMuYW5ub3RhdGlvbnMgPSBbLi4ubWVzc2FnZUFubm90YXRpb25zXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWVyZ2VkID0gW2Z1bmN0aW9uQ2FsbE1lc3NhZ2UsIHRvb2xDYWxsTWVzc2FnZSwgcmVzcG9uc2VNZXNzYWdlXS5maWx0ZXIoQm9vbGVhbikubWFwKChtZXNzYWdlKSA9PiAoe1xuICAgICAgLi4uYXNzaWduQW5ub3RhdGlvbnNUb01lc3NhZ2UobWVzc2FnZSwgbWVzc2FnZUFubm90YXRpb25zKVxuICAgIH0pKTtcbiAgICB1cGRhdGUoWy4uLnByZXZpb3VzTWVzc2FnZXMsIC4uLm1lcmdlZF0sIFsuLi5kYXRhXSk7XG4gIH1cbiAgb25GaW5pc2ggPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoKHsgbWVzc2FnZTogcHJlZml4TWFwLnRleHQsIGZpbmlzaFJlYXNvbiwgdXNhZ2UgfSk7XG4gIHJldHVybiB7XG4gICAgbWVzc2FnZXM6IFtcbiAgICAgIHByZWZpeE1hcC50ZXh0LFxuICAgICAgcHJlZml4TWFwLmZ1bmN0aW9uX2NhbGwsXG4gICAgICBwcmVmaXhNYXAudG9vbF9jYWxsc1xuICAgIF0uZmlsdGVyKEJvb2xlYW4pLFxuICAgIGRhdGFcbiAgfTtcbn1cblxuLy8gc3JjL2NhbGwtY2hhdC1hcGkudHNcbnZhciBnZXRPcmlnaW5hbEZldGNoID0gKCkgPT4gZmV0Y2g7XG5hc3luYyBmdW5jdGlvbiBjYWxsQ2hhdEFwaSh7XG4gIGFwaSxcbiAgYm9keSxcbiAgc3RyZWFtUHJvdG9jb2wgPSBcImRhdGFcIixcbiAgY3JlZGVudGlhbHMsXG4gIGhlYWRlcnMsXG4gIGFib3J0Q29udHJvbGxlcixcbiAgcmVzdG9yZU1lc3NhZ2VzT25GYWlsdXJlLFxuICBvblJlc3BvbnNlLFxuICBvblVwZGF0ZSxcbiAgb25GaW5pc2gsXG4gIG9uVG9vbENhbGwsXG4gIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQyLFxuICBmZXRjaDogZmV0Y2gyID0gZ2V0T3JpZ2luYWxGZXRjaCgpXG59KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gyKGFwaSwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAuLi5oZWFkZXJzXG4gICAgfSxcbiAgICBzaWduYWw6IChfYSA9IGFib3J0Q29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRDb250cm9sbGVyKCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zaWduYWwsXG4gICAgY3JlZGVudGlhbHNcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIHJlc3RvcmVNZXNzYWdlc09uRmFpbHVyZSgpO1xuICAgIHRocm93IGVycjtcbiAgfSk7XG4gIGlmIChvblJlc3BvbnNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG9uUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgcmVzdG9yZU1lc3NhZ2VzT25GYWlsdXJlKCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgKF9iID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpKSAhPSBudWxsID8gX2IgOiBcIkZhaWxlZCB0byBmZXRjaCB0aGUgY2hhdCByZXNwb25zZS5cIlxuICAgICk7XG4gIH1cbiAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJlc3BvbnNlIGJvZHkgaXMgZW1wdHkuXCIpO1xuICB9XG4gIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7XG4gIHN3aXRjaCAoc3RyZWFtUHJvdG9jb2wpIHtcbiAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICBjb25zdCBkZWNvZGVyID0gY3JlYXRlQ2h1bmtEZWNvZGVyKCk7XG4gICAgICBjb25zdCByZXN1bHRNZXNzYWdlID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogXCJcIlxuICAgICAgfTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0TWVzc2FnZS5jb250ZW50ICs9IGRlY29kZXIodmFsdWUpO1xuICAgICAgICBvblVwZGF0ZShbeyAuLi5yZXN1bHRNZXNzYWdlIH1dLCBbXSk7XG4gICAgICAgIGlmICgoYWJvcnRDb250cm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBhYm9ydENvbnRyb2xsZXIoKSkgPT09IG51bGwpIHtcbiAgICAgICAgICByZWFkZXIuY2FuY2VsKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9uRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaChyZXN1bHRNZXNzYWdlLCB7XG4gICAgICAgIHVzYWdlOiB7IGNvbXBsZXRpb25Ub2tlbnM6IE5hTiwgcHJvbXB0VG9rZW5zOiBOYU4sIHRvdGFsVG9rZW5zOiBOYU4gfSxcbiAgICAgICAgZmluaXNoUmVhc29uOiBcInVua25vd25cIlxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlczogW3Jlc3VsdE1lc3NhZ2VdLFxuICAgICAgICBkYXRhOiBbXVxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBcImRhdGFcIjoge1xuICAgICAgcmV0dXJuIGF3YWl0IHByb2Nlc3NEYXRhUHJvdG9jb2xSZXNwb25zZSh7XG4gICAgICAgIHJlYWRlcixcbiAgICAgICAgYWJvcnRDb250cm9sbGVyUmVmOiBhYm9ydENvbnRyb2xsZXIgIT0gbnVsbCA/IHsgY3VycmVudDogYWJvcnRDb250cm9sbGVyKCkgfSA6IHZvaWQgMCxcbiAgICAgICAgdXBkYXRlOiBvblVwZGF0ZSxcbiAgICAgICAgb25Ub29sQ2FsbCxcbiAgICAgICAgb25GaW5pc2goeyBtZXNzYWdlLCBmaW5pc2hSZWFzb24sIHVzYWdlIH0pIHtcbiAgICAgICAgICBpZiAob25GaW5pc2ggJiYgbWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBvbkZpbmlzaChtZXNzYWdlLCB7IHVzYWdlLCBmaW5pc2hSZWFzb24gfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMlxuICAgICAgfSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IHN0cmVhbVByb3RvY29sO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwcm90b2NvbDogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9jYWxsLWNvbXBsZXRpb24tYXBpLnRzXG52YXIgZ2V0T3JpZ2luYWxGZXRjaDIgPSAoKSA9PiBmZXRjaDtcbmFzeW5jIGZ1bmN0aW9uIGNhbGxDb21wbGV0aW9uQXBpKHtcbiAgYXBpLFxuICBwcm9tcHQsXG4gIGNyZWRlbnRpYWxzLFxuICBoZWFkZXJzLFxuICBib2R5LFxuICBzdHJlYW1Qcm90b2NvbCA9IFwiZGF0YVwiLFxuICBzZXRDb21wbGV0aW9uLFxuICBzZXRMb2FkaW5nLFxuICBzZXRFcnJvcixcbiAgc2V0QWJvcnRDb250cm9sbGVyLFxuICBvblJlc3BvbnNlLFxuICBvbkZpbmlzaCxcbiAgb25FcnJvcixcbiAgb25EYXRhLFxuICBmZXRjaDogZmV0Y2gyID0gZ2V0T3JpZ2luYWxGZXRjaDIoKVxufSkge1xuICB0cnkge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3Iodm9pZCAwKTtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgc2V0QWJvcnRDb250cm9sbGVyKGFib3J0Q29udHJvbGxlcik7XG4gICAgc2V0Q29tcGxldGlvbihcIlwiKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaDIoYXBpLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBwcm9tcHQsXG4gICAgICAgIC4uLmJvZHlcbiAgICAgIH0pLFxuICAgICAgY3JlZGVudGlhbHMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAuLi5oZWFkZXJzXG4gICAgICB9LFxuICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICAgIGlmIChvblJlc3BvbnNlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBvblJlc3BvbnNlKHJlcyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBhd2FpdCByZXMudGV4dCgpIHx8IFwiRmFpbGVkIHRvIGZldGNoIHRoZSBjaGF0IHJlc3BvbnNlLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXJlcy5ib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgYm9keSBpcyBlbXB0eS5cIik7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgIGNvbnN0IHJlYWRlciA9IHJlcy5ib2R5LmdldFJlYWRlcigpO1xuICAgIHN3aXRjaCAoc3RyZWFtUHJvdG9jb2wpIHtcbiAgICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IGNyZWF0ZUNodW5rRGVjb2RlcigpO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgKz0gZGVjb2Rlcih2YWx1ZSk7XG4gICAgICAgICAgc2V0Q29tcGxldGlvbihyZXN1bHQpO1xuICAgICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlYWRlci5jYW5jZWwoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJkYXRhXCI6IHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCB7IHR5cGUsIHZhbHVlIH0gb2YgcmVhZERhdGFTdHJlYW0ocmVhZGVyLCB7XG4gICAgICAgICAgaXNBYm9ydGVkOiAoKSA9PiBhYm9ydENvbnRyb2xsZXIgPT09IG51bGxcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgICAgICAgICAgcmVzdWx0ICs9IHZhbHVlO1xuICAgICAgICAgICAgICBzZXRDb21wbGV0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImRhdGFcIjoge1xuICAgICAgICAgICAgICBvbkRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRGF0YSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gc3RyZWFtUHJvdG9jb2w7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzdHJlYW0gcHJvdG9jb2w6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob25GaW5pc2gpIHtcbiAgICAgIG9uRmluaXNoKHByb21wdCwgcmVzdWx0KTtcbiAgICB9XG4gICAgc2V0QWJvcnRDb250cm9sbGVyKG51bGwpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgIHNldEFib3J0Q29udHJvbGxlcihudWxsKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0RXJyb3IoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgfVxufVxuXG4vLyBzcmMvY3JlYXRlLWNodW5rLWRlY29kZXIudHNcbmZ1bmN0aW9uIGNyZWF0ZUNodW5rRGVjb2Rlcihjb21wbGV4KSB7XG4gIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgaWYgKCFjb21wbGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICBpZiAoIWNodW5rKVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIHJldHVybiBkZWNvZGVyLmRlY29kZShjaHVuaywgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oY2h1bmspIHtcbiAgICBjb25zdCBkZWNvZGVkID0gZGVjb2Rlci5kZWNvZGUoY2h1bmssIHsgc3RyZWFtOiB0cnVlIH0pLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigobGluZSkgPT4gbGluZSAhPT0gXCJcIik7XG4gICAgcmV0dXJuIGRlY29kZWQubWFwKHBhcnNlU3RyZWFtUGFydCkuZmlsdGVyKEJvb2xlYW4pO1xuICB9O1xufVxuXG4vLyBzcmMvZGF0YS11cmwudHNcbmZ1bmN0aW9uIGdldFRleHRGcm9tRGF0YVVybChkYXRhVXJsKSB7XG4gIGNvbnN0IFtoZWFkZXIsIGJhc2U2NENvbnRlbnRdID0gZGF0YVVybC5zcGxpdChcIixcIik7XG4gIGNvbnN0IG1pbWVUeXBlID0gaGVhZGVyLnNwbGl0KFwiO1wiKVswXS5zcGxpdChcIjpcIilbMV07XG4gIGlmIChtaW1lVHlwZSA9PSBudWxsIHx8IGJhc2U2NENvbnRlbnQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YSBVUkwgZm9ybWF0XCIpO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5hdG9iKGJhc2U2NENvbnRlbnQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZGVjb2RpbmcgZGF0YSBVUkxgKTtcbiAgfVxufVxuXG4vLyBzcmMvaXMtZGVlcC1lcXVhbC1kYXRhLnRzXG5mdW5jdGlvbiBpc0RlZXBFcXVhbERhdGEob2JqMSwgb2JqMikge1xuICBpZiAob2JqMSA9PT0gb2JqMilcbiAgICByZXR1cm4gdHJ1ZTtcbiAgaWYgKG9iajEgPT0gbnVsbCB8fCBvYmoyID09IG51bGwpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIG9iajEgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iajIgIT09IFwib2JqZWN0XCIpXG4gICAgcmV0dXJuIG9iajEgPT09IG9iajI7XG4gIGlmIChvYmoxLmNvbnN0cnVjdG9yICE9PSBvYmoyLmNvbnN0cnVjdG9yKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKG9iajEgaW5zdGFuY2VvZiBEYXRlICYmIG9iajIgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIG9iajEuZ2V0VGltZSgpID09PSBvYmoyLmdldFRpbWUoKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvYmoxKSkge1xuICAgIGlmIChvYmoxLmxlbmd0aCAhPT0gb2JqMi5sZW5ndGgpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoxLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWlzRGVlcEVxdWFsRGF0YShvYmoxW2ldLCBvYmoyW2ldKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBrZXlzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xuICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzMSkge1xuICAgIGlmICgha2V5czIuaW5jbHVkZXMoa2V5KSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWlzRGVlcEVxdWFsRGF0YShvYmoxW2tleV0sIG9iajJba2V5XSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIHNyYy9wcm9jZXNzLWNoYXQtc3RyZWFtLnRzXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQ2hhdFN0cmVhbSh7XG4gIGdldFN0cmVhbWVkUmVzcG9uc2UsXG4gIGV4cGVyaW1lbnRhbF9vbkZ1bmN0aW9uQ2FsbCxcbiAgZXhwZXJpbWVudGFsX29uVG9vbENhbGwsXG4gIHVwZGF0ZUNoYXRSZXF1ZXN0LFxuICBnZXRDdXJyZW50TWVzc2FnZXNcbn0pIHtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCBtZXNzYWdlc0FuZERhdGFPckp1c3RNZXNzYWdlID0gYXdhaXQgZ2V0U3RyZWFtZWRSZXNwb25zZSgpO1xuICAgIGlmIChcIm1lc3NhZ2VzXCIgaW4gbWVzc2FnZXNBbmREYXRhT3JKdXN0TWVzc2FnZSkge1xuICAgICAgbGV0IGhhc0ZvbGxvd2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXNBbmREYXRhT3JKdXN0TWVzc2FnZS5tZXNzYWdlcykge1xuICAgICAgICBpZiAoKG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCA9PT0gdm9pZCAwIHx8IHR5cGVvZiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPT09IFwic3RyaW5nXCIpICYmIChtZXNzYWdlLnRvb2xfY2FsbHMgPT09IHZvaWQgMCB8fCB0eXBlb2YgbWVzc2FnZS50b29sX2NhbGxzID09PSBcInN0cmluZ1wiKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGhhc0ZvbGxvd2luZ1Jlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGV4cGVyaW1lbnRhbF9vbkZ1bmN0aW9uQ2FsbCkge1xuICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbCA9IG1lc3NhZ2UuZnVuY3Rpb25fY2FsbDtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmN0aW9uQ2FsbCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBcImV4cGVyaW1lbnRhbF9vbkZ1bmN0aW9uQ2FsbCBzaG91bGQgbm90IGJlIGRlZmluZWQgd2hlbiB1c2luZyB0b29sc1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbFJlc3BvbnNlID0gYXdhaXQgZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsKFxuICAgICAgICAgICAgZ2V0Q3VycmVudE1lc3NhZ2VzKCksXG4gICAgICAgICAgICBmdW5jdGlvbkNhbGxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChmdW5jdGlvbkNhbGxSZXNwb25zZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBoYXNGb2xsb3dpbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZUNoYXRSZXF1ZXN0KGZ1bmN0aW9uQ2FsbFJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwZXJpbWVudGFsX29uVG9vbENhbGwpIHtcbiAgICAgICAgICBjb25zdCB0b29sQ2FsbHMgPSBtZXNzYWdlLnRvb2xfY2FsbHM7XG4gICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRvb2xDYWxscykgfHwgdG9vbENhbGxzLnNvbWUoKHRvb2xDYWxsKSA9PiB0eXBlb2YgdG9vbENhbGwgIT09IFwib2JqZWN0XCIpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIFwiZXhwZXJpbWVudGFsX29uVG9vbENhbGwgc2hvdWxkIG5vdCBiZSBkZWZpbmVkIHdoZW4gdXNpbmcgdG9vbHNcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB0b29sQ2FsbFJlc3BvbnNlID0gYXdhaXQgZXhwZXJpbWVudGFsX29uVG9vbENhbGwoZ2V0Q3VycmVudE1lc3NhZ2VzKCksIHRvb2xDYWxscyk7XG4gICAgICAgICAgaWYgKHRvb2xDYWxsUmVzcG9uc2UgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaGFzRm9sbG93aW5nUmVzcG9uc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVDaGF0UmVxdWVzdCh0b29sQ2FsbFJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFoYXNGb2xsb3dpbmdSZXNwb25zZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGZpeEZ1bmN0aW9uQ2FsbEFyZ3VtZW50czIgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgcmVzcG9uc2UubWVzc2FnZXMpIHtcbiAgICAgICAgICBpZiAobWVzc2FnZS50b29sX2NhbGxzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9vbENhbGwgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzICYmIHR5cGVvZiB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtZXNzYWdlLmZ1bmN0aW9uX2NhbGwgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgJiYgdHlwZW9mIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzID0gSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBmaXhGdW5jdGlvbkNhbGxBcmd1bWVudHMgPSBmaXhGdW5jdGlvbkNhbGxBcmd1bWVudHMyO1xuICAgICAgY29uc3Qgc3RyZWFtZWRSZXNwb25zZU1lc3NhZ2UgPSBtZXNzYWdlc0FuZERhdGFPckp1c3RNZXNzYWdlO1xuICAgICAgaWYgKChzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZS5mdW5jdGlvbl9jYWxsID09PSB2b2lkIDAgfHwgdHlwZW9mIHN0cmVhbWVkUmVzcG9uc2VNZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPT09IFwic3RyaW5nXCIpICYmIChzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZS50b29sX2NhbGxzID09PSB2b2lkIDAgfHwgdHlwZW9mIHN0cmVhbWVkUmVzcG9uc2VNZXNzYWdlLnRvb2xfY2FsbHMgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGV4cGVyaW1lbnRhbF9vbkZ1bmN0aW9uQ2FsbCkge1xuICAgICAgICBjb25zdCBmdW5jdGlvbkNhbGwgPSBzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZS5mdW5jdGlvbl9jYWxsO1xuICAgICAgICBpZiAoISh0eXBlb2YgZnVuY3Rpb25DYWxsID09PSBcIm9iamVjdFwiKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsIHNob3VsZCBub3QgYmUgZGVmaW5lZCB3aGVuIHVzaW5nIHRvb2xzXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbFJlc3BvbnNlID0gYXdhaXQgZXhwZXJpbWVudGFsX29uRnVuY3Rpb25DYWxsKGdldEN1cnJlbnRNZXNzYWdlcygpLCBmdW5jdGlvbkNhbGwpO1xuICAgICAgICBpZiAoZnVuY3Rpb25DYWxsUmVzcG9uc2UgPT09IHZvaWQgMClcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZml4RnVuY3Rpb25DYWxsQXJndW1lbnRzMihmdW5jdGlvbkNhbGxSZXNwb25zZSk7XG4gICAgICAgIHVwZGF0ZUNoYXRSZXF1ZXN0KGZ1bmN0aW9uQ2FsbFJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHBlcmltZW50YWxfb25Ub29sQ2FsbCkge1xuICAgICAgICBjb25zdCB0b29sQ2FsbHMgPSBzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZS50b29sX2NhbGxzO1xuICAgICAgICBpZiAoISh0eXBlb2YgdG9vbENhbGxzID09PSBcIm9iamVjdFwiKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiZXhwZXJpbWVudGFsX29uVG9vbENhbGwgc2hvdWxkIG5vdCBiZSBkZWZpbmVkIHdoZW4gdXNpbmcgZnVuY3Rpb25zXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xDYWxsUmVzcG9uc2UgPSBhd2FpdCBleHBlcmltZW50YWxfb25Ub29sQ2FsbChnZXRDdXJyZW50TWVzc2FnZXMoKSwgdG9vbENhbGxzKTtcbiAgICAgICAgaWYgKHRvb2xDYWxsUmVzcG9uc2UgPT09IHZvaWQgMClcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZml4RnVuY3Rpb25DYWxsQXJndW1lbnRzMih0b29sQ2FsbFJlc3BvbnNlKTtcbiAgICAgICAgdXBkYXRlQ2hhdFJlcXVlc3QodG9vbENhbGxSZXNwb25zZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9zY2hlbWEudHNcbmltcG9ydCB7IHZhbGlkYXRvclN5bWJvbCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgem9kVG9Kc29uU2NoZW1hIGZyb20gXCJ6b2QtdG8tanNvbi1zY2hlbWFcIjtcbnZhciBzY2hlbWFTeW1ib2wgPSBTeW1ib2wuZm9yKFwidmVyY2VsLmFpLnNjaGVtYVwiKTtcbmZ1bmN0aW9uIGpzb25TY2hlbWEoanNvblNjaGVtYTIsIHtcbiAgdmFsaWRhdGVcbn0gPSB7fSkge1xuICByZXR1cm4ge1xuICAgIFtzY2hlbWFTeW1ib2xdOiB0cnVlLFxuICAgIF90eXBlOiB2b2lkIDAsXG4gICAgLy8gc2hvdWxkIG5ldmVyIGJlIHVzZWQgZGlyZWN0bHlcbiAgICBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSxcbiAgICBqc29uU2NoZW1hOiBqc29uU2NoZW1hMixcbiAgICB2YWxpZGF0ZVxuICB9O1xufVxuZnVuY3Rpb24gaXNTY2hlbWEodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBzY2hlbWFTeW1ib2wgaW4gdmFsdWUgJiYgdmFsdWVbc2NoZW1hU3ltYm9sXSA9PT0gdHJ1ZSAmJiBcImpzb25TY2hlbWFcIiBpbiB2YWx1ZSAmJiBcInZhbGlkYXRlXCIgaW4gdmFsdWU7XG59XG5mdW5jdGlvbiBhc1NjaGVtYShzY2hlbWEpIHtcbiAgcmV0dXJuIGlzU2NoZW1hKHNjaGVtYSkgPyBzY2hlbWEgOiB6b2RTY2hlbWEoc2NoZW1hKTtcbn1cbmZ1bmN0aW9uIHpvZFNjaGVtYSh6b2RTY2hlbWEyKSB7XG4gIHJldHVybiBqc29uU2NoZW1hKFxuICAgIC8vIHdlIGFzc3VtZSB0aGF0IHpvZFRvSnNvblNjaGVtYSB3aWxsIHJldHVybiBhIHZhbGlkIEpTT05TY2hlbWE3OlxuICAgIHpvZFRvSnNvblNjaGVtYSh6b2RTY2hlbWEyKSxcbiAgICB7XG4gICAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHpvZFNjaGVtYTIuc2FmZVBhcnNlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LmRhdGEgfSA6IHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiByZXN1bHQuZXJyb3IgfTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5leHBvcnQge1xuICBhc1NjaGVtYSxcbiAgY2FsbENoYXRBcGksXG4gIGNhbGxDb21wbGV0aW9uQXBpLFxuICBjcmVhdGVDaHVua0RlY29kZXIsXG4gIGZvcm1hdFN0cmVhbVBhcnQsXG4gIGdlbmVyYXRlSWQsXG4gIGdldFRleHRGcm9tRGF0YVVybCxcbiAgaXNEZWVwRXF1YWxEYXRhLFxuICBqc29uU2NoZW1hLFxuICBwYXJzZVBhcnRpYWxKc29uLFxuICBwYXJzZVN0cmVhbVBhcnQsXG4gIHByb2Nlc3NDaGF0U3RyZWFtLFxuICBwcm9jZXNzRGF0YVByb3RvY29sUmVzcG9uc2UsXG4gIHJlYWREYXRhU3RyZWFtLFxuICB6b2RTY2hlbWFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbImdlbmVyYXRlSWQiLCJnZW5lcmF0ZUlkRnVuY3Rpb24iLCJTZWN1cmVKU09OIiwiZml4SnNvbiIsImlucHV0Iiwic3RhY2siLCJsYXN0VmFsaWRJbmRleCIsImxpdGVyYWxTdGFydCIsInByb2Nlc3NWYWx1ZVN0YXJ0IiwiY2hhciIsImkiLCJzd2FwU3RhdGUiLCJwb3AiLCJwdXNoIiwicHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUiLCJwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlIiwibGVuZ3RoIiwiY3VycmVudFN0YXRlIiwicGFydGlhbExpdGVyYWwiLCJzdWJzdHJpbmciLCJzdGFydHNXaXRoIiwicmVzdWx0Iiwic2xpY2UiLCJzdGF0ZSIsInBhcnNlUGFydGlhbEpzb24iLCJqc29uVGV4dCIsInZhbHVlIiwicGFyc2UiLCJpZ25vcmVkIiwiaWdub3JlZDIiLCJ0ZXh0U3RyZWFtUGFydCIsImNvZGUiLCJuYW1lIiwiRXJyb3IiLCJ0eXBlIiwiZnVuY3Rpb25DYWxsU3RyZWFtUGFydCIsImZ1bmN0aW9uX2NhbGwiLCJhcmd1bWVudHMiLCJkYXRhU3RyZWFtUGFydCIsIkFycmF5IiwiaXNBcnJheSIsImVycm9yU3RyZWFtUGFydCIsImFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0IiwiaWQiLCJyb2xlIiwiY29udGVudCIsImV2ZXJ5IiwiaXRlbSIsInRleHQiLCJhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQiLCJ0aHJlYWRJZCIsIm1lc3NhZ2VJZCIsImRhdGFNZXNzYWdlU3RyZWFtUGFydCIsInRvb2xDYWxsc1N0cmVhbVBhcnQiLCJ0b29sX2NhbGxzIiwic29tZSIsInRjIiwiZnVuY3Rpb24iLCJtZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0IiwidG9vbENhbGxTdHJlYW1QYXJ0IiwidG9vbENhbGxJZCIsInRvb2xOYW1lIiwiYXJncyIsInRvb2xSZXN1bHRTdHJlYW1QYXJ0IiwidG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQiLCJ0b29sQ2FsbERlbHRhU3RyZWFtUGFydCIsImFyZ3NUZXh0RGVsdGEiLCJmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCIsImZpbmlzaFJlYXNvbiIsInVzYWdlIiwicHJvbXB0VG9rZW5zIiwiTnVtYmVyIiwiTmFOIiwiY29tcGxldGlvblRva2VucyIsImZpbmlzaFN0ZXBTdHJlYW1QYXJ0IiwiaXNDb250aW51ZWQiLCJzdHJlYW1QYXJ0cyIsInN0cmVhbVBhcnRzQnlDb2RlIiwiU3RyZWFtU3RyaW5nUHJlZml4ZXMiLCJ2YWxpZENvZGVzIiwibWFwIiwicGFydCIsInBhcnNlU3RyZWFtUGFydCIsImxpbmUiLCJmaXJzdFNlcGFyYXRvckluZGV4IiwiaW5kZXhPZiIsInByZWZpeCIsImluY2x1ZGVzIiwidGV4dFZhbHVlIiwianNvblZhbHVlIiwiSlNPTiIsImZvcm1hdFN0cmVhbVBhcnQiLCJzdHJlYW1QYXJ0IiwiZmluZCIsInN0cmluZ2lmeSIsIk5FV0xJTkUiLCJjaGFyQ29kZUF0IiwiY29uY2F0Q2h1bmtzIiwiY2h1bmtzIiwidG90YWxMZW5ndGgiLCJjb25jYXRlbmF0ZWRDaHVua3MiLCJVaW50OEFycmF5Iiwib2Zmc2V0IiwiY2h1bmsiLCJzZXQiLCJyZWFkRGF0YVN0cmVhbSIsInJlYWRlciIsImlzQWJvcnRlZCIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsInJlYWQiLCJzdHJlYW1QYXJ0czIiLCJkZWNvZGUiLCJzdHJlYW0iLCJzcGxpdCIsImZpbHRlciIsImNhbmNlbCIsImFzc2lnbkFubm90YXRpb25zVG9NZXNzYWdlIiwibWVzc2FnZSIsImFubm90YXRpb25zIiwicHJvY2Vzc0RhdGFQcm90b2NvbFJlc3BvbnNlIiwiYWJvcnRDb250cm9sbGVyUmVmIiwidXBkYXRlIiwib25Ub29sQ2FsbCIsIm9uRmluaXNoIiwiZ2VuZXJhdGVJZDIiLCJnZXRDdXJyZW50RGF0ZSIsIkRhdGUiLCJfYSIsImNyZWF0ZWRBdCIsInByZWZpeE1hcCIsIm5leHRQcmVmaXhNYXAiLCJwcmV2aW91c01lc3NhZ2VzIiwiZGF0YSIsIm1lc3NhZ2VBbm5vdGF0aW9ucyIsInBhcnRpYWxUb29sQ2FsbHMiLCJ0b3RhbFRva2VucyIsImN1cnJlbnQiLCJ0b29sSW52b2NhdGlvbnMiLCJwcmVmaXhNYXBJbmRleCIsInBhcnRpYWxUb29sQ2FsbCIsInBhcnRpYWxBcmdzIiwiaW50ZXJuYWxVcGRhdGVJZCIsInRvb2xDYWxsIiwidG9vbEludm9jYXRpb25JbmRleCIsImZpbmRJbmRleCIsImludm9jYXRpb24iLCJmdW5jdGlvbkNhbGxNZXNzYWdlIiwidG9vbENhbGxNZXNzYWdlIiwicmVzcG9uc2VNZXNzYWdlIiwibWVyZ2VkIiwiQm9vbGVhbiIsIm1lc3NhZ2VzIiwiZ2V0T3JpZ2luYWxGZXRjaCIsImZldGNoIiwiY2FsbENoYXRBcGkiLCJhcGkiLCJib2R5Iiwic3RyZWFtUHJvdG9jb2wiLCJjcmVkZW50aWFscyIsImhlYWRlcnMiLCJhYm9ydENvbnRyb2xsZXIiLCJyZXN0b3JlTWVzc2FnZXNPbkZhaWx1cmUiLCJvblJlc3BvbnNlIiwib25VcGRhdGUiLCJmZXRjaDIiLCJfYiIsInJlc3BvbnNlIiwibWV0aG9kIiwic2lnbmFsIiwiY2F0Y2giLCJlcnIiLCJvayIsImdldFJlYWRlciIsImNyZWF0ZUNodW5rRGVjb2RlciIsInJlc3VsdE1lc3NhZ2UiLCJkb25lIiwiZXhoYXVzdGl2ZUNoZWNrIiwiZ2V0T3JpZ2luYWxGZXRjaDIiLCJjYWxsQ29tcGxldGlvbkFwaSIsInByb21wdCIsInNldENvbXBsZXRpb24iLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJzZXRBYm9ydENvbnRyb2xsZXIiLCJvbkVycm9yIiwib25EYXRhIiwiQWJvcnRDb250cm9sbGVyIiwicmVzIiwiY29tcGxleCIsImRlY29kZWQiLCJnZXRUZXh0RnJvbURhdGFVcmwiLCJkYXRhVXJsIiwiaGVhZGVyIiwiYmFzZTY0Q29udGVudCIsIm1pbWVUeXBlIiwid2luZG93IiwiYXRvYiIsImVycm9yIiwiaXNEZWVwRXF1YWxEYXRhIiwib2JqMSIsIm9iajIiLCJjb25zdHJ1Y3RvciIsImdldFRpbWUiLCJrZXlzMSIsIk9iamVjdCIsImtleXMiLCJrZXlzMiIsImtleSIsInByb2Nlc3NDaGF0U3RyZWFtIiwiZ2V0U3RyZWFtZWRSZXNwb25zZSIsImV4cGVyaW1lbnRhbF9vbkZ1bmN0aW9uQ2FsbCIsImV4cGVyaW1lbnRhbF9vblRvb2xDYWxsIiwidXBkYXRlQ2hhdFJlcXVlc3QiLCJnZXRDdXJyZW50TWVzc2FnZXMiLCJtZXNzYWdlc0FuZERhdGFPckp1c3RNZXNzYWdlIiwiaGFzRm9sbG93aW5nUmVzcG9uc2UiLCJmdW5jdGlvbkNhbGwiLCJjb25zb2xlIiwid2FybiIsImZ1bmN0aW9uQ2FsbFJlc3BvbnNlIiwidG9vbENhbGxzIiwidG9vbENhbGxSZXNwb25zZSIsImZpeEZ1bmN0aW9uQ2FsbEFyZ3VtZW50czIiLCJmaXhGdW5jdGlvbkNhbGxBcmd1bWVudHMiLCJzdHJlYW1lZFJlc3BvbnNlTWVzc2FnZSIsInZhbGlkYXRvclN5bWJvbCIsInpvZFRvSnNvblNjaGVtYSIsInNjaGVtYVN5bWJvbCIsIlN5bWJvbCIsImZvciIsImpzb25TY2hlbWEiLCJqc29uU2NoZW1hMiIsInZhbGlkYXRlIiwiX3R5cGUiLCJpc1NjaGVtYSIsImFzU2NoZW1hIiwic2NoZW1hIiwiem9kU2NoZW1hIiwiem9kU2NoZW1hMiIsInNhZmVQYXJzZSIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@ai-sdk+ui-utils@0.0.50_zod@3.25.76/node_modules/@ai-sdk/ui-utils/dist/index.mjs\n");

/***/ })

};
;