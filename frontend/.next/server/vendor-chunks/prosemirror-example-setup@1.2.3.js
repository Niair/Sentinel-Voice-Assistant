"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/prosemirror-example-setup@1.2.3";
exports.ids = ["vendor-chunks/prosemirror-example-setup@1.2.3"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/prosemirror-example-setup@1.2.3/node_modules/prosemirror-example-setup/dist/index.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/prosemirror-example-setup@1.2.3/node_modules/prosemirror-example-setup/dist/index.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildInputRules: () => (/* binding */ buildInputRules),\n/* harmony export */   buildKeymap: () => (/* binding */ buildKeymap),\n/* harmony export */   buildMenuItems: () => (/* binding */ buildMenuItems),\n/* harmony export */   exampleSetup: () => (/* binding */ exampleSetup)\n/* harmony export */ });\n/* harmony import */ var prosemirror_keymap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prosemirror-keymap */ \"(ssr)/./node_modules/.pnpm/prosemirror-keymap@1.2.3/node_modules/prosemirror-keymap/dist/index.js\");\n/* harmony import */ var prosemirror_history__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prosemirror-history */ \"(ssr)/./node_modules/.pnpm/prosemirror-history@1.5.0/node_modules/prosemirror-history/dist/index.js\");\n/* harmony import */ var prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prosemirror-commands */ \"(ssr)/./node_modules/.pnpm/prosemirror-commands@1.7.1/node_modules/prosemirror-commands/dist/index.js\");\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prosemirror-state */ \"(ssr)/./node_modules/.pnpm/prosemirror-state@1.4.4/node_modules/prosemirror-state/dist/index.js\");\n/* harmony import */ var prosemirror_dropcursor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prosemirror-dropcursor */ \"(ssr)/./node_modules/.pnpm/prosemirror-dropcursor@1.8.2/node_modules/prosemirror-dropcursor/dist/index.js\");\n/* harmony import */ var prosemirror_gapcursor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prosemirror-gapcursor */ \"(ssr)/./node_modules/.pnpm/prosemirror-gapcursor@1.4.0/node_modules/prosemirror-gapcursor/dist/index.js\");\n/* harmony import */ var prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-menu */ \"(ssr)/./node_modules/.pnpm/prosemirror-menu@1.2.5/node_modules/prosemirror-menu/dist/index.js\");\n/* harmony import */ var prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prosemirror-schema-list */ \"(ssr)/./node_modules/.pnpm/prosemirror-schema-list@1.5.1/node_modules/prosemirror-schema-list/dist/index.js\");\n/* harmony import */ var prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prosemirror-inputrules */ \"(ssr)/./node_modules/.pnpm/prosemirror-inputrules@1.5.1/node_modules/prosemirror-inputrules/dist/index.js\");\n\n\n\n\n\n\n\n\n\nconst prefix = \"ProseMirror-prompt\";\nfunction openPrompt(options) {\n    let wrapper = document.body.appendChild(document.createElement(\"div\"));\n    wrapper.className = prefix;\n    let mouseOutside = (e)=>{\n        if (!wrapper.contains(e.target)) close();\n    };\n    setTimeout(()=>window.addEventListener(\"mousedown\", mouseOutside), 50);\n    let close = ()=>{\n        window.removeEventListener(\"mousedown\", mouseOutside);\n        if (wrapper.parentNode) wrapper.parentNode.removeChild(wrapper);\n    };\n    let domFields = [];\n    for(let name in options.fields)domFields.push(options.fields[name].render());\n    let submitButton = document.createElement(\"button\");\n    submitButton.type = \"submit\";\n    submitButton.className = prefix + \"-submit\";\n    submitButton.textContent = \"OK\";\n    let cancelButton = document.createElement(\"button\");\n    cancelButton.type = \"button\";\n    cancelButton.className = prefix + \"-cancel\";\n    cancelButton.textContent = \"Cancel\";\n    cancelButton.addEventListener(\"click\", close);\n    let form = wrapper.appendChild(document.createElement(\"form\"));\n    if (options.title) form.appendChild(document.createElement(\"h5\")).textContent = options.title;\n    domFields.forEach((field)=>{\n        form.appendChild(document.createElement(\"div\")).appendChild(field);\n    });\n    let buttons = form.appendChild(document.createElement(\"div\"));\n    buttons.className = prefix + \"-buttons\";\n    buttons.appendChild(submitButton);\n    buttons.appendChild(document.createTextNode(\" \"));\n    buttons.appendChild(cancelButton);\n    let box = wrapper.getBoundingClientRect();\n    wrapper.style.top = (window.innerHeight - box.height) / 2 + \"px\";\n    wrapper.style.left = (window.innerWidth - box.width) / 2 + \"px\";\n    let submit = ()=>{\n        let params = getValues(options.fields, domFields);\n        if (params) {\n            close();\n            options.callback(params);\n        }\n    };\n    form.addEventListener(\"submit\", (e)=>{\n        e.preventDefault();\n        submit();\n    });\n    form.addEventListener(\"keydown\", (e)=>{\n        if (e.keyCode == 27) {\n            e.preventDefault();\n            close();\n        } else if (e.keyCode == 13 && !(e.ctrlKey || e.metaKey || e.shiftKey)) {\n            e.preventDefault();\n            submit();\n        } else if (e.keyCode == 9) {\n            window.setTimeout(()=>{\n                if (!wrapper.contains(document.activeElement)) close();\n            }, 500);\n        }\n    });\n    let input = form.elements[0];\n    if (input) input.focus();\n}\nfunction getValues(fields, domFields) {\n    let result = Object.create(null), i = 0;\n    for(let name in fields){\n        let field = fields[name], dom = domFields[i++];\n        let value = field.read(dom), bad = field.validate(value);\n        if (bad) {\n            reportInvalid(dom, bad);\n            return null;\n        }\n        result[name] = field.clean(value);\n    }\n    return result;\n}\nfunction reportInvalid(dom, message) {\n    // FIXME this is awful and needs a lot more work\n    let parent = dom.parentNode;\n    let msg = parent.appendChild(document.createElement(\"div\"));\n    msg.style.left = dom.offsetLeft + dom.offsetWidth + 2 + \"px\";\n    msg.style.top = dom.offsetTop - 5 + \"px\";\n    msg.className = \"ProseMirror-invalid\";\n    msg.textContent = message;\n    setTimeout(()=>parent.removeChild(msg), 1500);\n}\n/**\nThe type of field that `openPrompt` expects to be passed to it.\n*/ class Field {\n    /**\n    Create a field with the given options. Options support by all\n    field types are:\n    */ constructor(/**\n    @internal\n    */ options){\n        this.options = options;\n    }\n    /**\n    Read the field's value from its DOM node.\n    */ read(dom) {\n        return dom.value;\n    }\n    /**\n    A field-type-specific validation function.\n    */ validateType(value) {\n        return null;\n    }\n    /**\n    @internal\n    */ validate(value) {\n        if (!value && this.options.required) return \"Required field\";\n        return this.validateType(value) || (this.options.validate ? this.options.validate(value) : null);\n    }\n    clean(value) {\n        return this.options.clean ? this.options.clean(value) : value;\n    }\n}\n/**\nA field class for single-line text fields.\n*/ class TextField extends Field {\n    render() {\n        let input = document.createElement(\"input\");\n        input.type = \"text\";\n        input.placeholder = this.options.label;\n        input.value = this.options.value || \"\";\n        input.autocomplete = \"off\";\n        return input;\n    }\n}\n// Helpers to create specific types of items\nfunction canInsert(state, nodeType) {\n    let $from = state.selection.$from;\n    for(let d = $from.depth; d >= 0; d--){\n        let index = $from.index(d);\n        if ($from.node(d).canReplaceWith(index, index, nodeType)) return true;\n    }\n    return false;\n}\nfunction insertImageItem(nodeType) {\n    return new prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.MenuItem({\n        title: \"Insert image\",\n        label: \"Image\",\n        enable (state) {\n            return canInsert(state, nodeType);\n        },\n        run (state, _, view) {\n            let { from, to } = state.selection, attrs = null;\n            if (state.selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.NodeSelection && state.selection.node.type == nodeType) attrs = state.selection.node.attrs;\n            openPrompt({\n                title: \"Insert image\",\n                fields: {\n                    src: new TextField({\n                        label: \"Location\",\n                        required: true,\n                        value: attrs && attrs.src\n                    }),\n                    title: new TextField({\n                        label: \"Title\",\n                        value: attrs && attrs.title\n                    }),\n                    alt: new TextField({\n                        label: \"Description\",\n                        value: attrs ? attrs.alt : state.doc.textBetween(from, to, \" \")\n                    })\n                },\n                callback (attrs) {\n                    view.dispatch(view.state.tr.replaceSelectionWith(nodeType.createAndFill(attrs)));\n                    view.focus();\n                }\n            });\n        }\n    });\n}\nfunction cmdItem(cmd, options) {\n    let passedOptions = {\n        label: options.title,\n        run: cmd\n    };\n    for(let prop in options)passedOptions[prop] = options[prop];\n    if (!options.enable && !options.select) passedOptions[options.enable ? \"enable\" : \"select\"] = (state)=>cmd(state);\n    return new prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.MenuItem(passedOptions);\n}\nfunction markActive(state, type) {\n    let { from, $from, to, empty } = state.selection;\n    if (empty) return !!type.isInSet(state.storedMarks || $from.marks());\n    else return state.doc.rangeHasMark(from, to, type);\n}\nfunction markItem(markType, options) {\n    let passedOptions = {\n        active (state) {\n            return markActive(state, markType);\n        }\n    };\n    for(let prop in options)passedOptions[prop] = options[prop];\n    return cmdItem((0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.toggleMark)(markType), passedOptions);\n}\nfunction linkItem(markType) {\n    return new prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.MenuItem({\n        title: \"Add or remove link\",\n        icon: prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.icons.link,\n        active (state) {\n            return markActive(state, markType);\n        },\n        enable (state) {\n            return !state.selection.empty;\n        },\n        run (state, dispatch, view) {\n            if (markActive(state, markType)) {\n                (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.toggleMark)(markType)(state, dispatch);\n                return true;\n            }\n            openPrompt({\n                title: \"Create a link\",\n                fields: {\n                    href: new TextField({\n                        label: \"Link target\",\n                        required: true\n                    }),\n                    title: new TextField({\n                        label: \"Title\"\n                    })\n                },\n                callback (attrs) {\n                    (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.toggleMark)(markType, attrs)(view.state, view.dispatch);\n                    view.focus();\n                }\n            });\n        }\n    });\n}\nfunction wrapListItem(nodeType, options) {\n    return cmdItem((0,prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_3__.wrapInList)(nodeType, options.attrs), options);\n}\n/**\nGiven a schema, look for default mark and node types in it and\nreturn an object with relevant menu items relating to those marks.\n*/ function buildMenuItems(schema) {\n    let r = {};\n    let mark;\n    if (mark = schema.marks.strong) r.toggleStrong = markItem(mark, {\n        title: \"Toggle strong style\",\n        icon: prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.icons.strong\n    });\n    if (mark = schema.marks.em) r.toggleEm = markItem(mark, {\n        title: \"Toggle emphasis\",\n        icon: prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.icons.em\n    });\n    if (mark = schema.marks.code) r.toggleCode = markItem(mark, {\n        title: \"Toggle code font\",\n        icon: prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.icons.code\n    });\n    if (mark = schema.marks.link) r.toggleLink = linkItem(mark);\n    let node;\n    if (node = schema.nodes.image) r.insertImage = insertImageItem(node);\n    if (node = schema.nodes.bullet_list) r.wrapBulletList = wrapListItem(node, {\n        title: \"Wrap in bullet list\",\n        icon: prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.icons.bulletList\n    });\n    if (node = schema.nodes.ordered_list) r.wrapOrderedList = wrapListItem(node, {\n        title: \"Wrap in ordered list\",\n        icon: prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.icons.orderedList\n    });\n    if (node = schema.nodes.blockquote) r.wrapBlockQuote = (0,prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.wrapItem)(node, {\n        title: \"Wrap in block quote\",\n        icon: prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.icons.blockquote\n    });\n    if (node = schema.nodes.paragraph) r.makeParagraph = (0,prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.blockTypeItem)(node, {\n        title: \"Change to paragraph\",\n        label: \"Plain\"\n    });\n    if (node = schema.nodes.code_block) r.makeCodeBlock = (0,prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.blockTypeItem)(node, {\n        title: \"Change to code block\",\n        label: \"Code\"\n    });\n    if (node = schema.nodes.heading) for(let i = 1; i <= 10; i++)r[\"makeHead\" + i] = (0,prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.blockTypeItem)(node, {\n        title: \"Change to heading \" + i,\n        label: \"Level \" + i,\n        attrs: {\n            level: i\n        }\n    });\n    if (node = schema.nodes.horizontal_rule) {\n        let hr = node;\n        r.insertHorizontalRule = new prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.MenuItem({\n            title: \"Insert horizontal rule\",\n            label: \"Horizontal rule\",\n            enable (state) {\n                return canInsert(state, hr);\n            },\n            run (state, dispatch) {\n                dispatch(state.tr.replaceSelectionWith(hr.create()));\n            }\n        });\n    }\n    let cut = (arr)=>arr.filter((x)=>x);\n    r.insertMenu = new prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.Dropdown(cut([\n        r.insertImage,\n        r.insertHorizontalRule\n    ]), {\n        label: \"Insert\"\n    });\n    r.typeMenu = new prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.Dropdown(cut([\n        r.makeParagraph,\n        r.makeCodeBlock,\n        r.makeHead1 && new prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.DropdownSubmenu(cut([\n            r.makeHead1,\n            r.makeHead2,\n            r.makeHead3,\n            r.makeHead4,\n            r.makeHead5,\n            r.makeHead6\n        ]), {\n            label: \"Heading\"\n        })\n    ]), {\n        label: \"Type...\"\n    });\n    r.inlineMenu = [\n        cut([\n            r.toggleStrong,\n            r.toggleEm,\n            r.toggleCode,\n            r.toggleLink\n        ])\n    ];\n    r.blockMenu = [\n        cut([\n            r.wrapBulletList,\n            r.wrapOrderedList,\n            r.wrapBlockQuote,\n            prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.joinUpItem,\n            prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.liftItem,\n            prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.selectParentNodeItem\n        ])\n    ];\n    r.fullMenu = r.inlineMenu.concat([\n        [\n            r.insertMenu,\n            r.typeMenu\n        ]\n    ], [\n        [\n            prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.undoItem,\n            prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.redoItem\n        ]\n    ], r.blockMenu);\n    return r;\n}\nconst mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform) : false;\n/**\nInspect the given schema looking for marks and nodes from the\nbasic schema, and if found, add key bindings related to them.\nThis will add:\n\n* **Mod-b** for toggling [strong](https://prosemirror.net/docs/ref/#schema-basic.StrongMark)\n* **Mod-i** for toggling [emphasis](https://prosemirror.net/docs/ref/#schema-basic.EmMark)\n* **Mod-`** for toggling [code font](https://prosemirror.net/docs/ref/#schema-basic.CodeMark)\n* **Ctrl-Shift-0** for making the current textblock a paragraph\n* **Ctrl-Shift-1** to **Ctrl-Shift-Digit6** for making the current\n  textblock a heading of the corresponding level\n* **Ctrl-Shift-Backslash** to make the current textblock a code block\n* **Ctrl-Shift-8** to wrap the selection in an ordered list\n* **Ctrl-Shift-9** to wrap the selection in a bullet list\n* **Ctrl->** to wrap the selection in a block quote\n* **Enter** to split a non-empty textblock in a list item while at\n  the same time splitting the list item\n* **Mod-Enter** to insert a hard break\n* **Mod-_** to insert a horizontal rule\n* **Backspace** to undo an input rule\n* **Alt-ArrowUp** to `joinUp`\n* **Alt-ArrowDown** to `joinDown`\n* **Mod-BracketLeft** to `lift`\n* **Escape** to `selectParentNode`\n\nYou can suppress or map these bindings by passing a `mapKeys`\nargument, which maps key names (say `\"Mod-B\"` to either `false`, to\nremove the binding, or a new key name string.\n*/ function buildKeymap(schema, mapKeys) {\n    let keys = {}, type;\n    function bind(key, cmd) {\n        if (mapKeys) {\n            let mapped = mapKeys[key];\n            if (mapped === false) return;\n            if (mapped) key = mapped;\n        }\n        keys[key] = cmd;\n    }\n    bind(\"Mod-z\", prosemirror_history__WEBPACK_IMPORTED_MODULE_4__.undo);\n    bind(\"Shift-Mod-z\", prosemirror_history__WEBPACK_IMPORTED_MODULE_4__.redo);\n    bind(\"Backspace\", prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__.undoInputRule);\n    if (!mac) bind(\"Mod-y\", prosemirror_history__WEBPACK_IMPORTED_MODULE_4__.redo);\n    bind(\"Alt-ArrowUp\", prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.joinUp);\n    bind(\"Alt-ArrowDown\", prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.joinDown);\n    bind(\"Mod-BracketLeft\", prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.lift);\n    bind(\"Escape\", prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.selectParentNode);\n    if (type = schema.marks.strong) {\n        bind(\"Mod-b\", (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.toggleMark)(type));\n        bind(\"Mod-B\", (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.toggleMark)(type));\n    }\n    if (type = schema.marks.em) {\n        bind(\"Mod-i\", (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.toggleMark)(type));\n        bind(\"Mod-I\", (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.toggleMark)(type));\n    }\n    if (type = schema.marks.code) bind(\"Mod-`\", (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.toggleMark)(type));\n    if (type = schema.nodes.bullet_list) bind(\"Shift-Ctrl-8\", (0,prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_3__.wrapInList)(type));\n    if (type = schema.nodes.ordered_list) bind(\"Shift-Ctrl-9\", (0,prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_3__.wrapInList)(type));\n    if (type = schema.nodes.blockquote) bind(\"Ctrl->\", (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.wrapIn)(type));\n    if (type = schema.nodes.hard_break) {\n        let br = type, cmd = (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.chainCommands)(prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.exitCode, (state, dispatch)=>{\n            if (dispatch) dispatch(state.tr.replaceSelectionWith(br.create()).scrollIntoView());\n            return true;\n        });\n        bind(\"Mod-Enter\", cmd);\n        bind(\"Shift-Enter\", cmd);\n        if (mac) bind(\"Ctrl-Enter\", cmd);\n    }\n    if (type = schema.nodes.list_item) {\n        bind(\"Enter\", (0,prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_3__.splitListItem)(type));\n        bind(\"Mod-[\", (0,prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_3__.liftListItem)(type));\n        bind(\"Mod-]\", (0,prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_3__.sinkListItem)(type));\n    }\n    if (type = schema.nodes.paragraph) bind(\"Shift-Ctrl-0\", (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.setBlockType)(type));\n    if (type = schema.nodes.code_block) bind(\"Shift-Ctrl-\\\\\", (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.setBlockType)(type));\n    if (type = schema.nodes.heading) for(let i = 1; i <= 6; i++)bind(\"Shift-Ctrl-\" + i, (0,prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.setBlockType)(type, {\n        level: i\n    }));\n    if (type = schema.nodes.horizontal_rule) {\n        let hr = type;\n        bind(\"Mod-_\", (state, dispatch)=>{\n            if (dispatch) dispatch(state.tr.replaceSelectionWith(hr.create()).scrollIntoView());\n            return true;\n        });\n    }\n    return keys;\n}\n/**\nGiven a blockquote node type, returns an input rule that turns `\"> \"`\nat the start of a textblock into a blockquote.\n*/ function blockQuoteRule(nodeType) {\n    return (0,prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__.wrappingInputRule)(/^\\s*>\\s$/, nodeType);\n}\n/**\nGiven a list node type, returns an input rule that turns a number\nfollowed by a dot at the start of a textblock into an ordered list.\n*/ function orderedListRule(nodeType) {\n    return (0,prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__.wrappingInputRule)(/^(\\d+)\\.\\s$/, nodeType, (match)=>({\n            order: +match[1]\n        }), (match, node)=>node.childCount + node.attrs.order == +match[1]);\n}\n/**\nGiven a list node type, returns an input rule that turns a bullet\n(dash, plush, or asterisk) at the start of a textblock into a\nbullet list.\n*/ function bulletListRule(nodeType) {\n    return (0,prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__.wrappingInputRule)(/^\\s*([-+*])\\s$/, nodeType);\n}\n/**\nGiven a code block node type, returns an input rule that turns a\ntextblock starting with three backticks into a code block.\n*/ function codeBlockRule(nodeType) {\n    return (0,prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__.textblockTypeInputRule)(/^```$/, nodeType);\n}\n/**\nGiven a node type and a maximum level, creates an input rule that\nturns up to that number of `#` characters followed by a space at\nthe start of a textblock into a heading whose level corresponds to\nthe number of `#` signs.\n*/ function headingRule(nodeType, maxLevel) {\n    return (0,prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__.textblockTypeInputRule)(new RegExp(\"^(#{1,\" + maxLevel + \"})\\\\s$\"), nodeType, (match)=>({\n            level: match[1].length\n        }));\n}\n/**\nA set of input rules for creating the basic block quotes, lists,\ncode blocks, and heading.\n*/ function buildInputRules(schema) {\n    let rules = prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__.smartQuotes.concat(prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__.ellipsis, prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__.emDash), type;\n    if (type = schema.nodes.blockquote) rules.push(blockQuoteRule(type));\n    if (type = schema.nodes.ordered_list) rules.push(orderedListRule(type));\n    if (type = schema.nodes.bullet_list) rules.push(bulletListRule(type));\n    if (type = schema.nodes.code_block) rules.push(codeBlockRule(type));\n    if (type = schema.nodes.heading) rules.push(headingRule(type, 6));\n    return (0,prosemirror_inputrules__WEBPACK_IMPORTED_MODULE_5__.inputRules)({\n        rules\n    });\n}\n/**\nCreate an array of plugins pre-configured for the given schema.\nThe resulting array will include the following plugins:\n\n * Input rules for smart quotes and creating the block types in the\n   schema using markdown conventions (say `\"> \"` to create a\n   blockquote)\n\n * A keymap that defines keys to create and manipulate the nodes in the\n   schema\n\n * A keymap binding the default keys provided by the\n   prosemirror-commands module\n\n * The undo history plugin\n\n * The drop cursor plugin\n\n * The gap cursor plugin\n\n * A custom plugin that adds a `menuContent` prop for the\n   prosemirror-menu wrapper, and a CSS class that enables the\n   additional styling defined in `style/style.css` in this package\n\nProbably only useful for quickly setting up a passable\neditorâ€”you'll need more control over your settings in most\nreal-world situations.\n*/ function exampleSetup(options) {\n    let plugins = [\n        buildInputRules(options.schema),\n        (0,prosemirror_keymap__WEBPACK_IMPORTED_MODULE_6__.keymap)(buildKeymap(options.schema, options.mapKeys)),\n        (0,prosemirror_keymap__WEBPACK_IMPORTED_MODULE_6__.keymap)(prosemirror_commands__WEBPACK_IMPORTED_MODULE_2__.baseKeymap),\n        (0,prosemirror_dropcursor__WEBPACK_IMPORTED_MODULE_7__.dropCursor)(),\n        (0,prosemirror_gapcursor__WEBPACK_IMPORTED_MODULE_8__.gapCursor)()\n    ];\n    if (options.menuBar !== false) plugins.push((0,prosemirror_menu__WEBPACK_IMPORTED_MODULE_0__.menuBar)({\n        floating: options.floatingMenu !== false,\n        content: options.menuContent || buildMenuItems(options.schema).fullMenu\n    }));\n    if (options.history !== false) plugins.push((0,prosemirror_history__WEBPACK_IMPORTED_MODULE_4__.history)());\n    return plugins.concat(new prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.Plugin({\n        props: {\n            attributes: {\n                class: \"ProseMirror-example-setup-style\"\n            }\n        }\n    }));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvc2VtaXJyb3ItZXhhbXBsZS1zZXR1cEAxLjIuMy9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3ItZXhhbXBsZS1zZXR1cC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDYztBQUM2RjtBQUM3RjtBQUNOO0FBQ0Y7QUFDOEg7QUFDaEY7QUFDNkM7QUFFN0ksTUFBTXlDLFNBQVM7QUFDZixTQUFTQyxXQUFXQyxPQUFPO0lBQ3ZCLElBQUlDLFVBQVVDLFNBQVNDLElBQUksQ0FBQ0MsV0FBVyxDQUFDRixTQUFTRyxhQUFhLENBQUM7SUFDL0RKLFFBQVFLLFNBQVMsR0FBR1I7SUFDcEIsSUFBSVMsZUFBZSxDQUFDQztRQUFRLElBQUksQ0FBQ1AsUUFBUVEsUUFBUSxDQUFDRCxFQUFFRSxNQUFNLEdBQ3REQztJQUFTO0lBQ2JDLFdBQVcsSUFBTUMsT0FBT0MsZ0JBQWdCLENBQUMsYUFBYVAsZUFBZTtJQUNyRSxJQUFJSSxRQUFRO1FBQ1JFLE9BQU9FLG1CQUFtQixDQUFDLGFBQWFSO1FBQ3hDLElBQUlOLFFBQVFlLFVBQVUsRUFDbEJmLFFBQVFlLFVBQVUsQ0FBQ0MsV0FBVyxDQUFDaEI7SUFDdkM7SUFDQSxJQUFJaUIsWUFBWSxFQUFFO0lBQ2xCLElBQUssSUFBSUMsUUFBUW5CLFFBQVFvQixNQUFNLENBQzNCRixVQUFVRyxJQUFJLENBQUNyQixRQUFRb0IsTUFBTSxDQUFDRCxLQUFLLENBQUNHLE1BQU07SUFDOUMsSUFBSUMsZUFBZXJCLFNBQVNHLGFBQWEsQ0FBQztJQUMxQ2tCLGFBQWFDLElBQUksR0FBRztJQUNwQkQsYUFBYWpCLFNBQVMsR0FBR1IsU0FBUztJQUNsQ3lCLGFBQWFFLFdBQVcsR0FBRztJQUMzQixJQUFJQyxlQUFleEIsU0FBU0csYUFBYSxDQUFDO0lBQzFDcUIsYUFBYUYsSUFBSSxHQUFHO0lBQ3BCRSxhQUFhcEIsU0FBUyxHQUFHUixTQUFTO0lBQ2xD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LFFBQVEwTSxZQUFZLEtBQUs7UUFDdERDLFNBQVMzTSxRQUFRNE0sV0FBVyxJQUFJL0UsZUFBZTdILFFBQVE4SCxNQUFNLEVBQUU0QyxRQUFRO0lBQUM7SUFDaEYsSUFBSTFLLFFBQVF4QyxPQUFPLEtBQUssT0FDcEJnUCxRQUFRbkwsSUFBSSxDQUFDN0QsNERBQU9BO0lBQ3hCLE9BQU9nUCxRQUFRN0IsTUFBTSxDQUFDLElBQUl2TSxxREFBTUEsQ0FBQztRQUM3QnlPLE9BQU87WUFDSEMsWUFBWTtnQkFBRUMsT0FBTztZQUFrQztRQUMzRDtJQUNKO0FBQ0o7QUFFc0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZW50aW5lbC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm9zZW1pcnJvci1leGFtcGxlLXNldHVwQDEuMi4zL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci1leGFtcGxlLXNldHVwL2Rpc3QvaW5kZXguanM/NTMxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBrZXltYXAgfSBmcm9tICdwcm9zZW1pcnJvci1rZXltYXAnO1xuaW1wb3J0IHsgdW5kbywgcmVkbywgaGlzdG9yeSB9IGZyb20gJ3Byb3NlbWlycm9yLWhpc3RvcnknO1xuaW1wb3J0IHsgdG9nZ2xlTWFyaywgd3JhcEluLCBjaGFpbkNvbW1hbmRzLCBleGl0Q29kZSwgc2V0QmxvY2tUeXBlLCBqb2luVXAsIGpvaW5Eb3duLCBsaWZ0LCBzZWxlY3RQYXJlbnROb2RlLCBiYXNlS2V5bWFwIH0gZnJvbSAncHJvc2VtaXJyb3ItY29tbWFuZHMnO1xuaW1wb3J0IHsgTm9kZVNlbGVjdGlvbiwgUGx1Z2luIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnO1xuaW1wb3J0IHsgZHJvcEN1cnNvciB9IGZyb20gJ3Byb3NlbWlycm9yLWRyb3BjdXJzb3InO1xuaW1wb3J0IHsgZ2FwQ3Vyc29yIH0gZnJvbSAncHJvc2VtaXJyb3ItZ2FwY3Vyc29yJztcbmltcG9ydCB7IGljb25zLCB3cmFwSXRlbSwgYmxvY2tUeXBlSXRlbSwgTWVudUl0ZW0sIERyb3Bkb3duLCBEcm9wZG93blN1Ym1lbnUsIGpvaW5VcEl0ZW0sIGxpZnRJdGVtLCBzZWxlY3RQYXJlbnROb2RlSXRlbSwgdW5kb0l0ZW0sIHJlZG9JdGVtLCBtZW51QmFyIH0gZnJvbSAncHJvc2VtaXJyb3ItbWVudSc7XG5pbXBvcnQgeyB3cmFwSW5MaXN0LCBzcGxpdExpc3RJdGVtLCBsaWZ0TGlzdEl0ZW0sIHNpbmtMaXN0SXRlbSB9IGZyb20gJ3Byb3NlbWlycm9yLXNjaGVtYS1saXN0JztcbmltcG9ydCB7IHVuZG9JbnB1dFJ1bGUsIHNtYXJ0UXVvdGVzLCBlbGxpcHNpcywgZW1EYXNoLCBpbnB1dFJ1bGVzLCB3cmFwcGluZ0lucHV0UnVsZSwgdGV4dGJsb2NrVHlwZUlucHV0UnVsZSB9IGZyb20gJ3Byb3NlbWlycm9yLWlucHV0cnVsZXMnO1xuXG5jb25zdCBwcmVmaXggPSBcIlByb3NlTWlycm9yLXByb21wdFwiO1xuZnVuY3Rpb24gb3BlblByb21wdChvcHRpb25zKSB7XG4gICAgbGV0IHdyYXBwZXIgPSBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gcHJlZml4O1xuICAgIGxldCBtb3VzZU91dHNpZGUgPSAoZSkgPT4geyBpZiAoIXdyYXBwZXIuY29udGFpbnMoZS50YXJnZXQpKVxuICAgICAgICBjbG9zZSgpOyB9O1xuICAgIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbW91c2VPdXRzaWRlKSwgNTApO1xuICAgIGxldCBjbG9zZSA9ICgpID0+IHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbW91c2VPdXRzaWRlKTtcbiAgICAgICAgaWYgKHdyYXBwZXIucGFyZW50Tm9kZSlcbiAgICAgICAgICAgIHdyYXBwZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh3cmFwcGVyKTtcbiAgICB9O1xuICAgIGxldCBkb21GaWVsZHMgPSBbXTtcbiAgICBmb3IgKGxldCBuYW1lIGluIG9wdGlvbnMuZmllbGRzKVxuICAgICAgICBkb21GaWVsZHMucHVzaChvcHRpb25zLmZpZWxkc1tuYW1lXS5yZW5kZXIoKSk7XG4gICAgbGV0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgc3VibWl0QnV0dG9uLnR5cGUgPSBcInN1Ym1pdFwiO1xuICAgIHN1Ym1pdEJ1dHRvbi5jbGFzc05hbWUgPSBwcmVmaXggKyBcIi1zdWJtaXRcIjtcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIk9LXCI7XG4gICAgbGV0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY2FuY2VsQnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xuICAgIGNhbmNlbEJ1dHRvbi5jbGFzc05hbWUgPSBwcmVmaXggKyBcIi1jYW5jZWxcIjtcbiAgICBjYW5jZWxCdXR0b24udGV4dENvbnRlbnQgPSBcIkNhbmNlbFwiO1xuICAgIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2UpO1xuICAgIGxldCBmb3JtID0gd3JhcHBlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKSk7XG4gICAgaWYgKG9wdGlvbnMudGl0bGUpXG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg1XCIpKS50ZXh0Q29udGVudCA9IG9wdGlvbnMudGl0bGU7XG4gICAgZG9tRmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmFwcGVuZENoaWxkKGZpZWxkKTtcbiAgICB9KTtcbiAgICBsZXQgYnV0dG9ucyA9IGZvcm0uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgYnV0dG9ucy5jbGFzc05hbWUgPSBwcmVmaXggKyBcIi1idXR0b25zXCI7XG4gICAgYnV0dG9ucy5hcHBlbmRDaGlsZChzdWJtaXRCdXR0b24pO1xuICAgIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpKTtcbiAgICBidXR0b25zLmFwcGVuZENoaWxkKGNhbmNlbEJ1dHRvbik7XG4gICAgbGV0IGJveCA9IHdyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgd3JhcHBlci5zdHlsZS50b3AgPSAoKHdpbmRvdy5pbm5lckhlaWdodCAtIGJveC5oZWlnaHQpIC8gMikgKyBcInB4XCI7XG4gICAgd3JhcHBlci5zdHlsZS5sZWZ0ID0gKCh3aW5kb3cuaW5uZXJXaWR0aCAtIGJveC53aWR0aCkgLyAyKSArIFwicHhcIjtcbiAgICBsZXQgc3VibWl0ID0gKCkgPT4ge1xuICAgICAgICBsZXQgcGFyYW1zID0gZ2V0VmFsdWVzKG9wdGlvbnMuZmllbGRzLCBkb21GaWVsZHMpO1xuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayhwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc3VibWl0KCk7XG4gICAgfSk7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlID0+IHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gMTMgJiYgIShlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUuc2hpZnRLZXkpKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzdWJtaXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gOSkge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghd3JhcHBlci5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgaW5wdXQgPSBmb3JtLmVsZW1lbnRzWzBdO1xuICAgIGlmIChpbnB1dClcbiAgICAgICAgaW5wdXQuZm9jdXMoKTtcbn1cbmZ1bmN0aW9uIGdldFZhbHVlcyhmaWVsZHMsIGRvbUZpZWxkcykge1xuICAgIGxldCByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpLCBpID0gMDtcbiAgICBmb3IgKGxldCBuYW1lIGluIGZpZWxkcykge1xuICAgICAgICBsZXQgZmllbGQgPSBmaWVsZHNbbmFtZV0sIGRvbSA9IGRvbUZpZWxkc1tpKytdO1xuICAgICAgICBsZXQgdmFsdWUgPSBmaWVsZC5yZWFkKGRvbSksIGJhZCA9IGZpZWxkLnZhbGlkYXRlKHZhbHVlKTtcbiAgICAgICAgaWYgKGJhZCkge1xuICAgICAgICAgICAgcmVwb3J0SW52YWxpZChkb20sIGJhZCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbbmFtZV0gPSBmaWVsZC5jbGVhbih2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiByZXBvcnRJbnZhbGlkKGRvbSwgbWVzc2FnZSkge1xuICAgIC8vIEZJWE1FIHRoaXMgaXMgYXdmdWwgYW5kIG5lZWRzIGEgbG90IG1vcmUgd29ya1xuICAgIGxldCBwYXJlbnQgPSBkb20ucGFyZW50Tm9kZTtcbiAgICBsZXQgbXNnID0gcGFyZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgIG1zZy5zdHlsZS5sZWZ0ID0gKGRvbS5vZmZzZXRMZWZ0ICsgZG9tLm9mZnNldFdpZHRoICsgMikgKyBcInB4XCI7XG4gICAgbXNnLnN0eWxlLnRvcCA9IChkb20ub2Zmc2V0VG9wIC0gNSkgKyBcInB4XCI7XG4gICAgbXNnLmNsYXNzTmFtZSA9IFwiUHJvc2VNaXJyb3ItaW52YWxpZFwiO1xuICAgIG1zZy50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2V0VGltZW91dCgoKSA9PiBwYXJlbnQucmVtb3ZlQ2hpbGQobXNnKSwgMTUwMCk7XG59XG4vKipcblRoZSB0eXBlIG9mIGZpZWxkIHRoYXQgYG9wZW5Qcm9tcHRgIGV4cGVjdHMgdG8gYmUgcGFzc2VkIHRvIGl0LlxuKi9cbmNsYXNzIEZpZWxkIHtcbiAgICAvKipcbiAgICBDcmVhdGUgYSBmaWVsZCB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLiBPcHRpb25zIHN1cHBvcnQgYnkgYWxsXG4gICAgZmllbGQgdHlwZXMgYXJlOlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgIFJlYWQgdGhlIGZpZWxkJ3MgdmFsdWUgZnJvbSBpdHMgRE9NIG5vZGUuXG4gICAgKi9cbiAgICByZWFkKGRvbSkgeyByZXR1cm4gZG9tLnZhbHVlOyB9XG4gICAgLyoqXG4gICAgQSBmaWVsZC10eXBlLXNwZWNpZmljIHZhbGlkYXRpb24gZnVuY3Rpb24uXG4gICAgKi9cbiAgICB2YWxpZGF0ZVR5cGUodmFsdWUpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHZhbGlkYXRlKHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUgJiYgdGhpcy5vcHRpb25zLnJlcXVpcmVkKVxuICAgICAgICAgICAgcmV0dXJuIFwiUmVxdWlyZWQgZmllbGRcIjtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVUeXBlKHZhbHVlKSB8fCAodGhpcy5vcHRpb25zLnZhbGlkYXRlID8gdGhpcy5vcHRpb25zLnZhbGlkYXRlKHZhbHVlKSA6IG51bGwpO1xuICAgIH1cbiAgICBjbGVhbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNsZWFuID8gdGhpcy5vcHRpb25zLmNsZWFuKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cbn1cbi8qKlxuQSBmaWVsZCBjbGFzcyBmb3Igc2luZ2xlLWxpbmUgdGV4dCBmaWVsZHMuXG4qL1xuY2xhc3MgVGV4dEZpZWxkIGV4dGVuZHMgRmllbGQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgbGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5vcHRpb25zLmxhYmVsO1xuICAgICAgICBpbnB1dC52YWx1ZSA9IHRoaXMub3B0aW9ucy52YWx1ZSB8fCBcIlwiO1xuICAgICAgICBpbnB1dC5hdXRvY29tcGxldGUgPSBcIm9mZlwiO1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxufVxuXG4vLyBIZWxwZXJzIHRvIGNyZWF0ZSBzcGVjaWZpYyB0eXBlcyBvZiBpdGVtc1xuZnVuY3Rpb24gY2FuSW5zZXJ0KHN0YXRlLCBub2RlVHlwZSkge1xuICAgIGxldCAkZnJvbSA9IHN0YXRlLnNlbGVjdGlvbi4kZnJvbTtcbiAgICBmb3IgKGxldCBkID0gJGZyb20uZGVwdGg7IGQgPj0gMDsgZC0tKSB7XG4gICAgICAgIGxldCBpbmRleCA9ICRmcm9tLmluZGV4KGQpO1xuICAgICAgICBpZiAoJGZyb20ubm9kZShkKS5jYW5SZXBsYWNlV2l0aChpbmRleCwgaW5kZXgsIG5vZGVUeXBlKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpbnNlcnRJbWFnZUl0ZW0obm9kZVR5cGUpIHtcbiAgICByZXR1cm4gbmV3IE1lbnVJdGVtKHtcbiAgICAgICAgdGl0bGU6IFwiSW5zZXJ0IGltYWdlXCIsXG4gICAgICAgIGxhYmVsOiBcIkltYWdlXCIsXG4gICAgICAgIGVuYWJsZShzdGF0ZSkgeyByZXR1cm4gY2FuSW5zZXJ0KHN0YXRlLCBub2RlVHlwZSk7IH0sXG4gICAgICAgIHJ1bihzdGF0ZSwgXywgdmlldykge1xuICAgICAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHN0YXRlLnNlbGVjdGlvbiwgYXR0cnMgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24gJiYgc3RhdGUuc2VsZWN0aW9uLm5vZGUudHlwZSA9PSBub2RlVHlwZSlcbiAgICAgICAgICAgICAgICBhdHRycyA9IHN0YXRlLnNlbGVjdGlvbi5ub2RlLmF0dHJzO1xuICAgICAgICAgICAgb3BlblByb21wdCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiSW5zZXJ0IGltYWdlXCIsXG4gICAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNyYzogbmV3IFRleHRGaWVsZCh7IGxhYmVsOiBcIkxvY2F0aW9uXCIsIHJlcXVpcmVkOiB0cnVlLCB2YWx1ZTogYXR0cnMgJiYgYXR0cnMuc3JjIH0pLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogbmV3IFRleHRGaWVsZCh7IGxhYmVsOiBcIlRpdGxlXCIsIHZhbHVlOiBhdHRycyAmJiBhdHRycy50aXRsZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgYWx0OiBuZXcgVGV4dEZpZWxkKHsgbGFiZWw6IFwiRGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhdHRycyA/IGF0dHJzLmFsdCA6IHN0YXRlLmRvYy50ZXh0QmV0d2Vlbihmcm9tLCB0bywgXCIgXCIpIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhhdHRycykge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbldpdGgobm9kZVR5cGUuY3JlYXRlQW5kRmlsbChhdHRycykpKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjbWRJdGVtKGNtZCwgb3B0aW9ucykge1xuICAgIGxldCBwYXNzZWRPcHRpb25zID0ge1xuICAgICAgICBsYWJlbDogb3B0aW9ucy50aXRsZSxcbiAgICAgICAgcnVuOiBjbWRcbiAgICB9O1xuICAgIGZvciAobGV0IHByb3AgaW4gb3B0aW9ucylcbiAgICAgICAgcGFzc2VkT3B0aW9uc1twcm9wXSA9IG9wdGlvbnNbcHJvcF07XG4gICAgaWYgKCFvcHRpb25zLmVuYWJsZSAmJiAhb3B0aW9ucy5zZWxlY3QpXG4gICAgICAgIHBhc3NlZE9wdGlvbnNbb3B0aW9ucy5lbmFibGUgPyBcImVuYWJsZVwiIDogXCJzZWxlY3RcIl0gPSBzdGF0ZSA9PiBjbWQoc3RhdGUpO1xuICAgIHJldHVybiBuZXcgTWVudUl0ZW0ocGFzc2VkT3B0aW9ucyk7XG59XG5mdW5jdGlvbiBtYXJrQWN0aXZlKHN0YXRlLCB0eXBlKSB7XG4gICAgbGV0IHsgZnJvbSwgJGZyb20sIHRvLCBlbXB0eSB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIGlmIChlbXB0eSlcbiAgICAgICAgcmV0dXJuICEhdHlwZS5pc0luU2V0KHN0YXRlLnN0b3JlZE1hcmtzIHx8ICRmcm9tLm1hcmtzKCkpO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHN0YXRlLmRvYy5yYW5nZUhhc01hcmsoZnJvbSwgdG8sIHR5cGUpO1xufVxuZnVuY3Rpb24gbWFya0l0ZW0obWFya1R5cGUsIG9wdGlvbnMpIHtcbiAgICBsZXQgcGFzc2VkT3B0aW9ucyA9IHtcbiAgICAgICAgYWN0aXZlKHN0YXRlKSB7IHJldHVybiBtYXJrQWN0aXZlKHN0YXRlLCBtYXJrVHlwZSk7IH1cbiAgICB9O1xuICAgIGZvciAobGV0IHByb3AgaW4gb3B0aW9ucylcbiAgICAgICAgcGFzc2VkT3B0aW9uc1twcm9wXSA9IG9wdGlvbnNbcHJvcF07XG4gICAgcmV0dXJuIGNtZEl0ZW0odG9nZ2xlTWFyayhtYXJrVHlwZSksIHBhc3NlZE9wdGlvbnMpO1xufVxuZnVuY3Rpb24gbGlua0l0ZW0obWFya1R5cGUpIHtcbiAgICByZXR1cm4gbmV3IE1lbnVJdGVtKHtcbiAgICAgICAgdGl0bGU6IFwiQWRkIG9yIHJlbW92ZSBsaW5rXCIsXG4gICAgICAgIGljb246IGljb25zLmxpbmssXG4gICAgICAgIGFjdGl2ZShzdGF0ZSkgeyByZXR1cm4gbWFya0FjdGl2ZShzdGF0ZSwgbWFya1R5cGUpOyB9LFxuICAgICAgICBlbmFibGUoc3RhdGUpIHsgcmV0dXJuICFzdGF0ZS5zZWxlY3Rpb24uZW1wdHk7IH0sXG4gICAgICAgIHJ1bihzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgICAgICAgICAgIGlmIChtYXJrQWN0aXZlKHN0YXRlLCBtYXJrVHlwZSkpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGVNYXJrKG1hcmtUeXBlKShzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3BlblByb21wdCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiQ3JlYXRlIGEgbGlua1wiLFxuICAgICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgICAgICBocmVmOiBuZXcgVGV4dEZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkxpbmsgdGFyZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG5ldyBUZXh0RmllbGQoeyBsYWJlbDogXCJUaXRsZVwiIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhhdHRycykge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVNYXJrKG1hcmtUeXBlLCBhdHRycykodmlldy5zdGF0ZSwgdmlldy5kaXNwYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gd3JhcExpc3RJdGVtKG5vZGVUeXBlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGNtZEl0ZW0od3JhcEluTGlzdChub2RlVHlwZSwgb3B0aW9ucy5hdHRycyksIG9wdGlvbnMpO1xufVxuLyoqXG5HaXZlbiBhIHNjaGVtYSwgbG9vayBmb3IgZGVmYXVsdCBtYXJrIGFuZCBub2RlIHR5cGVzIGluIGl0IGFuZFxucmV0dXJuIGFuIG9iamVjdCB3aXRoIHJlbGV2YW50IG1lbnUgaXRlbXMgcmVsYXRpbmcgdG8gdGhvc2UgbWFya3MuXG4qL1xuZnVuY3Rpb24gYnVpbGRNZW51SXRlbXMoc2NoZW1hKSB7XG4gICAgbGV0IHIgPSB7fTtcbiAgICBsZXQgbWFyaztcbiAgICBpZiAobWFyayA9IHNjaGVtYS5tYXJrcy5zdHJvbmcpXG4gICAgICAgIHIudG9nZ2xlU3Ryb25nID0gbWFya0l0ZW0obWFyaywgeyB0aXRsZTogXCJUb2dnbGUgc3Ryb25nIHN0eWxlXCIsIGljb246IGljb25zLnN0cm9uZyB9KTtcbiAgICBpZiAobWFyayA9IHNjaGVtYS5tYXJrcy5lbSlcbiAgICAgICAgci50b2dnbGVFbSA9IG1hcmtJdGVtKG1hcmssIHsgdGl0bGU6IFwiVG9nZ2xlIGVtcGhhc2lzXCIsIGljb246IGljb25zLmVtIH0pO1xuICAgIGlmIChtYXJrID0gc2NoZW1hLm1hcmtzLmNvZGUpXG4gICAgICAgIHIudG9nZ2xlQ29kZSA9IG1hcmtJdGVtKG1hcmssIHsgdGl0bGU6IFwiVG9nZ2xlIGNvZGUgZm9udFwiLCBpY29uOiBpY29ucy5jb2RlIH0pO1xuICAgIGlmIChtYXJrID0gc2NoZW1hLm1hcmtzLmxpbmspXG4gICAgICAgIHIudG9nZ2xlTGluayA9IGxpbmtJdGVtKG1hcmspO1xuICAgIGxldCBub2RlO1xuICAgIGlmIChub2RlID0gc2NoZW1hLm5vZGVzLmltYWdlKVxuICAgICAgICByLmluc2VydEltYWdlID0gaW5zZXJ0SW1hZ2VJdGVtKG5vZGUpO1xuICAgIGlmIChub2RlID0gc2NoZW1hLm5vZGVzLmJ1bGxldF9saXN0KVxuICAgICAgICByLndyYXBCdWxsZXRMaXN0ID0gd3JhcExpc3RJdGVtKG5vZGUsIHtcbiAgICAgICAgICAgIHRpdGxlOiBcIldyYXAgaW4gYnVsbGV0IGxpc3RcIixcbiAgICAgICAgICAgIGljb246IGljb25zLmJ1bGxldExpc3RcbiAgICAgICAgfSk7XG4gICAgaWYgKG5vZGUgPSBzY2hlbWEubm9kZXMub3JkZXJlZF9saXN0KVxuICAgICAgICByLndyYXBPcmRlcmVkTGlzdCA9IHdyYXBMaXN0SXRlbShub2RlLCB7XG4gICAgICAgICAgICB0aXRsZTogXCJXcmFwIGluIG9yZGVyZWQgbGlzdFwiLFxuICAgICAgICAgICAgaWNvbjogaWNvbnMub3JkZXJlZExpc3RcbiAgICAgICAgfSk7XG4gICAgaWYgKG5vZGUgPSBzY2hlbWEubm9kZXMuYmxvY2txdW90ZSlcbiAgICAgICAgci53cmFwQmxvY2tRdW90ZSA9IHdyYXBJdGVtKG5vZGUsIHtcbiAgICAgICAgICAgIHRpdGxlOiBcIldyYXAgaW4gYmxvY2sgcXVvdGVcIixcbiAgICAgICAgICAgIGljb246IGljb25zLmJsb2NrcXVvdGVcbiAgICAgICAgfSk7XG4gICAgaWYgKG5vZGUgPSBzY2hlbWEubm9kZXMucGFyYWdyYXBoKVxuICAgICAgICByLm1ha2VQYXJhZ3JhcGggPSBibG9ja1R5cGVJdGVtKG5vZGUsIHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkNoYW5nZSB0byBwYXJhZ3JhcGhcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIlBsYWluXCJcbiAgICAgICAgfSk7XG4gICAgaWYgKG5vZGUgPSBzY2hlbWEubm9kZXMuY29kZV9ibG9jaylcbiAgICAgICAgci5tYWtlQ29kZUJsb2NrID0gYmxvY2tUeXBlSXRlbShub2RlLCB7XG4gICAgICAgICAgICB0aXRsZTogXCJDaGFuZ2UgdG8gY29kZSBibG9ja1wiLFxuICAgICAgICAgICAgbGFiZWw6IFwiQ29kZVwiXG4gICAgICAgIH0pO1xuICAgIGlmIChub2RlID0gc2NoZW1hLm5vZGVzLmhlYWRpbmcpXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDEwOyBpKyspXG4gICAgICAgICAgICByW1wibWFrZUhlYWRcIiArIGldID0gYmxvY2tUeXBlSXRlbShub2RlLCB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiQ2hhbmdlIHRvIGhlYWRpbmcgXCIgKyBpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkxldmVsIFwiICsgaSxcbiAgICAgICAgICAgICAgICBhdHRyczogeyBsZXZlbDogaSB9XG4gICAgICAgICAgICB9KTtcbiAgICBpZiAobm9kZSA9IHNjaGVtYS5ub2Rlcy5ob3Jpem9udGFsX3J1bGUpIHtcbiAgICAgICAgbGV0IGhyID0gbm9kZTtcbiAgICAgICAgci5pbnNlcnRIb3Jpem9udGFsUnVsZSA9IG5ldyBNZW51SXRlbSh7XG4gICAgICAgICAgICB0aXRsZTogXCJJbnNlcnQgaG9yaXpvbnRhbCBydWxlXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJIb3Jpem9udGFsIHJ1bGVcIixcbiAgICAgICAgICAgIGVuYWJsZShzdGF0ZSkgeyByZXR1cm4gY2FuSW5zZXJ0KHN0YXRlLCBocik7IH0sXG4gICAgICAgICAgICBydW4oc3RhdGUsIGRpc3BhdGNoKSB7IGRpc3BhdGNoKHN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGhyLmNyZWF0ZSgpKSk7IH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBjdXQgPSAoYXJyKSA9PiBhcnIuZmlsdGVyKHggPT4geCk7XG4gICAgci5pbnNlcnRNZW51ID0gbmV3IERyb3Bkb3duKGN1dChbci5pbnNlcnRJbWFnZSwgci5pbnNlcnRIb3Jpem9udGFsUnVsZV0pLCB7IGxhYmVsOiBcIkluc2VydFwiIH0pO1xuICAgIHIudHlwZU1lbnUgPSBuZXcgRHJvcGRvd24oY3V0KFtyLm1ha2VQYXJhZ3JhcGgsIHIubWFrZUNvZGVCbG9jaywgci5tYWtlSGVhZDEgJiYgbmV3IERyb3Bkb3duU3VibWVudShjdXQoW1xuICAgICAgICAgICAgci5tYWtlSGVhZDEsIHIubWFrZUhlYWQyLCByLm1ha2VIZWFkMywgci5tYWtlSGVhZDQsIHIubWFrZUhlYWQ1LCByLm1ha2VIZWFkNlxuICAgICAgICBdKSwgeyBsYWJlbDogXCJIZWFkaW5nXCIgfSldKSwgeyBsYWJlbDogXCJUeXBlLi4uXCIgfSk7XG4gICAgci5pbmxpbmVNZW51ID0gW2N1dChbci50b2dnbGVTdHJvbmcsIHIudG9nZ2xlRW0sIHIudG9nZ2xlQ29kZSwgci50b2dnbGVMaW5rXSldO1xuICAgIHIuYmxvY2tNZW51ID0gW2N1dChbci53cmFwQnVsbGV0TGlzdCwgci53cmFwT3JkZXJlZExpc3QsIHIud3JhcEJsb2NrUXVvdGUsIGpvaW5VcEl0ZW0sXG4gICAgICAgICAgICBsaWZ0SXRlbSwgc2VsZWN0UGFyZW50Tm9kZUl0ZW1dKV07XG4gICAgci5mdWxsTWVudSA9IHIuaW5saW5lTWVudS5jb25jYXQoW1tyLmluc2VydE1lbnUsIHIudHlwZU1lbnVdXSwgW1t1bmRvSXRlbSwgcmVkb0l0ZW1dXSwgci5ibG9ja01lbnUpO1xuICAgIHJldHVybiByO1xufVxuXG5jb25zdCBtYWMgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgPyAvTWFjfGlQKGhvbmV8W29hXWQpLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkgOiBmYWxzZTtcbi8qKlxuSW5zcGVjdCB0aGUgZ2l2ZW4gc2NoZW1hIGxvb2tpbmcgZm9yIG1hcmtzIGFuZCBub2RlcyBmcm9tIHRoZVxuYmFzaWMgc2NoZW1hLCBhbmQgaWYgZm91bmQsIGFkZCBrZXkgYmluZGluZ3MgcmVsYXRlZCB0byB0aGVtLlxuVGhpcyB3aWxsIGFkZDpcblxuKiAqKk1vZC1iKiogZm9yIHRvZ2dsaW5nIFtzdHJvbmddKGh0dHBzOi8vcHJvc2VtaXJyb3IubmV0L2RvY3MvcmVmLyNzY2hlbWEtYmFzaWMuU3Ryb25nTWFyaylcbiogKipNb2QtaSoqIGZvciB0b2dnbGluZyBbZW1waGFzaXNdKGh0dHBzOi8vcHJvc2VtaXJyb3IubmV0L2RvY3MvcmVmLyNzY2hlbWEtYmFzaWMuRW1NYXJrKVxuKiAqKk1vZC1gKiogZm9yIHRvZ2dsaW5nIFtjb2RlIGZvbnRdKGh0dHBzOi8vcHJvc2VtaXJyb3IubmV0L2RvY3MvcmVmLyNzY2hlbWEtYmFzaWMuQ29kZU1hcmspXG4qICoqQ3RybC1TaGlmdC0wKiogZm9yIG1ha2luZyB0aGUgY3VycmVudCB0ZXh0YmxvY2sgYSBwYXJhZ3JhcGhcbiogKipDdHJsLVNoaWZ0LTEqKiB0byAqKkN0cmwtU2hpZnQtRGlnaXQ2KiogZm9yIG1ha2luZyB0aGUgY3VycmVudFxuICB0ZXh0YmxvY2sgYSBoZWFkaW5nIG9mIHRoZSBjb3JyZXNwb25kaW5nIGxldmVsXG4qICoqQ3RybC1TaGlmdC1CYWNrc2xhc2gqKiB0byBtYWtlIHRoZSBjdXJyZW50IHRleHRibG9jayBhIGNvZGUgYmxvY2tcbiogKipDdHJsLVNoaWZ0LTgqKiB0byB3cmFwIHRoZSBzZWxlY3Rpb24gaW4gYW4gb3JkZXJlZCBsaXN0XG4qICoqQ3RybC1TaGlmdC05KiogdG8gd3JhcCB0aGUgc2VsZWN0aW9uIGluIGEgYnVsbGV0IGxpc3RcbiogKipDdHJsLT4qKiB0byB3cmFwIHRoZSBzZWxlY3Rpb24gaW4gYSBibG9jayBxdW90ZVxuKiAqKkVudGVyKiogdG8gc3BsaXQgYSBub24tZW1wdHkgdGV4dGJsb2NrIGluIGEgbGlzdCBpdGVtIHdoaWxlIGF0XG4gIHRoZSBzYW1lIHRpbWUgc3BsaXR0aW5nIHRoZSBsaXN0IGl0ZW1cbiogKipNb2QtRW50ZXIqKiB0byBpbnNlcnQgYSBoYXJkIGJyZWFrXG4qICoqTW9kLV8qKiB0byBpbnNlcnQgYSBob3Jpem9udGFsIHJ1bGVcbiogKipCYWNrc3BhY2UqKiB0byB1bmRvIGFuIGlucHV0IHJ1bGVcbiogKipBbHQtQXJyb3dVcCoqIHRvIGBqb2luVXBgXG4qICoqQWx0LUFycm93RG93bioqIHRvIGBqb2luRG93bmBcbiogKipNb2QtQnJhY2tldExlZnQqKiB0byBgbGlmdGBcbiogKipFc2NhcGUqKiB0byBgc2VsZWN0UGFyZW50Tm9kZWBcblxuWW91IGNhbiBzdXBwcmVzcyBvciBtYXAgdGhlc2UgYmluZGluZ3MgYnkgcGFzc2luZyBhIGBtYXBLZXlzYFxuYXJndW1lbnQsIHdoaWNoIG1hcHMga2V5IG5hbWVzIChzYXkgYFwiTW9kLUJcImAgdG8gZWl0aGVyIGBmYWxzZWAsIHRvXG5yZW1vdmUgdGhlIGJpbmRpbmcsIG9yIGEgbmV3IGtleSBuYW1lIHN0cmluZy5cbiovXG5mdW5jdGlvbiBidWlsZEtleW1hcChzY2hlbWEsIG1hcEtleXMpIHtcbiAgICBsZXQga2V5cyA9IHt9LCB0eXBlO1xuICAgIGZ1bmN0aW9uIGJpbmQoa2V5LCBjbWQpIHtcbiAgICAgICAgaWYgKG1hcEtleXMpIHtcbiAgICAgICAgICAgIGxldCBtYXBwZWQgPSBtYXBLZXlzW2tleV07XG4gICAgICAgICAgICBpZiAobWFwcGVkID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAobWFwcGVkKVxuICAgICAgICAgICAgICAgIGtleSA9IG1hcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBrZXlzW2tleV0gPSBjbWQ7XG4gICAgfVxuICAgIGJpbmQoXCJNb2QtelwiLCB1bmRvKTtcbiAgICBiaW5kKFwiU2hpZnQtTW9kLXpcIiwgcmVkbyk7XG4gICAgYmluZChcIkJhY2tzcGFjZVwiLCB1bmRvSW5wdXRSdWxlKTtcbiAgICBpZiAoIW1hYylcbiAgICAgICAgYmluZChcIk1vZC15XCIsIHJlZG8pO1xuICAgIGJpbmQoXCJBbHQtQXJyb3dVcFwiLCBqb2luVXApO1xuICAgIGJpbmQoXCJBbHQtQXJyb3dEb3duXCIsIGpvaW5Eb3duKTtcbiAgICBiaW5kKFwiTW9kLUJyYWNrZXRMZWZ0XCIsIGxpZnQpO1xuICAgIGJpbmQoXCJFc2NhcGVcIiwgc2VsZWN0UGFyZW50Tm9kZSk7XG4gICAgaWYgKHR5cGUgPSBzY2hlbWEubWFya3Muc3Ryb25nKSB7XG4gICAgICAgIGJpbmQoXCJNb2QtYlwiLCB0b2dnbGVNYXJrKHR5cGUpKTtcbiAgICAgICAgYmluZChcIk1vZC1CXCIsIHRvZ2dsZU1hcmsodHlwZSkpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9IHNjaGVtYS5tYXJrcy5lbSkge1xuICAgICAgICBiaW5kKFwiTW9kLWlcIiwgdG9nZ2xlTWFyayh0eXBlKSk7XG4gICAgICAgIGJpbmQoXCJNb2QtSVwiLCB0b2dnbGVNYXJrKHR5cGUpKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPSBzY2hlbWEubWFya3MuY29kZSlcbiAgICAgICAgYmluZChcIk1vZC1gXCIsIHRvZ2dsZU1hcmsodHlwZSkpO1xuICAgIGlmICh0eXBlID0gc2NoZW1hLm5vZGVzLmJ1bGxldF9saXN0KVxuICAgICAgICBiaW5kKFwiU2hpZnQtQ3RybC04XCIsIHdyYXBJbkxpc3QodHlwZSkpO1xuICAgIGlmICh0eXBlID0gc2NoZW1hLm5vZGVzLm9yZGVyZWRfbGlzdClcbiAgICAgICAgYmluZChcIlNoaWZ0LUN0cmwtOVwiLCB3cmFwSW5MaXN0KHR5cGUpKTtcbiAgICBpZiAodHlwZSA9IHNjaGVtYS5ub2Rlcy5ibG9ja3F1b3RlKVxuICAgICAgICBiaW5kKFwiQ3RybC0+XCIsIHdyYXBJbih0eXBlKSk7XG4gICAgaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuaGFyZF9icmVhaykge1xuICAgICAgICBsZXQgYnIgPSB0eXBlLCBjbWQgPSBjaGFpbkNvbW1hbmRzKGV4aXRDb2RlLCAoc3RhdGUsIGRpc3BhdGNoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGlzcGF0Y2gpXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbldpdGgoYnIuY3JlYXRlKCkpLnNjcm9sbEludG9WaWV3KCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBiaW5kKFwiTW9kLUVudGVyXCIsIGNtZCk7XG4gICAgICAgIGJpbmQoXCJTaGlmdC1FbnRlclwiLCBjbWQpO1xuICAgICAgICBpZiAobWFjKVxuICAgICAgICAgICAgYmluZChcIkN0cmwtRW50ZXJcIiwgY21kKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMubGlzdF9pdGVtKSB7XG4gICAgICAgIGJpbmQoXCJFbnRlclwiLCBzcGxpdExpc3RJdGVtKHR5cGUpKTtcbiAgICAgICAgYmluZChcIk1vZC1bXCIsIGxpZnRMaXN0SXRlbSh0eXBlKSk7XG4gICAgICAgIGJpbmQoXCJNb2QtXVwiLCBzaW5rTGlzdEl0ZW0odHlwZSkpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9IHNjaGVtYS5ub2Rlcy5wYXJhZ3JhcGgpXG4gICAgICAgIGJpbmQoXCJTaGlmdC1DdHJsLTBcIiwgc2V0QmxvY2tUeXBlKHR5cGUpKTtcbiAgICBpZiAodHlwZSA9IHNjaGVtYS5ub2Rlcy5jb2RlX2Jsb2NrKVxuICAgICAgICBiaW5kKFwiU2hpZnQtQ3RybC1cXFxcXCIsIHNldEJsb2NrVHlwZSh0eXBlKSk7XG4gICAgaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuaGVhZGluZylcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gNjsgaSsrKVxuICAgICAgICAgICAgYmluZChcIlNoaWZ0LUN0cmwtXCIgKyBpLCBzZXRCbG9ja1R5cGUodHlwZSwgeyBsZXZlbDogaSB9KSk7XG4gICAgaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuaG9yaXpvbnRhbF9ydWxlKSB7XG4gICAgICAgIGxldCBociA9IHR5cGU7XG4gICAgICAgIGJpbmQoXCJNb2QtX1wiLCAoc3RhdGUsIGRpc3BhdGNoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGlzcGF0Y2gpXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbldpdGgoaHIuY3JlYXRlKCkpLnNjcm9sbEludG9WaWV3KCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn1cblxuLyoqXG5HaXZlbiBhIGJsb2NrcXVvdGUgbm9kZSB0eXBlLCByZXR1cm5zIGFuIGlucHV0IHJ1bGUgdGhhdCB0dXJucyBgXCI+IFwiYFxuYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dGJsb2NrIGludG8gYSBibG9ja3F1b3RlLlxuKi9cbmZ1bmN0aW9uIGJsb2NrUXVvdGVSdWxlKG5vZGVUeXBlKSB7XG4gICAgcmV0dXJuIHdyYXBwaW5nSW5wdXRSdWxlKC9eXFxzKj5cXHMkLywgbm9kZVR5cGUpO1xufVxuLyoqXG5HaXZlbiBhIGxpc3Qgbm9kZSB0eXBlLCByZXR1cm5zIGFuIGlucHV0IHJ1bGUgdGhhdCB0dXJucyBhIG51bWJlclxuZm9sbG93ZWQgYnkgYSBkb3QgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dGJsb2NrIGludG8gYW4gb3JkZXJlZCBsaXN0LlxuKi9cbmZ1bmN0aW9uIG9yZGVyZWRMaXN0UnVsZShub2RlVHlwZSkge1xuICAgIHJldHVybiB3cmFwcGluZ0lucHV0UnVsZSgvXihcXGQrKVxcLlxccyQvLCBub2RlVHlwZSwgbWF0Y2ggPT4gKHsgb3JkZXI6ICttYXRjaFsxXSB9KSwgKG1hdGNoLCBub2RlKSA9PiBub2RlLmNoaWxkQ291bnQgKyBub2RlLmF0dHJzLm9yZGVyID09ICttYXRjaFsxXSk7XG59XG4vKipcbkdpdmVuIGEgbGlzdCBub2RlIHR5cGUsIHJldHVybnMgYW4gaW5wdXQgcnVsZSB0aGF0IHR1cm5zIGEgYnVsbGV0XG4oZGFzaCwgcGx1c2gsIG9yIGFzdGVyaXNrKSBhdCB0aGUgc3RhcnQgb2YgYSB0ZXh0YmxvY2sgaW50byBhXG5idWxsZXQgbGlzdC5cbiovXG5mdW5jdGlvbiBidWxsZXRMaXN0UnVsZShub2RlVHlwZSkge1xuICAgIHJldHVybiB3cmFwcGluZ0lucHV0UnVsZSgvXlxccyooWy0rKl0pXFxzJC8sIG5vZGVUeXBlKTtcbn1cbi8qKlxuR2l2ZW4gYSBjb2RlIGJsb2NrIG5vZGUgdHlwZSwgcmV0dXJucyBhbiBpbnB1dCBydWxlIHRoYXQgdHVybnMgYVxudGV4dGJsb2NrIHN0YXJ0aW5nIHdpdGggdGhyZWUgYmFja3RpY2tzIGludG8gYSBjb2RlIGJsb2NrLlxuKi9cbmZ1bmN0aW9uIGNvZGVCbG9ja1J1bGUobm9kZVR5cGUpIHtcbiAgICByZXR1cm4gdGV4dGJsb2NrVHlwZUlucHV0UnVsZSgvXmBgYCQvLCBub2RlVHlwZSk7XG59XG4vKipcbkdpdmVuIGEgbm9kZSB0eXBlIGFuZCBhIG1heGltdW0gbGV2ZWwsIGNyZWF0ZXMgYW4gaW5wdXQgcnVsZSB0aGF0XG50dXJucyB1cCB0byB0aGF0IG51bWJlciBvZiBgI2AgY2hhcmFjdGVycyBmb2xsb3dlZCBieSBhIHNwYWNlIGF0XG50aGUgc3RhcnQgb2YgYSB0ZXh0YmxvY2sgaW50byBhIGhlYWRpbmcgd2hvc2UgbGV2ZWwgY29ycmVzcG9uZHMgdG9cbnRoZSBudW1iZXIgb2YgYCNgIHNpZ25zLlxuKi9cbmZ1bmN0aW9uIGhlYWRpbmdSdWxlKG5vZGVUeXBlLCBtYXhMZXZlbCkge1xuICAgIHJldHVybiB0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlKG5ldyBSZWdFeHAoXCJeKCN7MSxcIiArIG1heExldmVsICsgXCJ9KVxcXFxzJFwiKSwgbm9kZVR5cGUsIG1hdGNoID0+ICh7IGxldmVsOiBtYXRjaFsxXS5sZW5ndGggfSkpO1xufVxuLyoqXG5BIHNldCBvZiBpbnB1dCBydWxlcyBmb3IgY3JlYXRpbmcgdGhlIGJhc2ljIGJsb2NrIHF1b3RlcywgbGlzdHMsXG5jb2RlIGJsb2NrcywgYW5kIGhlYWRpbmcuXG4qL1xuZnVuY3Rpb24gYnVpbGRJbnB1dFJ1bGVzKHNjaGVtYSkge1xuICAgIGxldCBydWxlcyA9IHNtYXJ0UXVvdGVzLmNvbmNhdChlbGxpcHNpcywgZW1EYXNoKSwgdHlwZTtcbiAgICBpZiAodHlwZSA9IHNjaGVtYS5ub2Rlcy5ibG9ja3F1b3RlKVxuICAgICAgICBydWxlcy5wdXNoKGJsb2NrUXVvdGVSdWxlKHR5cGUpKTtcbiAgICBpZiAodHlwZSA9IHNjaGVtYS5ub2Rlcy5vcmRlcmVkX2xpc3QpXG4gICAgICAgIHJ1bGVzLnB1c2gob3JkZXJlZExpc3RSdWxlKHR5cGUpKTtcbiAgICBpZiAodHlwZSA9IHNjaGVtYS5ub2Rlcy5idWxsZXRfbGlzdClcbiAgICAgICAgcnVsZXMucHVzaChidWxsZXRMaXN0UnVsZSh0eXBlKSk7XG4gICAgaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuY29kZV9ibG9jaylcbiAgICAgICAgcnVsZXMucHVzaChjb2RlQmxvY2tSdWxlKHR5cGUpKTtcbiAgICBpZiAodHlwZSA9IHNjaGVtYS5ub2Rlcy5oZWFkaW5nKVxuICAgICAgICBydWxlcy5wdXNoKGhlYWRpbmdSdWxlKHR5cGUsIDYpKTtcbiAgICByZXR1cm4gaW5wdXRSdWxlcyh7IHJ1bGVzIH0pO1xufVxuXG4vKipcbkNyZWF0ZSBhbiBhcnJheSBvZiBwbHVnaW5zIHByZS1jb25maWd1cmVkIGZvciB0aGUgZ2l2ZW4gc2NoZW1hLlxuVGhlIHJlc3VsdGluZyBhcnJheSB3aWxsIGluY2x1ZGUgdGhlIGZvbGxvd2luZyBwbHVnaW5zOlxuXG4gKiBJbnB1dCBydWxlcyBmb3Igc21hcnQgcXVvdGVzIGFuZCBjcmVhdGluZyB0aGUgYmxvY2sgdHlwZXMgaW4gdGhlXG4gICBzY2hlbWEgdXNpbmcgbWFya2Rvd24gY29udmVudGlvbnMgKHNheSBgXCI+IFwiYCB0byBjcmVhdGUgYVxuICAgYmxvY2txdW90ZSlcblxuICogQSBrZXltYXAgdGhhdCBkZWZpbmVzIGtleXMgdG8gY3JlYXRlIGFuZCBtYW5pcHVsYXRlIHRoZSBub2RlcyBpbiB0aGVcbiAgIHNjaGVtYVxuXG4gKiBBIGtleW1hcCBiaW5kaW5nIHRoZSBkZWZhdWx0IGtleXMgcHJvdmlkZWQgYnkgdGhlXG4gICBwcm9zZW1pcnJvci1jb21tYW5kcyBtb2R1bGVcblxuICogVGhlIHVuZG8gaGlzdG9yeSBwbHVnaW5cblxuICogVGhlIGRyb3AgY3Vyc29yIHBsdWdpblxuXG4gKiBUaGUgZ2FwIGN1cnNvciBwbHVnaW5cblxuICogQSBjdXN0b20gcGx1Z2luIHRoYXQgYWRkcyBhIGBtZW51Q29udGVudGAgcHJvcCBmb3IgdGhlXG4gICBwcm9zZW1pcnJvci1tZW51IHdyYXBwZXIsIGFuZCBhIENTUyBjbGFzcyB0aGF0IGVuYWJsZXMgdGhlXG4gICBhZGRpdGlvbmFsIHN0eWxpbmcgZGVmaW5lZCBpbiBgc3R5bGUvc3R5bGUuY3NzYCBpbiB0aGlzIHBhY2thZ2VcblxuUHJvYmFibHkgb25seSB1c2VmdWwgZm9yIHF1aWNrbHkgc2V0dGluZyB1cCBhIHBhc3NhYmxlXG5lZGl0b3LigJR5b3UnbGwgbmVlZCBtb3JlIGNvbnRyb2wgb3ZlciB5b3VyIHNldHRpbmdzIGluIG1vc3RcbnJlYWwtd29ybGQgc2l0dWF0aW9ucy5cbiovXG5mdW5jdGlvbiBleGFtcGxlU2V0dXAob3B0aW9ucykge1xuICAgIGxldCBwbHVnaW5zID0gW1xuICAgICAgICBidWlsZElucHV0UnVsZXMob3B0aW9ucy5zY2hlbWEpLFxuICAgICAgICBrZXltYXAoYnVpbGRLZXltYXAob3B0aW9ucy5zY2hlbWEsIG9wdGlvbnMubWFwS2V5cykpLFxuICAgICAgICBrZXltYXAoYmFzZUtleW1hcCksXG4gICAgICAgIGRyb3BDdXJzb3IoKSxcbiAgICAgICAgZ2FwQ3Vyc29yKClcbiAgICBdO1xuICAgIGlmIChvcHRpb25zLm1lbnVCYXIgIT09IGZhbHNlKVxuICAgICAgICBwbHVnaW5zLnB1c2gobWVudUJhcih7IGZsb2F0aW5nOiBvcHRpb25zLmZsb2F0aW5nTWVudSAhPT0gZmFsc2UsXG4gICAgICAgICAgICBjb250ZW50OiBvcHRpb25zLm1lbnVDb250ZW50IHx8IGJ1aWxkTWVudUl0ZW1zKG9wdGlvbnMuc2NoZW1hKS5mdWxsTWVudSB9KSk7XG4gICAgaWYgKG9wdGlvbnMuaGlzdG9yeSAhPT0gZmFsc2UpXG4gICAgICAgIHBsdWdpbnMucHVzaChoaXN0b3J5KCkpO1xuICAgIHJldHVybiBwbHVnaW5zLmNvbmNhdChuZXcgUGx1Z2luKHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHsgY2xhc3M6IFwiUHJvc2VNaXJyb3ItZXhhbXBsZS1zZXR1cC1zdHlsZVwiIH1cbiAgICAgICAgfVxuICAgIH0pKTtcbn1cblxuZXhwb3J0IHsgYnVpbGRJbnB1dFJ1bGVzLCBidWlsZEtleW1hcCwgYnVpbGRNZW51SXRlbXMsIGV4YW1wbGVTZXR1cCB9O1xuIl0sIm5hbWVzIjpbImtleW1hcCIsInVuZG8iLCJyZWRvIiwiaGlzdG9yeSIsInRvZ2dsZU1hcmsiLCJ3cmFwSW4iLCJjaGFpbkNvbW1hbmRzIiwiZXhpdENvZGUiLCJzZXRCbG9ja1R5cGUiLCJqb2luVXAiLCJqb2luRG93biIsImxpZnQiLCJzZWxlY3RQYXJlbnROb2RlIiwiYmFzZUtleW1hcCIsIk5vZGVTZWxlY3Rpb24iLCJQbHVnaW4iLCJkcm9wQ3Vyc29yIiwiZ2FwQ3Vyc29yIiwiaWNvbnMiLCJ3cmFwSXRlbSIsImJsb2NrVHlwZUl0ZW0iLCJNZW51SXRlbSIsIkRyb3Bkb3duIiwiRHJvcGRvd25TdWJtZW51Iiwiam9pblVwSXRlbSIsImxpZnRJdGVtIiwic2VsZWN0UGFyZW50Tm9kZUl0ZW0iLCJ1bmRvSXRlbSIsInJlZG9JdGVtIiwibWVudUJhciIsIndyYXBJbkxpc3QiLCJzcGxpdExpc3RJdGVtIiwibGlmdExpc3RJdGVtIiwic2lua0xpc3RJdGVtIiwidW5kb0lucHV0UnVsZSIsInNtYXJ0UXVvdGVzIiwiZWxsaXBzaXMiLCJlbURhc2giLCJpbnB1dFJ1bGVzIiwid3JhcHBpbmdJbnB1dFJ1bGUiLCJ0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlIiwicHJlZml4Iiwib3BlblByb21wdCIsIm9wdGlvbnMiLCJ3cmFwcGVyIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwibW91c2VPdXRzaWRlIiwiZSIsImNvbnRhaW5zIiwidGFyZ2V0IiwiY2xvc2UiLCJzZXRUaW1lb3V0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJkb21GaWVsZHMiLCJuYW1lIiwiZmllbGRzIiwicHVzaCIsInJlbmRlciIsInN1Ym1pdEJ1dHRvbiIsInR5cGUiLCJ0ZXh0Q29udGVudCIsImNhbmNlbEJ1dHRvbiIsImZvcm0iLCJ0aXRsZSIsImZvckVhY2giLCJmaWVsZCIsImJ1dHRvbnMiLCJjcmVhdGVUZXh0Tm9kZSIsImJveCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInN0eWxlIiwidG9wIiwiaW5uZXJIZWlnaHQiLCJoZWlnaHQiLCJsZWZ0IiwiaW5uZXJXaWR0aCIsIndpZHRoIiwic3VibWl0IiwicGFyYW1zIiwiZ2V0VmFsdWVzIiwiY2FsbGJhY2siLCJwcmV2ZW50RGVmYXVsdCIsImtleUNvZGUiLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5IiwiYWN0aXZlRWxlbWVudCIsImlucHV0IiwiZWxlbWVudHMiLCJmb2N1cyIsInJlc3VsdCIsIk9iamVjdCIsImNyZWF0ZSIsImkiLCJkb20iLCJ2YWx1ZSIsInJlYWQiLCJiYWQiLCJ2YWxpZGF0ZSIsInJlcG9ydEludmFsaWQiLCJjbGVhbiIsIm1lc3NhZ2UiLCJwYXJlbnQiLCJtc2ciLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRUb3AiLCJGaWVsZCIsImNvbnN0cnVjdG9yIiwidmFsaWRhdGVUeXBlIiwicmVxdWlyZWQiLCJUZXh0RmllbGQiLCJwbGFjZWhvbGRlciIsImxhYmVsIiwiYXV0b2NvbXBsZXRlIiwiY2FuSW5zZXJ0Iiwic3RhdGUiLCJub2RlVHlwZSIsIiRmcm9tIiwic2VsZWN0aW9uIiwiZCIsImRlcHRoIiwiaW5kZXgiLCJub2RlIiwiY2FuUmVwbGFjZVdpdGgiLCJpbnNlcnRJbWFnZUl0ZW0iLCJlbmFibGUiLCJydW4iLCJfIiwidmlldyIsImZyb20iLCJ0byIsImF0dHJzIiwic3JjIiwiYWx0IiwiZG9jIiwidGV4dEJldHdlZW4iLCJkaXNwYXRjaCIsInRyIiwicmVwbGFjZVNlbGVjdGlvbldpdGgiLCJjcmVhdGVBbmRGaWxsIiwiY21kSXRlbSIsImNtZCIsInBhc3NlZE9wdGlvbnMiLCJwcm9wIiwic2VsZWN0IiwibWFya0FjdGl2ZSIsImVtcHR5IiwiaXNJblNldCIsInN0b3JlZE1hcmtzIiwibWFya3MiLCJyYW5nZUhhc01hcmsiLCJtYXJrSXRlbSIsIm1hcmtUeXBlIiwiYWN0aXZlIiwibGlua0l0ZW0iLCJpY29uIiwibGluayIsImhyZWYiLCJ3cmFwTGlzdEl0ZW0iLCJidWlsZE1lbnVJdGVtcyIsInNjaGVtYSIsInIiLCJtYXJrIiwic3Ryb25nIiwidG9nZ2xlU3Ryb25nIiwiZW0iLCJ0b2dnbGVFbSIsImNvZGUiLCJ0b2dnbGVDb2RlIiwidG9nZ2xlTGluayIsIm5vZGVzIiwiaW1hZ2UiLCJpbnNlcnRJbWFnZSIsImJ1bGxldF9saXN0Iiwid3JhcEJ1bGxldExpc3QiLCJidWxsZXRMaXN0Iiwib3JkZXJlZF9saXN0Iiwid3JhcE9yZGVyZWRMaXN0Iiwib3JkZXJlZExpc3QiLCJibG9ja3F1b3RlIiwid3JhcEJsb2NrUXVvdGUiLCJwYXJhZ3JhcGgiLCJtYWtlUGFyYWdyYXBoIiwiY29kZV9ibG9jayIsIm1ha2VDb2RlQmxvY2siLCJoZWFkaW5nIiwibGV2ZWwiLCJob3Jpem9udGFsX3J1bGUiLCJociIsImluc2VydEhvcml6b250YWxSdWxlIiwiY3V0IiwiYXJyIiwiZmlsdGVyIiwieCIsImluc2VydE1lbnUiLCJ0eXBlTWVudSIsIm1ha2VIZWFkMSIsIm1ha2VIZWFkMiIsIm1ha2VIZWFkMyIsIm1ha2VIZWFkNCIsIm1ha2VIZWFkNSIsIm1ha2VIZWFkNiIsImlubGluZU1lbnUiLCJibG9ja01lbnUiLCJmdWxsTWVudSIsImNvbmNhdCIsIm1hYyIsIm5hdmlnYXRvciIsInRlc3QiLCJwbGF0Zm9ybSIsImJ1aWxkS2V5bWFwIiwibWFwS2V5cyIsImtleXMiLCJiaW5kIiwia2V5IiwibWFwcGVkIiwiaGFyZF9icmVhayIsImJyIiwic2Nyb2xsSW50b1ZpZXciLCJsaXN0X2l0ZW0iLCJibG9ja1F1b3RlUnVsZSIsIm9yZGVyZWRMaXN0UnVsZSIsIm1hdGNoIiwib3JkZXIiLCJjaGlsZENvdW50IiwiYnVsbGV0TGlzdFJ1bGUiLCJjb2RlQmxvY2tSdWxlIiwiaGVhZGluZ1J1bGUiLCJtYXhMZXZlbCIsIlJlZ0V4cCIsImxlbmd0aCIsImJ1aWxkSW5wdXRSdWxlcyIsInJ1bGVzIiwiZXhhbXBsZVNldHVwIiwicGx1Z2lucyIsImZsb2F0aW5nIiwiZmxvYXRpbmdNZW51IiwiY29udGVudCIsIm1lbnVDb250ZW50IiwicHJvcHMiLCJhdHRyaWJ1dGVzIiwiY2xhc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/prosemirror-example-setup@1.2.3/node_modules/prosemirror-example-setup/dist/index.js\n");

/***/ })

};
;